"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/pos/page",{

/***/ "(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/file-text.js":
/*!***************************************************************!*\
  !*** ./node_modules/lucide-react/dist/esm/icons/file-text.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ FileText)\n/* harmony export */ });\n/* harmony import */ var _createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../createLucideIcon.js */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/createLucideIcon.js\");\n/**\n * @license lucide-react v0.441.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */ \nconst FileText = (0,_createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"FileText\", [\n    [\n        \"path\",\n        {\n            d: \"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z\",\n            key: \"1rqfz7\"\n        }\n    ],\n    [\n        \"path\",\n        {\n            d: \"M14 2v4a2 2 0 0 0 2 2h4\",\n            key: \"tnqrlb\"\n        }\n    ],\n    [\n        \"path\",\n        {\n            d: \"M10 9H8\",\n            key: \"b1mrlr\"\n        }\n    ],\n    [\n        \"path\",\n        {\n            d: \"M16 13H8\",\n            key: \"t4e002\"\n        }\n    ],\n    [\n        \"path\",\n        {\n            d: \"M16 17H8\",\n            key: \"z1uh3a\"\n        }\n    ]\n]);\n //# sourceMappingURL=file-text.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9sdWNpZGUtcmVhY3QvZGlzdC9lc20vaWNvbnMvZmlsZS10ZXh0LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBYU0saUJBQVcsZ0VBQWdCLENBQUMsVUFBWTtJQUM1QztRQUFDLE1BQVE7UUFBQTtZQUFFLEdBQUcsQ0FBOEQ7WUFBQSxLQUFLO1FBQUEsQ0FBVTtLQUFBO0lBQzNGO1FBQUMsTUFBUTtRQUFBO1lBQUUsR0FBRyxDQUEyQjtZQUFBLEtBQUs7UUFBQSxDQUFVO0tBQUE7SUFDeEQ7UUFBQyxNQUFRO1FBQUE7WUFBRSxHQUFHLENBQVc7WUFBQSxLQUFLO1FBQUEsQ0FBVTtLQUFBO0lBQ3hDO1FBQUMsTUFBUTtRQUFBO1lBQUUsR0FBRyxDQUFZO1lBQUEsS0FBSztRQUFBLENBQVU7S0FBQTtJQUN6QztRQUFDLE1BQVE7UUFBQTtZQUFFLEdBQUcsQ0FBWTtZQUFBLEtBQUs7UUFBQSxDQUFVO0tBQUE7Q0FDMUMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9jYXJsb3NhbW9yZXMvRG9jdW1lbnRzL1Byb3llY3Rvcy9zcmMvaWNvbnMvZmlsZS10ZXh0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjcmVhdGVMdWNpZGVJY29uIGZyb20gJy4uL2NyZWF0ZUx1Y2lkZUljb24nO1xuXG4vKipcbiAqIEBjb21wb25lbnQgQG5hbWUgRmlsZVRleHRcbiAqIEBkZXNjcmlwdGlvbiBMdWNpZGUgU1ZHIGljb24gY29tcG9uZW50LCByZW5kZXJzIFNWRyBFbGVtZW50IHdpdGggY2hpbGRyZW4uXG4gKlxuICogQHByZXZpZXcgIVtpbWddKGRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QWdlRzFzYm5NOUltaDBkSEE2THk5M2QzY3Vkek11YjNKbkx6SXdNREF2YzNabklnb2dJSGRwWkhSb1BTSXlOQ0lLSUNCb1pXbG5hSFE5SWpJMElnb2dJSFpwWlhkQ2IzZzlJakFnTUNBeU5DQXlOQ0lLSUNCbWFXeHNQU0p1YjI1bElnb2dJSE4wY205clpUMGlJekF3TUNJZ2MzUjViR1U5SW1KaFkydG5jbTkxYm1RdFkyOXNiM0k2SUNObVptWTdJR0p2Y21SbGNpMXlZV1JwZFhNNklESndlQ0lLSUNCemRISnZhMlV0ZDJsa2RHZzlJaklpQ2lBZ2MzUnliMnRsTFd4cGJtVmpZWEE5SW5KdmRXNWtJZ29nSUhOMGNtOXJaUzFzYVc1bGFtOXBiajBpY205MWJtUWlDajRLSUNBOGNHRjBhQ0JrUFNKTk1UVWdNa2cyWVRJZ01pQXdJREFnTUMweUlESjJNVFpoTWlBeUlEQWdNQ0F3SURJZ01tZ3hNbUV5SURJZ01DQXdJREFnTWkweVZqZGFJaUF2UGdvZ0lEeHdZWFJvSUdROUlrMHhOQ0F5ZGpSaE1pQXlJREFnTUNBd0lESWdNbWcwSWlBdlBnb2dJRHh3WVhSb0lHUTlJazB4TUNBNVNEZ2lJQzgrQ2lBZ1BIQmhkR2dnWkQwaVRURTJJREV6U0RnaUlDOCtDaUFnUEhCaGRHZ2daRDBpVFRFMklERTNTRGdpSUM4K0Nqd3ZjM1puUGdvPSkgLSBodHRwczovL2x1Y2lkZS5kZXYvaWNvbnMvZmlsZS10ZXh0XG4gKiBAc2VlIGh0dHBzOi8vbHVjaWRlLmRldi9ndWlkZS9wYWNrYWdlcy9sdWNpZGUtcmVhY3QgLSBEb2N1bWVudGF0aW9uXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHByb3BzIC0gTHVjaWRlIGljb25zIHByb3BzIGFuZCBhbnkgdmFsaWQgU1ZHIGF0dHJpYnV0ZVxuICogQHJldHVybnMge0pTWC5FbGVtZW50fSBKU1ggRWxlbWVudFxuICpcbiAqL1xuY29uc3QgRmlsZVRleHQgPSBjcmVhdGVMdWNpZGVJY29uKCdGaWxlVGV4dCcsIFtcbiAgWydwYXRoJywgeyBkOiAnTTE1IDJINmEyIDIgMCAwIDAtMiAydjE2YTIgMiAwIDAgMCAyIDJoMTJhMiAyIDAgMCAwIDItMlY3WicsIGtleTogJzFycWZ6NycgfV0sXG4gIFsncGF0aCcsIHsgZDogJ00xNCAydjRhMiAyIDAgMCAwIDIgMmg0Jywga2V5OiAndG5xcmxiJyB9XSxcbiAgWydwYXRoJywgeyBkOiAnTTEwIDlIOCcsIGtleTogJ2IxbXJscicgfV0sXG4gIFsncGF0aCcsIHsgZDogJ00xNiAxM0g4Jywga2V5OiAndDRlMDAyJyB9XSxcbiAgWydwYXRoJywgeyBkOiAnTTE2IDE3SDgnLCBrZXk6ICd6MXVoM2EnIH1dLFxuXSk7XG5cbmV4cG9ydCBkZWZhdWx0IEZpbGVUZXh0O1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/file-text.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/user-plus.js":
/*!***************************************************************!*\
  !*** ./node_modules/lucide-react/dist/esm/icons/user-plus.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ UserPlus)\n/* harmony export */ });\n/* harmony import */ var _createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../createLucideIcon.js */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/createLucideIcon.js\");\n/**\n * @license lucide-react v0.441.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */ \nconst UserPlus = (0,_createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"UserPlus\", [\n    [\n        \"path\",\n        {\n            d: \"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2\",\n            key: \"1yyitq\"\n        }\n    ],\n    [\n        \"circle\",\n        {\n            cx: \"9\",\n            cy: \"7\",\n            r: \"4\",\n            key: \"nufk8\"\n        }\n    ],\n    [\n        \"line\",\n        {\n            x1: \"19\",\n            x2: \"19\",\n            y1: \"8\",\n            y2: \"14\",\n            key: \"1bvyxn\"\n        }\n    ],\n    [\n        \"line\",\n        {\n            x1: \"22\",\n            x2: \"16\",\n            y1: \"11\",\n            y2: \"11\",\n            key: \"1shjgl\"\n        }\n    ]\n]);\n //# sourceMappingURL=user-plus.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9sdWNpZGUtcmVhY3QvZGlzdC9lc20vaWNvbnMvdXNlci1wbHVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBYU0saUJBQVcsZ0VBQWdCLENBQUMsVUFBWTtJQUM1QztRQUFDLE1BQVE7UUFBQTtZQUFFLEdBQUcsQ0FBNkM7WUFBQSxLQUFLO1FBQUEsQ0FBVTtLQUFBO0lBQzFFO1FBQUMsUUFBVTtRQUFBO1lBQUUsRUFBSTtZQUFLLENBQUksT0FBSztZQUFBLENBQUc7WUFBSyxHQUFLO1FBQUEsQ0FBUztLQUFBO0lBQ3JEO1FBQUM7UUFBUSxDQUFFO1lBQUEsSUFBSSxDQUFNO1lBQUEsSUFBSSxDQUFNO1lBQUEsR0FBSSxJQUFLO1lBQUEsR0FBSSxLQUFNO1lBQUEsS0FBSztRQUFBLENBQVU7S0FBQTtJQUNqRTtRQUFDO1FBQVEsQ0FBRTtZQUFBLElBQUksQ0FBTTtZQUFBLElBQUksQ0FBTTtZQUFBLEdBQUksS0FBTTtZQUFBLEdBQUksS0FBTTtZQUFBLEtBQUs7UUFBQSxDQUFVO0tBQUE7Q0FDbkUiLCJzb3VyY2VzIjpbIi9Vc2Vycy9jYXJsb3NhbW9yZXMvRG9jdW1lbnRzL1Byb3llY3Rvcy9zcmMvaWNvbnMvdXNlci1wbHVzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjcmVhdGVMdWNpZGVJY29uIGZyb20gJy4uL2NyZWF0ZUx1Y2lkZUljb24nO1xuXG4vKipcbiAqIEBjb21wb25lbnQgQG5hbWUgVXNlclBsdXNcbiAqIEBkZXNjcmlwdGlvbiBMdWNpZGUgU1ZHIGljb24gY29tcG9uZW50LCByZW5kZXJzIFNWRyBFbGVtZW50IHdpdGggY2hpbGRyZW4uXG4gKlxuICogQHByZXZpZXcgIVtpbWddKGRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QWdlRzFzYm5NOUltaDBkSEE2THk5M2QzY3Vkek11YjNKbkx6SXdNREF2YzNabklnb2dJSGRwWkhSb1BTSXlOQ0lLSUNCb1pXbG5hSFE5SWpJMElnb2dJSFpwWlhkQ2IzZzlJakFnTUNBeU5DQXlOQ0lLSUNCbWFXeHNQU0p1YjI1bElnb2dJSE4wY205clpUMGlJekF3TUNJZ2MzUjViR1U5SW1KaFkydG5jbTkxYm1RdFkyOXNiM0k2SUNObVptWTdJR0p2Y21SbGNpMXlZV1JwZFhNNklESndlQ0lLSUNCemRISnZhMlV0ZDJsa2RHZzlJaklpQ2lBZ2MzUnliMnRsTFd4cGJtVmpZWEE5SW5KdmRXNWtJZ29nSUhOMGNtOXJaUzFzYVc1bGFtOXBiajBpY205MWJtUWlDajRLSUNBOGNHRjBhQ0JrUFNKTk1UWWdNakYyTFRKaE5DQTBJREFnTUNBd0xUUXRORWcyWVRRZ05DQXdJREFnTUMwMElEUjJNaUlnTHo0S0lDQThZMmx5WTJ4bElHTjRQU0k1SWlCamVUMGlOeUlnY2owaU5DSWdMejRLSUNBOGJHbHVaU0I0TVQwaU1Ua2lJSGd5UFNJeE9TSWdlVEU5SWpnaUlIa3lQU0l4TkNJZ0x6NEtJQ0E4YkdsdVpTQjRNVDBpTWpJaUlIZ3lQU0l4TmlJZ2VURTlJakV4SWlCNU1qMGlNVEVpSUM4K0Nqd3ZjM1puUGdvPSkgLSBodHRwczovL2x1Y2lkZS5kZXYvaWNvbnMvdXNlci1wbHVzXG4gKiBAc2VlIGh0dHBzOi8vbHVjaWRlLmRldi9ndWlkZS9wYWNrYWdlcy9sdWNpZGUtcmVhY3QgLSBEb2N1bWVudGF0aW9uXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHByb3BzIC0gTHVjaWRlIGljb25zIHByb3BzIGFuZCBhbnkgdmFsaWQgU1ZHIGF0dHJpYnV0ZVxuICogQHJldHVybnMge0pTWC5FbGVtZW50fSBKU1ggRWxlbWVudFxuICpcbiAqL1xuY29uc3QgVXNlclBsdXMgPSBjcmVhdGVMdWNpZGVJY29uKCdVc2VyUGx1cycsIFtcbiAgWydwYXRoJywgeyBkOiAnTTE2IDIxdi0yYTQgNCAwIDAgMC00LTRINmE0IDQgMCAwIDAtNCA0djInLCBrZXk6ICcxeXlpdHEnIH1dLFxuICBbJ2NpcmNsZScsIHsgY3g6ICc5JywgY3k6ICc3JywgcjogJzQnLCBrZXk6ICdudWZrOCcgfV0sXG4gIFsnbGluZScsIHsgeDE6ICcxOScsIHgyOiAnMTknLCB5MTogJzgnLCB5MjogJzE0Jywga2V5OiAnMWJ2eXhuJyB9XSxcbiAgWydsaW5lJywgeyB4MTogJzIyJywgeDI6ICcxNicsIHkxOiAnMTEnLCB5MjogJzExJywga2V5OiAnMXNoamdsJyB9XSxcbl0pO1xuXG5leHBvcnQgZGVmYXVsdCBVc2VyUGx1cztcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/user-plus.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/zap.js":
/*!*********************************************************!*\
  !*** ./node_modules/lucide-react/dist/esm/icons/zap.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Zap)\n/* harmony export */ });\n/* harmony import */ var _createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../createLucideIcon.js */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/createLucideIcon.js\");\n/**\n * @license lucide-react v0.441.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */ \nconst Zap = (0,_createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"Zap\", [\n    [\n        \"path\",\n        {\n            d: \"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z\",\n            key: \"1xq2db\"\n        }\n    ]\n]);\n //# sourceMappingURL=zap.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9sdWNpZGUtcmVhY3QvZGlzdC9lc20vaWNvbnMvemFwLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBYU0sWUFBTSxnRUFBZ0IsQ0FBQyxLQUFPO0lBQ2xDO1FBQ0U7UUFDQTtZQUNFLENBQUc7WUFDSCxHQUFLO1FBQ1A7S0FDRjtDQUNEIiwic291cmNlcyI6WyIvVXNlcnMvY2FybG9zYW1vcmVzL0RvY3VtZW50cy9Qcm95ZWN0b3Mvc3JjL2ljb25zL3phcC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgY3JlYXRlTHVjaWRlSWNvbiBmcm9tICcuLi9jcmVhdGVMdWNpZGVJY29uJztcblxuLyoqXG4gKiBAY29tcG9uZW50IEBuYW1lIFphcFxuICogQGRlc2NyaXB0aW9uIEx1Y2lkZSBTVkcgaWNvbiBjb21wb25lbnQsIHJlbmRlcnMgU1ZHIEVsZW1lbnQgd2l0aCBjaGlsZHJlbi5cbiAqXG4gKiBAcHJldmlldyAhW2ltZ10oZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlBZ2VHMXNibk05SW1oMGRIQTZMeTkzZDNjdWR6TXViM0puTHpJd01EQXZjM1puSWdvZ0lIZHBaSFJvUFNJeU5DSUtJQ0JvWldsbmFIUTlJakkwSWdvZ0lIWnBaWGRDYjNnOUlqQWdNQ0F5TkNBeU5DSUtJQ0JtYVd4c1BTSnViMjVsSWdvZ0lITjBjbTlyWlQwaUl6QXdNQ0lnYzNSNWJHVTlJbUpoWTJ0bmNtOTFibVF0WTI5c2IzSTZJQ05tWm1ZN0lHSnZjbVJsY2kxeVlXUnBkWE02SURKd2VDSUtJQ0J6ZEhKdmEyVXRkMmxrZEdnOUlqSWlDaUFnYzNSeWIydGxMV3hwYm1WallYQTlJbkp2ZFc1a0lnb2dJSE4wY205clpTMXNhVzVsYW05cGJqMGljbTkxYm1RaUNqNEtJQ0E4Y0dGMGFDQmtQU0pOTkNBeE5HRXhJREVnTUNBd0lERXRMamM0TFRFdU5qTnNPUzQ1TFRFd0xqSmhMalV1TlNBd0lEQWdNU0F1T0RZdU5EWnNMVEV1T1RJZ05pNHdNa0V4SURFZ01DQXdJREFnTVRNZ01UQm9OMkV4SURFZ01DQXdJREVnTGpjNElERXVOak5zTFRrdU9TQXhNQzR5WVM0MUxqVWdNQ0F3SURFdExqZzJMUzQwTm13eExqa3lMVFl1TURKQk1TQXhJREFnTUNBd0lERXhJREUwZWlJZ0x6NEtQQzl6ZG1jK0NnPT0pIC0gaHR0cHM6Ly9sdWNpZGUuZGV2L2ljb25zL3phcFxuICogQHNlZSBodHRwczovL2x1Y2lkZS5kZXYvZ3VpZGUvcGFja2FnZXMvbHVjaWRlLXJlYWN0IC0gRG9jdW1lbnRhdGlvblxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wcyAtIEx1Y2lkZSBpY29ucyBwcm9wcyBhbmQgYW55IHZhbGlkIFNWRyBhdHRyaWJ1dGVcbiAqIEByZXR1cm5zIHtKU1guRWxlbWVudH0gSlNYIEVsZW1lbnRcbiAqXG4gKi9cbmNvbnN0IFphcCA9IGNyZWF0ZUx1Y2lkZUljb24oJ1phcCcsIFtcbiAgW1xuICAgICdwYXRoJyxcbiAgICB7XG4gICAgICBkOiAnTTQgMTRhMSAxIDAgMCAxLS43OC0xLjYzbDkuOS0xMC4yYS41LjUgMCAwIDEgLjg2LjQ2bC0xLjkyIDYuMDJBMSAxIDAgMCAwIDEzIDEwaDdhMSAxIDAgMCAxIC43OCAxLjYzbC05LjkgMTAuMmEuNS41IDAgMCAxLS44Ni0uNDZsMS45Mi02LjAyQTEgMSAwIDAgMCAxMSAxNHonLFxuICAgICAga2V5OiAnMXhxMmRiJyxcbiAgICB9LFxuICBdLFxuXSk7XG5cbmV4cG9ydCBkZWZhdWx0IFphcDtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/zap.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/app/pos/page.tsx":
/*!******************************!*\
  !*** ./src/app/pos/page.tsx ***!
  \******************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ PosPage)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var _components_app_shell_wrapper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/components/app-shell-wrapper */ \"(app-pages-browser)/./src/components/app-shell-wrapper.tsx\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var _store_pos_store__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/store/pos-store */ \"(app-pages-browser)/./src/store/pos-store.ts\");\n/* harmony import */ var _lib_use_socket__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/lib/use-socket */ \"(app-pages-browser)/./src/lib/use-socket.ts\");\n/* harmony import */ var _lib_currency__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/lib/currency */ \"(app-pages-browser)/./src/lib/currency.ts\");\n/* harmony import */ var _lib_api__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/lib/api */ \"(app-pages-browser)/./src/lib/api.ts\");\n/* harmony import */ var _lib_print__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/lib/print */ \"(app-pages-browser)/./src/lib/print.ts\");\n/* harmony import */ var _barrel_optimize_names_Banknote_CheckCircle2_ChefHat_CreditCard_DollarSign_FileText_Mic_MicOff_Pause_Percent_Play_Printer_Receipt_Scissors_Search_ShoppingCart_Tag_Trash2_TrendingUp_UserPlus_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! __barrel_optimize__?names=Banknote,CheckCircle2,ChefHat,CreditCard,DollarSign,FileText,Mic,MicOff,Pause,Percent,Play,Printer,Receipt,Scissors,Search,ShoppingCart,Tag,Trash2,TrendingUp,UserPlus,X,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/banknote.js\");\n/* harmony import */ var _barrel_optimize_names_Banknote_CheckCircle2_ChefHat_CreditCard_DollarSign_FileText_Mic_MicOff_Pause_Percent_Play_Printer_Receipt_Scissors_Search_ShoppingCart_Tag_Trash2_TrendingUp_UserPlus_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! __barrel_optimize__?names=Banknote,CheckCircle2,ChefHat,CreditCard,DollarSign,FileText,Mic,MicOff,Pause,Percent,Play,Printer,Receipt,Scissors,Search,ShoppingCart,Tag,Trash2,TrendingUp,UserPlus,X,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/credit-card.js\");\n/* harmony import */ var _barrel_optimize_names_Banknote_CheckCircle2_ChefHat_CreditCard_DollarSign_FileText_Mic_MicOff_Pause_Percent_Play_Printer_Receipt_Scissors_Search_ShoppingCart_Tag_Trash2_TrendingUp_UserPlus_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! __barrel_optimize__?names=Banknote,CheckCircle2,ChefHat,CreditCard,DollarSign,FileText,Mic,MicOff,Pause,Percent,Play,Printer,Receipt,Scissors,Search,ShoppingCart,Tag,Trash2,TrendingUp,UserPlus,X,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/trending-up.js\");\n/* harmony import */ var _barrel_optimize_names_Banknote_CheckCircle2_ChefHat_CreditCard_DollarSign_FileText_Mic_MicOff_Pause_Percent_Play_Printer_Receipt_Scissors_Search_ShoppingCart_Tag_Trash2_TrendingUp_UserPlus_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! __barrel_optimize__?names=Banknote,CheckCircle2,ChefHat,CreditCard,DollarSign,FileText,Mic,MicOff,Pause,Percent,Play,Printer,Receipt,Scissors,Search,ShoppingCart,Tag,Trash2,TrendingUp,UserPlus,X,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/dollar-sign.js\");\n/* harmony import */ var _barrel_optimize_names_Banknote_CheckCircle2_ChefHat_CreditCard_DollarSign_FileText_Mic_MicOff_Pause_Percent_Play_Printer_Receipt_Scissors_Search_ShoppingCart_Tag_Trash2_TrendingUp_UserPlus_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! __barrel_optimize__?names=Banknote,CheckCircle2,ChefHat,CreditCard,DollarSign,FileText,Mic,MicOff,Pause,Percent,Play,Printer,Receipt,Scissors,Search,ShoppingCart,Tag,Trash2,TrendingUp,UserPlus,X,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/search.js\");\n/* harmony import */ var _barrel_optimize_names_Banknote_CheckCircle2_ChefHat_CreditCard_DollarSign_FileText_Mic_MicOff_Pause_Percent_Play_Printer_Receipt_Scissors_Search_ShoppingCart_Tag_Trash2_TrendingUp_UserPlus_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! __barrel_optimize__?names=Banknote,CheckCircle2,ChefHat,CreditCard,DollarSign,FileText,Mic,MicOff,Pause,Percent,Play,Printer,Receipt,Scissors,Search,ShoppingCart,Tag,Trash2,TrendingUp,UserPlus,X,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/tag.js\");\n/* harmony import */ var _barrel_optimize_names_Banknote_CheckCircle2_ChefHat_CreditCard_DollarSign_FileText_Mic_MicOff_Pause_Percent_Play_Printer_Receipt_Scissors_Search_ShoppingCart_Tag_Trash2_TrendingUp_UserPlus_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! __barrel_optimize__?names=Banknote,CheckCircle2,ChefHat,CreditCard,DollarSign,FileText,Mic,MicOff,Pause,Percent,Play,Printer,Receipt,Scissors,Search,ShoppingCart,Tag,Trash2,TrendingUp,UserPlus,X,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/shopping-cart.js\");\n/* harmony import */ var _barrel_optimize_names_Banknote_CheckCircle2_ChefHat_CreditCard_DollarSign_FileText_Mic_MicOff_Pause_Percent_Play_Printer_Receipt_Scissors_Search_ShoppingCart_Tag_Trash2_TrendingUp_UserPlus_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! __barrel_optimize__?names=Banknote,CheckCircle2,ChefHat,CreditCard,DollarSign,FileText,Mic,MicOff,Pause,Percent,Play,Printer,Receipt,Scissors,Search,ShoppingCart,Tag,Trash2,TrendingUp,UserPlus,X,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/x.js\");\n/* harmony import */ var _barrel_optimize_names_Banknote_CheckCircle2_ChefHat_CreditCard_DollarSign_FileText_Mic_MicOff_Pause_Percent_Play_Printer_Receipt_Scissors_Search_ShoppingCart_Tag_Trash2_TrendingUp_UserPlus_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! __barrel_optimize__?names=Banknote,CheckCircle2,ChefHat,CreditCard,DollarSign,FileText,Mic,MicOff,Pause,Percent,Play,Printer,Receipt,Scissors,Search,ShoppingCart,Tag,Trash2,TrendingUp,UserPlus,X,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/user-plus.js\");\n/* harmony import */ var _barrel_optimize_names_Banknote_CheckCircle2_ChefHat_CreditCard_DollarSign_FileText_Mic_MicOff_Pause_Percent_Play_Printer_Receipt_Scissors_Search_ShoppingCart_Tag_Trash2_TrendingUp_UserPlus_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! __barrel_optimize__?names=Banknote,CheckCircle2,ChefHat,CreditCard,DollarSign,FileText,Mic,MicOff,Pause,Percent,Play,Printer,Receipt,Scissors,Search,ShoppingCart,Tag,Trash2,TrendingUp,UserPlus,X,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/chef-hat.js\");\n/* harmony import */ var _barrel_optimize_names_Banknote_CheckCircle2_ChefHat_CreditCard_DollarSign_FileText_Mic_MicOff_Pause_Percent_Play_Printer_Receipt_Scissors_Search_ShoppingCart_Tag_Trash2_TrendingUp_UserPlus_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! __barrel_optimize__?names=Banknote,CheckCircle2,ChefHat,CreditCard,DollarSign,FileText,Mic,MicOff,Pause,Percent,Play,Printer,Receipt,Scissors,Search,ShoppingCart,Tag,Trash2,TrendingUp,UserPlus,X,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/printer.js\");\n/* harmony import */ var _barrel_optimize_names_Banknote_CheckCircle2_ChefHat_CreditCard_DollarSign_FileText_Mic_MicOff_Pause_Percent_Play_Printer_Receipt_Scissors_Search_ShoppingCart_Tag_Trash2_TrendingUp_UserPlus_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! __barrel_optimize__?names=Banknote,CheckCircle2,ChefHat,CreditCard,DollarSign,FileText,Mic,MicOff,Pause,Percent,Play,Printer,Receipt,Scissors,Search,ShoppingCart,Tag,Trash2,TrendingUp,UserPlus,X,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/receipt.js\");\n/* harmony import */ var _barrel_optimize_names_Banknote_CheckCircle2_ChefHat_CreditCard_DollarSign_FileText_Mic_MicOff_Pause_Percent_Play_Printer_Receipt_Scissors_Search_ShoppingCart_Tag_Trash2_TrendingUp_UserPlus_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! __barrel_optimize__?names=Banknote,CheckCircle2,ChefHat,CreditCard,DollarSign,FileText,Mic,MicOff,Pause,Percent,Play,Printer,Receipt,Scissors,Search,ShoppingCart,Tag,Trash2,TrendingUp,UserPlus,X,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/scissors.js\");\n/* harmony import */ var _barrel_optimize_names_Banknote_CheckCircle2_ChefHat_CreditCard_DollarSign_FileText_Mic_MicOff_Pause_Percent_Play_Printer_Receipt_Scissors_Search_ShoppingCart_Tag_Trash2_TrendingUp_UserPlus_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! __barrel_optimize__?names=Banknote,CheckCircle2,ChefHat,CreditCard,DollarSign,FileText,Mic,MicOff,Pause,Percent,Play,Printer,Receipt,Scissors,Search,ShoppingCart,Tag,Trash2,TrendingUp,UserPlus,X,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/percent.js\");\n/* harmony import */ var _barrel_optimize_names_Banknote_CheckCircle2_ChefHat_CreditCard_DollarSign_FileText_Mic_MicOff_Pause_Percent_Play_Printer_Receipt_Scissors_Search_ShoppingCart_Tag_Trash2_TrendingUp_UserPlus_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! __barrel_optimize__?names=Banknote,CheckCircle2,ChefHat,CreditCard,DollarSign,FileText,Mic,MicOff,Pause,Percent,Play,Printer,Receipt,Scissors,Search,ShoppingCart,Tag,Trash2,TrendingUp,UserPlus,X,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/mic-off.js\");\n/* harmony import */ var _barrel_optimize_names_Banknote_CheckCircle2_ChefHat_CreditCard_DollarSign_FileText_Mic_MicOff_Pause_Percent_Play_Printer_Receipt_Scissors_Search_ShoppingCart_Tag_Trash2_TrendingUp_UserPlus_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! __barrel_optimize__?names=Banknote,CheckCircle2,ChefHat,CreditCard,DollarSign,FileText,Mic,MicOff,Pause,Percent,Play,Printer,Receipt,Scissors,Search,ShoppingCart,Tag,Trash2,TrendingUp,UserPlus,X,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/mic.js\");\n/* harmony import */ var _barrel_optimize_names_Banknote_CheckCircle2_ChefHat_CreditCard_DollarSign_FileText_Mic_MicOff_Pause_Percent_Play_Printer_Receipt_Scissors_Search_ShoppingCart_Tag_Trash2_TrendingUp_UserPlus_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! __barrel_optimize__?names=Banknote,CheckCircle2,ChefHat,CreditCard,DollarSign,FileText,Mic,MicOff,Pause,Percent,Play,Printer,Receipt,Scissors,Search,ShoppingCart,Tag,Trash2,TrendingUp,UserPlus,X,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/pause.js\");\n/* harmony import */ var _barrel_optimize_names_Banknote_CheckCircle2_ChefHat_CreditCard_DollarSign_FileText_Mic_MicOff_Pause_Percent_Play_Printer_Receipt_Scissors_Search_ShoppingCart_Tag_Trash2_TrendingUp_UserPlus_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! __barrel_optimize__?names=Banknote,CheckCircle2,ChefHat,CreditCard,DollarSign,FileText,Mic,MicOff,Pause,Percent,Play,Printer,Receipt,Scissors,Search,ShoppingCart,Tag,Trash2,TrendingUp,UserPlus,X,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/play.js\");\n/* harmony import */ var _barrel_optimize_names_Banknote_CheckCircle2_ChefHat_CreditCard_DollarSign_FileText_Mic_MicOff_Pause_Percent_Play_Printer_Receipt_Scissors_Search_ShoppingCart_Tag_Trash2_TrendingUp_UserPlus_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! __barrel_optimize__?names=Banknote,CheckCircle2,ChefHat,CreditCard,DollarSign,FileText,Mic,MicOff,Pause,Percent,Play,Printer,Receipt,Scissors,Search,ShoppingCart,Tag,Trash2,TrendingUp,UserPlus,X,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/trash-2.js\");\n/* harmony import */ var _barrel_optimize_names_Banknote_CheckCircle2_ChefHat_CreditCard_DollarSign_FileText_Mic_MicOff_Pause_Percent_Play_Printer_Receipt_Scissors_Search_ShoppingCart_Tag_Trash2_TrendingUp_UserPlus_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! __barrel_optimize__?names=Banknote,CheckCircle2,ChefHat,CreditCard,DollarSign,FileText,Mic,MicOff,Pause,Percent,Play,Printer,Receipt,Scissors,Search,ShoppingCart,Tag,Trash2,TrendingUp,UserPlus,X,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/circle-check.js\");\n/* harmony import */ var _barrel_optimize_names_Banknote_CheckCircle2_ChefHat_CreditCard_DollarSign_FileText_Mic_MicOff_Pause_Percent_Play_Printer_Receipt_Scissors_Search_ShoppingCart_Tag_Trash2_TrendingUp_UserPlus_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! __barrel_optimize__?names=Banknote,CheckCircle2,ChefHat,CreditCard,DollarSign,FileText,Mic,MicOff,Pause,Percent,Play,Printer,Receipt,Scissors,Search,ShoppingCart,Tag,Trash2,TrendingUp,UserPlus,X,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/zap.js\");\n/* harmony import */ var _barrel_optimize_names_Banknote_CheckCircle2_ChefHat_CreditCard_DollarSign_FileText_Mic_MicOff_Pause_Percent_Play_Printer_Receipt_Scissors_Search_ShoppingCart_Tag_Trash2_TrendingUp_UserPlus_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! __barrel_optimize__?names=Banknote,CheckCircle2,ChefHat,CreditCard,DollarSign,FileText,Mic,MicOff,Pause,Percent,Play,Printer,Receipt,Scissors,Search,ShoppingCart,Tag,Trash2,TrendingUp,UserPlus,X,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/file-text.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\nconst SplitBillModal = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_2__.lazy)(()=>__webpack_require__.e(/*! import() */ \"_app-pages-browser_src_components_split-bill-modal_tsx\").then(__webpack_require__.bind(__webpack_require__, /*! @/components/split-bill-modal */ \"(app-pages-browser)/./src/components/split-bill-modal.tsx\")));\n_c = SplitBillModal;\nconst METHOD_LABELS = {\n    cash: {\n        label: 'Efectivo',\n        icon: _barrel_optimize_names_Banknote_CheckCircle2_ChefHat_CreditCard_DollarSign_FileText_Mic_MicOff_Pause_Percent_Play_Printer_Receipt_Scissors_Search_ShoppingCart_Tag_Trash2_TrendingUp_UserPlus_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"]\n    },\n    credit_card: {\n        label: 'Tarjeta Crédito',\n        icon: _barrel_optimize_names_Banknote_CheckCircle2_ChefHat_CreditCard_DollarSign_FileText_Mic_MicOff_Pause_Percent_Play_Printer_Receipt_Scissors_Search_ShoppingCart_Tag_Trash2_TrendingUp_UserPlus_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_10__[\"default\"]\n    },\n    debit_card: {\n        label: 'Tarjeta Débito',\n        icon: _barrel_optimize_names_Banknote_CheckCircle2_ChefHat_CreditCard_DollarSign_FileText_Mic_MicOff_Pause_Percent_Play_Printer_Receipt_Scissors_Search_ShoppingCart_Tag_Trash2_TrendingUp_UserPlus_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_10__[\"default\"]\n    },\n    transfer: {\n        label: 'Transferencia',\n        icon: _barrel_optimize_names_Banknote_CheckCircle2_ChefHat_CreditCard_DollarSign_FileText_Mic_MicOff_Pause_Percent_Play_Printer_Receipt_Scissors_Search_ShoppingCart_Tag_Trash2_TrendingUp_UserPlus_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"]\n    },\n    wallet: {\n        label: 'Billetera Digital',\n        icon: _barrel_optimize_names_Banknote_CheckCircle2_ChefHat_CreditCard_DollarSign_FileText_Mic_MicOff_Pause_Percent_Play_Printer_Receipt_Scissors_Search_ShoppingCart_Tag_Trash2_TrendingUp_UserPlus_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"]\n    }\n};\nconst toNum = (v)=>{\n    if (typeof v === 'number') return v;\n    if (typeof v === 'string') return parseFloat(v) || 0;\n    return 0;\n};\nfunction PosPage() {\n    var _order_items;\n    _s();\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_3__.useRouter)();\n    const store = (0,_store_pos_store__WEBPACK_IMPORTED_MODULE_4__.usePosStore)();\n    const { on: wsOn } = (0,_lib_use_socket__WEBPACK_IMPORTED_MODULE_5__.useSocket)();\n    const [showPayment, setShowPayment] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [paymentMethod, setPaymentMethod] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)('cash');\n    const [cashReceived, setCashReceived] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)('');\n    const [paymentLoading, setPaymentLoading] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [paymentResult, setPaymentResult] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [showHeld, setShowHeld] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [voidReason, setVoidReason] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)('');\n    const [showVoidFor, setShowVoidFor] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [showSplit, setShowSplit] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [kitchenSent, setKitchenSent] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [voiceActive, setVoiceActive] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [voiceText, setVoiceText] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)('');\n    const [showDiscount, setShowDiscount] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [discountType, setDiscountType] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)('percentage');\n    const [discountValue, setDiscountValue] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)('');\n    const [discountReason, setDiscountReason] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)('');\n    const [discountTarget, setDiscountTarget] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null); // null = order, itemId = item\n    const [showCoupon, setShowCoupon] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [couponCode, setCouponCode] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)('');\n    const [promoMsg, setPromoMsg] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)('');\n    const [transferRef, setTransferRef] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)('');\n    // Customer\n    const [showCustomerSearch, setShowCustomerSearch] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [customerQuery, setCustomerQuery] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)('');\n    const [customerResults, setCustomerResults] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)([]);\n    const [customerSearching, setCustomerSearching] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [selectedCustomer, setSelectedCustomer] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    // Invoice\n    const [invoiceLoading, setInvoiceLoading] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [invoiceResult, setInvoiceResult] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const recognitionRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"PosPage.useEffect\": ()=>{\n            store.restoreSession();\n            if (!localStorage.getItem('pos_token')) {\n                router.replace('/login');\n                return;\n            }\n            store.loadCategories();\n            store.loadProducts();\n            store.loadHeldOrders();\n        }\n    }[\"PosPage.useEffect\"], []);\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"PosPage.useEffect\": ()=>{\n            const unsubs = [\n                wsOn(_lib_use_socket__WEBPACK_IMPORTED_MODULE_5__.WS_EVENTS.ORDER_PAID, {\n                    \"PosPage.useEffect\": ()=>{\n                        if (store.currentOrder) store.refreshOrder();\n                    }\n                }[\"PosPage.useEffect\"])\n            ];\n            return ({\n                \"PosPage.useEffect\": ()=>unsubs.forEach({\n                        \"PosPage.useEffect\": (fn)=>fn()\n                    }[\"PosPage.useEffect\"])\n            })[\"PosPage.useEffect\"];\n        }\n    }[\"PosPage.useEffect\"], [\n        wsOn,\n        store.currentOrder\n    ]);\n    // ─── Actions ───\n    const handleAddItem = async (product)=>{\n        if (!store.currentOrder) await store.createOrder('counter');\n        await store.addItemToOrder(product.id, 1);\n    };\n    const handleVoidItem = async (itemId)=>{\n        if (!voidReason.trim()) return;\n        await store.voidItem(itemId, voidReason);\n        setShowVoidFor(null);\n        setVoidReason('');\n    };\n    const handlePayment = async ()=>{\n        if (!store.currentOrder) return;\n        setPaymentLoading(true);\n        try {\n            var _store_currentOrder, _result_order;\n            const amount = toNum(store.currentOrder.total);\n            const received = paymentMethod === 'cash' && cashReceived ? parseFloat(cashReceived) : amount;\n            const ref = paymentMethod === 'transfer' && transferRef.trim() ? transferRef.trim() : undefined;\n            const result = await store.processPayment(paymentMethod, amount, received, ref);\n            setPaymentResult({\n                ...result,\n                change: paymentMethod === 'cash' ? received - amount : 0,\n                orderId: ((_store_currentOrder = store.currentOrder) === null || _store_currentOrder === void 0 ? void 0 : _store_currentOrder.id) || (result === null || result === void 0 ? void 0 : (_result_order = result.order) === null || _result_order === void 0 ? void 0 : _result_order.id)\n            });\n        } catch (e) {\n            alert(e.message);\n        }\n        setPaymentLoading(false);\n    };\n    const handleNewOrder = ()=>{\n        setPaymentResult(null);\n        setInvoiceResult(null);\n        setShowPayment(false);\n        setCashReceived('');\n        setTransferRef('');\n        setPaymentMethod('cash');\n        setSelectedCustomer(null);\n        store.clearOrder();\n    };\n    const handleSendToKitchen = async ()=>{\n        if (!store.currentOrder) return;\n        try {\n            await _lib_api__WEBPACK_IMPORTED_MODULE_7__.api.post(\"/orders/\".concat(store.currentOrder.id, \"/send-to-kitchen\"));\n            setKitchenSent(true);\n            setTimeout(()=>setKitchenSent(false), 2000);\n        } catch (e) {\n            // fallback: try printing comanda locally\n            try {\n                const cfg = (0,_lib_print__WEBPACK_IMPORTED_MODULE_8__.getPrintConfig)();\n                (0,_lib_print__WEBPACK_IMPORTED_MODULE_8__.printComanda)(store.currentOrder, cfg);\n                setKitchenSent(true);\n                setTimeout(()=>setKitchenSent(false), 2000);\n            } catch (e) {\n                alert('Error al enviar a cocina');\n            }\n        }\n    };\n    const handlePrintComanda = ()=>{\n        if (!store.currentOrder) return;\n        try {\n            const cfg = (0,_lib_print__WEBPACK_IMPORTED_MODULE_8__.getPrintConfig)();\n            (0,_lib_print__WEBPACK_IMPORTED_MODULE_8__.printComanda)(store.currentOrder, cfg);\n        } catch (e) {\n            alert('Error al imprimir comanda');\n        }\n    };\n    const handlePrintPreBill = ()=>{\n        if (!store.currentOrder) return;\n        try {\n            const cfg = (0,_lib_print__WEBPACK_IMPORTED_MODULE_8__.getPrintConfig)();\n            (0,_lib_print__WEBPACK_IMPORTED_MODULE_8__.printPreBill)(store.currentOrder, cfg);\n        } catch (e) {\n            alert('Error al imprimir pre-cuenta');\n        }\n    };\n    const handleApplyDiscount = async ()=>{\n        if (!store.currentOrder || !discountValue) return;\n        const val = parseFloat(discountValue);\n        if (isNaN(val) || val <= 0) return;\n        try {\n            if (discountTarget) {\n                // Item-level discount\n                await _lib_api__WEBPACK_IMPORTED_MODULE_7__.api.patch(\"/orders/\".concat(store.currentOrder.id, \"/items/\").concat(discountTarget, \"/discount\"), {\n                    type: discountType,\n                    value: val,\n                    reason: discountReason || 'Descuento'\n                });\n            } else {\n                // Order-level discount\n                await _lib_api__WEBPACK_IMPORTED_MODULE_7__.api.patch(\"/orders/\".concat(store.currentOrder.id, \"/discount\"), {\n                    type: discountType,\n                    value: val,\n                    reason: discountReason || 'Descuento'\n                });\n            }\n            await store.refreshOrder();\n            setShowDiscount(false);\n            setDiscountValue('');\n            setDiscountReason('');\n            setDiscountTarget(null);\n        } catch (e) {\n            alert(e.message);\n        }\n    };\n    const handleApplyCoupon = async ()=>{\n        if (!store.currentOrder || !couponCode.trim()) return;\n        try {\n            await _lib_api__WEBPACK_IMPORTED_MODULE_7__.api.applyCoupon(store.currentOrder.id, couponCode.trim());\n            await store.refreshOrder();\n            setPromoMsg('Cupón aplicado');\n            setCouponCode('');\n            setShowCoupon(false);\n            setTimeout(()=>setPromoMsg(''), 3000);\n        } catch (e) {\n            alert(e.message);\n        }\n    };\n    const handleApplyAutoPromos = async ()=>{\n        if (!store.currentOrder) return;\n        try {\n            var _result_applied;\n            const result = await _lib_api__WEBPACK_IMPORTED_MODULE_7__.api.applyPromotions(store.currentOrder.id);\n            await store.refreshOrder();\n            const count = (result === null || result === void 0 ? void 0 : (_result_applied = result.applied) === null || _result_applied === void 0 ? void 0 : _result_applied.length) || 0;\n            setPromoMsg(count > 0 ? \"\".concat(count, \" promo(s) aplicada(s)\") : 'Sin promos aplicables');\n            setTimeout(()=>setPromoMsg(''), 3000);\n        } catch (e) {\n            alert(e.message);\n        }\n    };\n    const openItemDiscount = (itemId)=>{\n        setDiscountTarget(itemId);\n        setDiscountType('percentage');\n        setDiscountValue('');\n        setDiscountReason('');\n        setShowDiscount(true);\n    };\n    // ─── Customer ───\n    const searchCustomers = async (q)=>{\n        setCustomerQuery(q);\n        if (q.length < 2) {\n            setCustomerResults([]);\n            return;\n        }\n        setCustomerSearching(true);\n        try {\n            const results = await _lib_api__WEBPACK_IMPORTED_MODULE_7__.api.get(\"/customers/search?q=\".concat(encodeURIComponent(q)));\n            setCustomerResults(results || []);\n        } catch (e) {\n            setCustomerResults([]);\n        }\n        setCustomerSearching(false);\n    };\n    const assignCustomer = async (customer)=>{\n        if (!store.currentOrder) return;\n        try {\n            await _lib_api__WEBPACK_IMPORTED_MODULE_7__.api.patch(\"/orders/\".concat(store.currentOrder.id, \"/customer\"), {\n                customerId: customer.id\n            });\n            setSelectedCustomer(customer);\n            setShowCustomerSearch(false);\n            setCustomerQuery('');\n            setCustomerResults([]);\n        } catch (e) {\n            alert(e.message);\n        }\n    };\n    const removeCustomer = async ()=>{\n        if (!store.currentOrder) return;\n        try {\n            await _lib_api__WEBPACK_IMPORTED_MODULE_7__.api.patch(\"/orders/\".concat(store.currentOrder.id, \"/customer\"), {\n                customerId: null\n            });\n            setSelectedCustomer(null);\n        } catch (e) {}\n    };\n    // ─── Invoice ───\n    const handleEmitInvoice = async (orderId)=>{\n        setInvoiceLoading(true);\n        try {\n            const payload = {\n                orderId\n            };\n            if (selectedCustomer) {\n                var _selectedCustomer_address;\n                payload.identificacion = selectedCustomer.taxId || selectedCustomer.tax_id || '9999999999999';\n                payload.tipoIdentificacion = selectedCustomer.taxIdType || selectedCustomer.tax_id_type || '07';\n                payload.razonSocial = selectedCustomer.name;\n                payload.email = selectedCustomer.email || undefined;\n                payload.direccion = typeof selectedCustomer.address === 'string' ? selectedCustomer.address : ((_selectedCustomer_address = selectedCustomer.address) === null || _selectedCustomer_address === void 0 ? void 0 : _selectedCustomer_address.street) || undefined;\n                payload.telefono = selectedCustomer.phone || undefined;\n            }\n            const result = await _lib_api__WEBPACK_IMPORTED_MODULE_7__.api.post('/sri/emitir', payload);\n            setInvoiceResult(result);\n        } catch (e) {\n            alert(e.message);\n        }\n        setInvoiceLoading(false);\n    };\n    // ─── Voice ───\n    const toggleVoice = ()=>{\n        if (voiceActive) {\n            var _recognitionRef_current;\n            (_recognitionRef_current = recognitionRef.current) === null || _recognitionRef_current === void 0 ? void 0 : _recognitionRef_current.stop();\n            setVoiceActive(false);\n            return;\n        }\n        const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;\n        if (!SpeechRecognition) {\n            alert('Reconocimiento de voz no soportado');\n            return;\n        }\n        const recog = new SpeechRecognition();\n        recog.lang = 'es-EC';\n        recog.continuous = true;\n        recog.interimResults = true;\n        recog.onresult = (e)=>{\n            const transcript = Array.from(e.results).map((r)=>r[0].transcript).join('');\n            setVoiceText(transcript);\n        };\n        recog.onend = ()=>setVoiceActive(false);\n        recog.start();\n        recognitionRef.current = recog;\n        setVoiceActive(true);\n    };\n    const order = store.currentOrder;\n    const items = (order === null || order === void 0 ? void 0 : (_order_items = order.items) === null || _order_items === void 0 ? void 0 : _order_items.filter((i)=>!i.isVoid)) || [];\n    const orderTotal = order ? toNum(order.total) : 0;\n    const orderSubtotal = order ? toNum(order.subtotal) : 0;\n    const orderTax = order ? toNum(order.taxAmount || order.tax_amount) : 0;\n    const orderDiscount = order ? toNum(order.discountAmount || order.discount_amount) : 0;\n    const orderDiscountReason = (order === null || order === void 0 ? void 0 : order.discountReason) || (order === null || order === void 0 ? void 0 : order.discount_reason) || '';\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_app_shell_wrapper__WEBPACK_IMPORTED_MODULE_1__.AppShellWrapper, {\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex h-full bg-gray-100\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex flex-1 flex-col min-w-0\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center gap-2 bg-white border-b px-3 py-2 shrink-0 overflow-x-auto scrollbar-hide\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>store.setSelectedCategory(null),\n                                    className: \"shrink-0 rounded-lg px-3 py-1.5 text-sm font-medium transition \".concat(!store.selectedCategory ? 'bg-blue-600 text-white' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'),\n                                    children: \"Todos\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                    lineNumber: 300,\n                                    columnNumber: 11\n                                }, this),\n                                store.categories.map((cat)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>store.setSelectedCategory(cat.id),\n                                        className: \"shrink-0 rounded-lg px-3 py-1.5 text-sm font-medium transition \".concat(store.selectedCategory === cat.id ? 'bg-blue-600 text-white' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'),\n                                        children: cat.name\n                                    }, cat.id, false, {\n                                        fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                        lineNumber: 309,\n                                        columnNumber: 13\n                                    }, this))\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                            lineNumber: 299,\n                            columnNumber: 9\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"px-3 py-2 bg-white border-b shrink-0\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"relative\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Banknote_CheckCircle2_ChefHat_CreditCard_DollarSign_FileText_Mic_MicOff_Pause_Percent_Play_Printer_Receipt_Scissors_Search_ShoppingCart_Tag_Trash2_TrendingUp_UserPlus_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                                            size: 16,\n                                            className: \"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                            lineNumber: 324,\n                                            columnNumber: 13\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                            type: \"text\",\n                                            value: store.searchQuery,\n                                            onChange: (e)=>store.setSearchQuery(e.target.value),\n                                            placeholder: \"Buscar producto...\",\n                                            className: \"w-full rounded-lg border border-gray-200 bg-gray-50 py-2 pl-9 pr-3 text-sm focus:border-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-400/20\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                            lineNumber: 325,\n                                            columnNumber: 13\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                    lineNumber: 323,\n                                    columnNumber: 11\n                                }, this),\n                                voiceActive && voiceText && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"mt-1 rounded bg-blue-50 px-2 py-1 text-xs text-blue-700 truncate\",\n                                    children: [\n                                        \"\\uD83C\\uDF99️ \",\n                                        voiceText\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                    lineNumber: 332,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                            lineNumber: 322,\n                            columnNumber: 9\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex-1 overflow-y-auto p-3\",\n                            children: store.loading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex h-full items-center justify-center\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"h-8 w-8 animate-spin rounded-full border-4 border-blue-600 border-t-transparent\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                    lineNumber: 340,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                lineNumber: 339,\n                                columnNumber: 13\n                            }, this) : store.products.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex h-full flex-col items-center justify-center text-gray-400\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Banknote_CheckCircle2_ChefHat_CreditCard_DollarSign_FileText_Mic_MicOff_Pause_Percent_Play_Printer_Receipt_Scissors_Search_ShoppingCart_Tag_Trash2_TrendingUp_UserPlus_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                                        size: 40,\n                                        className: \"mb-2\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                        lineNumber: 344,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-sm\",\n                                        children: \"No hay productos\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                        lineNumber: 345,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                lineNumber: 343,\n                                columnNumber: 13\n                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 xl:grid-cols-5 gap-2\",\n                                children: store.products.map((p)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>handleAddItem(p),\n                                        className: \"flex flex-col items-center rounded-xl border bg-white p-3 text-center shadow-sm transition hover:shadow-md hover:border-blue-300 active:scale-95\",\n                                        children: [\n                                            p.imageUrl ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                                src: p.imageUrl,\n                                                alt: p.name,\n                                                className: \"h-16 w-16 rounded-lg object-cover mb-2\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                                lineNumber: 355,\n                                                columnNumber: 21\n                                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex h-16 w-16 items-center justify-center rounded-lg bg-gradient-to-br from-blue-50 to-blue-100 mb-2\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"text-2xl\",\n                                                    children: p.emoji || '🍽️'\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                                    lineNumber: 358,\n                                                    columnNumber: 23\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                                lineNumber: 357,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-xs font-medium text-gray-900 line-clamp-2 leading-tight\",\n                                                children: p.name\n                                            }, void 0, false, {\n                                                fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                                lineNumber: 361,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"mt-1 text-sm font-bold text-blue-600\",\n                                                children: (0,_lib_currency__WEBPACK_IMPORTED_MODULE_6__.formatMoney)(toNum(p.price))\n                                            }, void 0, false, {\n                                                fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                                lineNumber: 362,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, p.id, true, {\n                                        fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                        lineNumber: 350,\n                                        columnNumber: 17\n                                    }, this))\n                            }, void 0, false, {\n                                fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                lineNumber: 348,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                            lineNumber: 337,\n                            columnNumber: 9\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                    lineNumber: 297,\n                    columnNumber: 7\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"hidden md:flex w-80 lg:w-96 flex-col border-l bg-white shrink-0\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center justify-between border-b px-3 py-2 shrink-0\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-center gap-2\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Banknote_CheckCircle2_ChefHat_CreditCard_DollarSign_FileText_Mic_MicOff_Pause_Percent_Play_Printer_Receipt_Scissors_Search_ShoppingCart_Tag_Trash2_TrendingUp_UserPlus_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n                                            size: 18,\n                                            className: \"text-blue-600\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                            lineNumber: 375,\n                                            columnNumber: 13\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                                    className: \"text-sm font-bold text-gray-900\",\n                                                    children: order ? \"#\".concat(order.orderNumber || '') : 'Nueva Orden'\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                                    lineNumber: 377,\n                                                    columnNumber: 15\n                                                }, this),\n                                                selectedCustomer && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex items-center gap-1\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"text-[10px] text-green-700 font-medium truncate max-w-[120px]\",\n                                                            children: selectedCustomer.name\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                                            lineNumber: 382,\n                                                            columnNumber: 19\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                            onClick: removeCustomer,\n                                                            className: \"text-gray-400 hover:text-red-500\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Banknote_CheckCircle2_ChefHat_CreditCard_DollarSign_FileText_Mic_MicOff_Pause_Percent_Play_Printer_Receipt_Scissors_Search_ShoppingCart_Tag_Trash2_TrendingUp_UserPlus_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n                                                                size: 10\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                                                lineNumber: 383,\n                                                                columnNumber: 97\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                                            lineNumber: 383,\n                                                            columnNumber: 19\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                                    lineNumber: 381,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                            lineNumber: 376,\n                                            columnNumber: 13\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                    lineNumber: 374,\n                                    columnNumber: 11\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-center gap-0.5\",\n                                    children: [\n                                        order && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>setShowCustomerSearch(true),\n                                            title: selectedCustomer ? selectedCustomer.name : 'Asignar Cliente',\n                                            className: \"rounded-lg p-1.5 transition \".concat(selectedCustomer ? 'text-green-600 bg-green-50' : 'text-gray-400 hover:bg-blue-50 hover:text-blue-600'),\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Banknote_CheckCircle2_ChefHat_CreditCard_DollarSign_FileText_Mic_MicOff_Pause_Percent_Play_Printer_Receipt_Scissors_Search_ShoppingCart_Tag_Trash2_TrendingUp_UserPlus_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {\n                                                size: 16\n                                            }, void 0, false, {\n                                                fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                                lineNumber: 393,\n                                                columnNumber: 17\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                            lineNumber: 391,\n                                            columnNumber: 15\n                                        }, this),\n                                        order && items.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: handleSendToKitchen,\n                                            title: \"Enviar a Cocina\",\n                                            className: \"rounded-lg p-1.5 transition \".concat(kitchenSent ? 'text-green-600 bg-green-50' : 'text-gray-400 hover:bg-orange-50 hover:text-orange-600'),\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Banknote_CheckCircle2_ChefHat_CreditCard_DollarSign_FileText_Mic_MicOff_Pause_Percent_Play_Printer_Receipt_Scissors_Search_ShoppingCart_Tag_Trash2_TrendingUp_UserPlus_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                                size: 16\n                                            }, void 0, false, {\n                                                fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                                lineNumber: 400,\n                                                columnNumber: 17\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                            lineNumber: 398,\n                                            columnNumber: 15\n                                        }, this),\n                                        order && items.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: handlePrintComanda,\n                                            title: \"Imprimir Comanda\",\n                                            className: \"rounded-lg p-1.5 text-gray-400 hover:bg-blue-50 hover:text-blue-600\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Banknote_CheckCircle2_ChefHat_CreditCard_DollarSign_FileText_Mic_MicOff_Pause_Percent_Play_Printer_Receipt_Scissors_Search_ShoppingCart_Tag_Trash2_TrendingUp_UserPlus_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_19__[\"default\"], {\n                                                size: 16\n                                            }, void 0, false, {\n                                                fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                                lineNumber: 407,\n                                                columnNumber: 17\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                            lineNumber: 405,\n                                            columnNumber: 15\n                                        }, this),\n                                        order && items.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: handlePrintPreBill,\n                                            title: \"Pre-cuenta\",\n                                            className: \"rounded-lg p-1.5 text-gray-400 hover:bg-purple-50 hover:text-purple-600\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Banknote_CheckCircle2_ChefHat_CreditCard_DollarSign_FileText_Mic_MicOff_Pause_Percent_Play_Printer_Receipt_Scissors_Search_ShoppingCart_Tag_Trash2_TrendingUp_UserPlus_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_20__[\"default\"], {\n                                                size: 16\n                                            }, void 0, false, {\n                                                fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                                lineNumber: 414,\n                                                columnNumber: 17\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                            lineNumber: 412,\n                                            columnNumber: 15\n                                        }, this),\n                                        order && items.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>setShowSplit(true),\n                                            title: \"Dividir Cuenta\",\n                                            className: \"rounded-lg p-1.5 text-gray-400 hover:bg-teal-50 hover:text-teal-600\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Banknote_CheckCircle2_ChefHat_CreditCard_DollarSign_FileText_Mic_MicOff_Pause_Percent_Play_Printer_Receipt_Scissors_Search_ShoppingCart_Tag_Trash2_TrendingUp_UserPlus_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_21__[\"default\"], {\n                                                size: 16\n                                            }, void 0, false, {\n                                                fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                                lineNumber: 421,\n                                                columnNumber: 17\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                            lineNumber: 419,\n                                            columnNumber: 15\n                                        }, this),\n                                        order && items.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>{\n                                                setDiscountTarget(null);\n                                                setDiscountType('percentage');\n                                                setDiscountValue('');\n                                                setDiscountReason('');\n                                                setShowDiscount(true);\n                                            },\n                                            title: \"Descuento\",\n                                            className: \"rounded-lg p-1.5 text-gray-400 hover:bg-amber-50 hover:text-amber-600\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Banknote_CheckCircle2_ChefHat_CreditCard_DollarSign_FileText_Mic_MicOff_Pause_Percent_Play_Printer_Receipt_Scissors_Search_ShoppingCart_Tag_Trash2_TrendingUp_UserPlus_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_22__[\"default\"], {\n                                                size: 16\n                                            }, void 0, false, {\n                                                fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                                lineNumber: 428,\n                                                columnNumber: 17\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                            lineNumber: 426,\n                                            columnNumber: 15\n                                        }, this),\n                                        order && items.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>setShowCoupon(true),\n                                            title: \"Cup\\xf3n / Promociones\",\n                                            className: \"rounded-lg p-1.5 text-gray-400 hover:bg-pink-50 hover:text-pink-600\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Banknote_CheckCircle2_ChefHat_CreditCard_DollarSign_FileText_Mic_MicOff_Pause_Percent_Play_Printer_Receipt_Scissors_Search_ShoppingCart_Tag_Trash2_TrendingUp_UserPlus_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                                                size: 16\n                                            }, void 0, false, {\n                                                fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                                lineNumber: 435,\n                                                columnNumber: 17\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                            lineNumber: 433,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: toggleVoice,\n                                            title: voiceActive ? 'Desactivar Voz' : 'Activar Voz',\n                                            className: \"rounded-lg p-1.5 transition \".concat(voiceActive ? 'text-red-600 bg-red-50 animate-pulse' : 'text-gray-400 hover:bg-gray-100 hover:text-gray-600'),\n                                            children: voiceActive ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Banknote_CheckCircle2_ChefHat_CreditCard_DollarSign_FileText_Mic_MicOff_Pause_Percent_Play_Printer_Receipt_Scissors_Search_ShoppingCart_Tag_Trash2_TrendingUp_UserPlus_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_23__[\"default\"], {\n                                                size: 16\n                                            }, void 0, false, {\n                                                fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                                lineNumber: 441,\n                                                columnNumber: 30\n                                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Banknote_CheckCircle2_ChefHat_CreditCard_DollarSign_FileText_Mic_MicOff_Pause_Percent_Play_Printer_Receipt_Scissors_Search_ShoppingCart_Tag_Trash2_TrendingUp_UserPlus_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_24__[\"default\"], {\n                                                size: 16\n                                            }, void 0, false, {\n                                                fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                                lineNumber: 441,\n                                                columnNumber: 53\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                            lineNumber: 439,\n                                            columnNumber: 13\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"w-px h-5 bg-gray-200 mx-0.5\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                            lineNumber: 444,\n                                            columnNumber: 13\n                                        }, this),\n                                        order && items.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>store.holdCurrentOrder(),\n                                            title: \"Pausar orden\",\n                                            className: \"rounded-lg p-1.5 text-gray-400 hover:bg-amber-50 hover:text-amber-600\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Banknote_CheckCircle2_ChefHat_CreditCard_DollarSign_FileText_Mic_MicOff_Pause_Percent_Play_Printer_Receipt_Scissors_Search_ShoppingCart_Tag_Trash2_TrendingUp_UserPlus_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_25__[\"default\"], {\n                                                size: 16\n                                            }, void 0, false, {\n                                                fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                                lineNumber: 449,\n                                                columnNumber: 17\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                            lineNumber: 447,\n                                            columnNumber: 15\n                                        }, this),\n                                        store.heldOrders.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>setShowHeld(!showHeld),\n                                            title: \"\\xd3rdenes pausadas\",\n                                            className: \"relative rounded-lg p-1.5 text-gray-400 hover:bg-blue-50 hover:text-blue-600\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Banknote_CheckCircle2_ChefHat_CreditCard_DollarSign_FileText_Mic_MicOff_Pause_Percent_Play_Printer_Receipt_Scissors_Search_ShoppingCart_Tag_Trash2_TrendingUp_UserPlus_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_26__[\"default\"], {\n                                                    size: 16\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                                    lineNumber: 456,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"absolute -top-0.5 -right-0.5 flex h-4 w-4 items-center justify-center rounded-full bg-amber-500 text-[10px] font-bold text-white\",\n                                                    children: store.heldOrders.length\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                                    lineNumber: 457,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                            lineNumber: 454,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                    lineNumber: 388,\n                                    columnNumber: 11\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                            lineNumber: 373,\n                            columnNumber: 9\n                        }, this),\n                        showHeld && store.heldOrders.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"border-b bg-amber-50 p-2 space-y-1 max-h-32 overflow-y-auto\",\n                            children: store.heldOrders.map((ho)=>{\n                                var _ho_items;\n                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>{\n                                        store.resumeOrder(ho);\n                                        setShowHeld(false);\n                                    },\n                                    className: \"flex w-full items-center justify-between rounded-lg bg-white px-3 py-2 text-sm hover:bg-amber-100 transition\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"font-medium text-gray-900\",\n                                            children: ho.orderNumber\n                                        }, void 0, false, {\n                                            fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                            lineNumber: 471,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-xs text-gray-500\",\n                                            children: [\n                                                ((_ho_items = ho.items) === null || _ho_items === void 0 ? void 0 : _ho_items.filter((i)=>!i.isVoid).length) || 0,\n                                                \" items — \",\n                                                (0,_lib_currency__WEBPACK_IMPORTED_MODULE_6__.formatMoney)(toNum(ho.total))\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                            lineNumber: 472,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, ho.id, true, {\n                                    fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                    lineNumber: 469,\n                                    columnNumber: 15\n                                }, this);\n                            })\n                        }, void 0, false, {\n                            fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                            lineNumber: 467,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex-1 overflow-y-auto px-3 py-2\",\n                            children: items.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex h-full flex-col items-center justify-center text-gray-300\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Banknote_CheckCircle2_ChefHat_CreditCard_DollarSign_FileText_Mic_MicOff_Pause_Percent_Play_Printer_Receipt_Scissors_Search_ShoppingCart_Tag_Trash2_TrendingUp_UserPlus_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n                                        size: 48,\n                                        className: \"mb-3\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                        lineNumber: 482,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-sm\",\n                                        children: \"Selecciona productos\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                        lineNumber: 483,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                lineNumber: 481,\n                                columnNumber: 13\n                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"space-y-1\",\n                                children: items.map((item, idx)=>{\n                                    var _item_product;\n                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-start gap-2 rounded-lg border p-2 text-sm\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex-1 min-w-0\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"font-medium text-gray-900 truncate\",\n                                                        children: ((_item_product = item.product) === null || _item_product === void 0 ? void 0 : _item_product.name) || item.productName || 'Producto'\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                                        lineNumber: 490,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex items-center gap-2 mt-0.5 flex-wrap\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"text-xs text-gray-500\",\n                                                                children: [\n                                                                    item.quantity,\n                                                                    \" \\xd7 \",\n                                                                    (0,_lib_currency__WEBPACK_IMPORTED_MODULE_6__.formatMoney)(toNum(item.unitPrice || item.unit_price))\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                                                lineNumber: 492,\n                                                                columnNumber: 23\n                                                            }, this),\n                                                            toNum(item.discount_amount || item.discountAmount) > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"text-xs text-amber-600 font-medium\",\n                                                                children: [\n                                                                    \"-\",\n                                                                    (0,_lib_currency__WEBPACK_IMPORTED_MODULE_6__.formatMoney)(toNum(item.discount_amount || item.discountAmount))\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                                                lineNumber: 494,\n                                                                columnNumber: 25\n                                                            }, this),\n                                                            item.notes && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"text-xs text-blue-500 truncate\",\n                                                                children: [\n                                                                    \"\\uD83D\\uDCDD \",\n                                                                    item.notes\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                                                lineNumber: 496,\n                                                                columnNumber: 38\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                                        lineNumber: 491,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                                lineNumber: 489,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"font-semibold text-gray-900 shrink-0\",\n                                                children: (0,_lib_currency__WEBPACK_IMPORTED_MODULE_6__.formatMoney)(toNum(item.subtotal))\n                                            }, void 0, false, {\n                                                fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                                lineNumber: 499,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex flex-col gap-0.5 shrink-0\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        onClick: ()=>openItemDiscount(item.id),\n                                                        title: \"Descuento item\",\n                                                        className: \"rounded p-1 text-gray-300 hover:bg-amber-50 hover:text-amber-500\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Banknote_CheckCircle2_ChefHat_CreditCard_DollarSign_FileText_Mic_MicOff_Pause_Percent_Play_Printer_Receipt_Scissors_Search_ShoppingCart_Tag_Trash2_TrendingUp_UserPlus_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_22__[\"default\"], {\n                                                            size: 12\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                                            lineNumber: 503,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                                        lineNumber: 501,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        onClick: ()=>{\n                                                            setShowVoidFor(item.id);\n                                                            setVoidReason('');\n                                                        },\n                                                        className: \"rounded p-1 text-gray-300 hover:bg-red-50 hover:text-red-500\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Banknote_CheckCircle2_ChefHat_CreditCard_DollarSign_FileText_Mic_MicOff_Pause_Percent_Play_Printer_Receipt_Scissors_Search_ShoppingCart_Tag_Trash2_TrendingUp_UserPlus_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_27__[\"default\"], {\n                                                            size: 12\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                                            lineNumber: 507,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                                        lineNumber: 505,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                                lineNumber: 500,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, item.id || idx, true, {\n                                        fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                        lineNumber: 488,\n                                        columnNumber: 17\n                                    }, this);\n                                })\n                            }, void 0, false, {\n                                fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                lineNumber: 486,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                            lineNumber: 479,\n                            columnNumber: 9\n                        }, this),\n                        order && items.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"border-t px-4 py-3 space-y-2 shrink-0\",\n                            children: [\n                                promoMsg && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"rounded-lg bg-green-50 border border-green-200 px-3 py-1.5 text-xs font-medium text-green-700 text-center\",\n                                    children: promoMsg\n                                }, void 0, false, {\n                                    fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                    lineNumber: 520,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex justify-between text-sm text-gray-500\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            children: \"Subtotal\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                            lineNumber: 524,\n                                            columnNumber: 73\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            children: (0,_lib_currency__WEBPACK_IMPORTED_MODULE_6__.formatMoney)(orderSubtotal)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                            lineNumber: 524,\n                                            columnNumber: 94\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                    lineNumber: 524,\n                                    columnNumber: 13\n                                }, this),\n                                orderDiscount > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex justify-between text-sm text-amber-600\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            children: [\n                                                \"Descuento \",\n                                                orderDiscountReason ? \"(\".concat(orderDiscountReason, \")\") : ''\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                            lineNumber: 527,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            children: [\n                                                \"-\",\n                                                (0,_lib_currency__WEBPACK_IMPORTED_MODULE_6__.formatMoney)(orderDiscount)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                            lineNumber: 528,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                    lineNumber: 526,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex justify-between text-sm text-gray-500\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            children: \"IVA (15%)\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                            lineNumber: 531,\n                                            columnNumber: 73\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            children: (0,_lib_currency__WEBPACK_IMPORTED_MODULE_6__.formatMoney)(orderTax)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                            lineNumber: 531,\n                                            columnNumber: 95\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                    lineNumber: 531,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex justify-between text-lg font-bold text-gray-900 border-t pt-2\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            children: \"Total\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                            lineNumber: 532,\n                                            columnNumber: 97\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            children: (0,_lib_currency__WEBPACK_IMPORTED_MODULE_6__.formatMoney)(orderTotal)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                            lineNumber: 532,\n                                            columnNumber: 115\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                    lineNumber: 532,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"grid grid-cols-2 gap-2 pt-1\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>store.cancelOrder(),\n                                            className: \"rounded-xl border border-gray-300 py-2.5 text-sm font-medium text-gray-600 hover:bg-gray-50\",\n                                            children: \"Cancelar\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                            lineNumber: 534,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>{\n                                                setShowPayment(true);\n                                                setPaymentResult(null);\n                                                setCashReceived('');\n                                            },\n                                            className: \"rounded-xl bg-green-600 py-2.5 text-sm font-bold text-white hover:bg-green-700 shadow-sm\",\n                                            children: [\n                                                \"Cobrar \",\n                                                (0,_lib_currency__WEBPACK_IMPORTED_MODULE_6__.formatMoney)(orderTotal)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                            lineNumber: 538,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                    lineNumber: 533,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                            lineNumber: 518,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                    lineNumber: 371,\n                    columnNumber: 7\n                }, this),\n                showPayment && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"fixed inset-0 z-50 flex items-center justify-center bg-black/50\",\n                    onClick: ()=>{\n                        if (!paymentResult) setShowPayment(false);\n                    },\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"w-full max-w-md rounded-2xl bg-white p-6 shadow-2xl\",\n                        onClick: (e)=>e.stopPropagation(),\n                        children: paymentResult ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-center\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"mx-auto flex h-16 w-16 items-center justify-center rounded-full bg-green-100\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Banknote_CheckCircle2_ChefHat_CreditCard_DollarSign_FileText_Mic_MicOff_Pause_Percent_Play_Printer_Receipt_Scissors_Search_ShoppingCart_Tag_Trash2_TrendingUp_UserPlus_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_28__[\"default\"], {\n                                        size: 32,\n                                        className: \"text-green-600\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                        lineNumber: 554,\n                                        columnNumber: 19\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                    lineNumber: 553,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                    className: \"mt-3 text-lg font-bold text-gray-900\",\n                                    children: \"Pago Exitoso\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                    lineNumber: 556,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-sm text-gray-500\",\n                                    children: \"Orden completada\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                    lineNumber: 557,\n                                    columnNumber: 17\n                                }, this),\n                                paymentResult.change > 0.005 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"mt-3 rounded-lg bg-amber-50 border border-amber-200 p-3\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-sm text-amber-800\",\n                                        children: [\n                                            \"Cambio: \",\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                className: \"text-lg\",\n                                                children: (0,_lib_currency__WEBPACK_IMPORTED_MODULE_6__.formatMoney)(paymentResult.change)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                                lineNumber: 560,\n                                                columnNumber: 67\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                        lineNumber: 560,\n                                        columnNumber: 21\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                    lineNumber: 559,\n                                    columnNumber: 19\n                                }, this),\n                                invoiceResult && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"mt-3 rounded-lg bg-blue-50 border border-blue-200 p-3 text-left\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-sm font-semibold text-blue-800 flex items-center gap-1\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Banknote_CheckCircle2_ChefHat_CreditCard_DollarSign_FileText_Mic_MicOff_Pause_Percent_Play_Printer_Receipt_Scissors_Search_ShoppingCart_Tag_Trash2_TrendingUp_UserPlus_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                                                    size: 14\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                                    lineNumber: 567,\n                                                    columnNumber: 96\n                                                }, this),\n                                                \" Factura Electr\\xf3nica\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                            lineNumber: 567,\n                                            columnNumber: 21\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-xs text-blue-700 mt-1\",\n                                            children: [\n                                                \"Secuencial: \",\n                                                invoiceResult.secuencial\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                            lineNumber: 568,\n                                            columnNumber: 21\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-xs text-blue-700\",\n                                            children: [\n                                                \"Estado: \",\n                                                invoiceResult.estado\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                            lineNumber: 569,\n                                            columnNumber: 21\n                                        }, this),\n                                        invoiceResult.claveAcceso && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-[10px] text-blue-500 mt-1 break-all\",\n                                            children: [\n                                                \"Clave: \",\n                                                invoiceResult.claveAcceso\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                            lineNumber: 570,\n                                            columnNumber: 51\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                    lineNumber: 566,\n                                    columnNumber: 19\n                                }, this),\n                                !invoiceResult && paymentResult.orderId && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>handleEmitInvoice(paymentResult.orderId),\n                                    disabled: invoiceLoading,\n                                    className: \"mt-3 w-full flex items-center justify-center gap-2 rounded-xl border-2 border-blue-500 bg-blue-50 py-2.5 text-sm font-semibold text-blue-700 hover:bg-blue-100 disabled:opacity-50\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Banknote_CheckCircle2_ChefHat_CreditCard_DollarSign_FileText_Mic_MicOff_Pause_Percent_Play_Printer_Receipt_Scissors_Search_ShoppingCart_Tag_Trash2_TrendingUp_UserPlus_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_30__[\"default\"], {\n                                            size: 16\n                                        }, void 0, false, {\n                                            fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                            lineNumber: 578,\n                                            columnNumber: 21\n                                        }, this),\n                                        invoiceLoading ? 'Generando...' : 'Generar Factura Electrónica'\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                    lineNumber: 576,\n                                    columnNumber: 19\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: handleNewOrder,\n                                    className: \"mt-3 w-full rounded-xl bg-blue-600 py-3 font-semibold text-white hover:bg-blue-700\",\n                                    children: \"Nueva Orden\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                    lineNumber: 583,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                            lineNumber: 552,\n                            columnNumber: 15\n                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-center justify-between mb-4\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                            className: \"text-lg font-bold text-gray-900\",\n                                            children: [\n                                                \"Cobrar \",\n                                                (0,_lib_currency__WEBPACK_IMPORTED_MODULE_6__.formatMoney)(orderTotal)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                            lineNumber: 590,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>setShowPayment(false),\n                                            className: \"rounded-lg p-1 text-gray-400 hover:bg-gray-100\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Banknote_CheckCircle2_ChefHat_CreditCard_DollarSign_FileText_Mic_MicOff_Pause_Percent_Play_Printer_Receipt_Scissors_Search_ShoppingCart_Tag_Trash2_TrendingUp_UserPlus_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n                                                size: 18\n                                            }, void 0, false, {\n                                                fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                                lineNumber: 591,\n                                                columnNumber: 124\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                            lineNumber: 591,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                    lineNumber: 589,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"grid grid-cols-2 gap-2 mb-4\",\n                                    children: Object.entries(METHOD_LABELS).map((param)=>{\n                                        let [key, cfg] = param;\n                                        const Icon = cfg.icon;\n                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>setPaymentMethod(key),\n                                            className: \"flex items-center gap-2 rounded-xl border-2 p-3 text-sm font-medium transition \".concat(paymentMethod === key ? 'border-blue-500 bg-blue-50 text-blue-700' : 'border-gray-200 text-gray-700 hover:border-gray-300'),\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Icon, {\n                                                    size: 18\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                                    lineNumber: 601,\n                                                    columnNumber: 25\n                                                }, this),\n                                                \" \",\n                                                cfg.label\n                                            ]\n                                        }, key, true, {\n                                            fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                            lineNumber: 597,\n                                            columnNumber: 23\n                                        }, this);\n                                    })\n                                }, void 0, false, {\n                                    fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                    lineNumber: 593,\n                                    columnNumber: 17\n                                }, this),\n                                paymentMethod === 'cash' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"mb-4\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                            className: \"mb-1 block text-sm font-medium text-gray-700\",\n                                            children: \"Recibido ($)\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                            lineNumber: 608,\n                                            columnNumber: 21\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                            type: \"number\",\n                                            value: cashReceived,\n                                            onChange: (e)=>setCashReceived(e.target.value),\n                                            placeholder: orderTotal.toFixed(2),\n                                            step: \"0.01\",\n                                            min: \"0\",\n                                            className: \"w-full rounded-lg border border-gray-300 px-4 py-3 text-xl font-bold text-gray-900 focus:border-green-400 focus:outline-none focus:ring-2 focus:ring-green-400/20\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                            lineNumber: 609,\n                                            columnNumber: 21\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"grid grid-cols-4 gap-2 mt-2\",\n                                            children: [\n                                                Math.ceil(orderTotal),\n                                                5,\n                                                10,\n                                                20\n                                            ].map((amt, i)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: ()=>setCashReceived(amt.toString()),\n                                                    className: \"rounded-lg border bg-gray-50 py-2 text-sm font-medium text-gray-700 hover:bg-green-50 hover:border-green-300\",\n                                                    children: [\n                                                        \"$\",\n                                                        amt\n                                                    ]\n                                                }, i, true, {\n                                                    fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                                    lineNumber: 614,\n                                                    columnNumber: 25\n                                                }, this))\n                                        }, void 0, false, {\n                                            fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                            lineNumber: 612,\n                                            columnNumber: 21\n                                        }, this),\n                                        cashReceived && parseFloat(cashReceived) >= orderTotal && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"mt-2 rounded-lg bg-green-50 p-2 text-center text-sm font-semibold text-green-700\",\n                                            children: [\n                                                \"Cambio: \",\n                                                (0,_lib_currency__WEBPACK_IMPORTED_MODULE_6__.formatMoney)(parseFloat(cashReceived) - orderTotal)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                            lineNumber: 621,\n                                            columnNumber: 23\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                    lineNumber: 607,\n                                    columnNumber: 19\n                                }, this),\n                                paymentMethod === 'transfer' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"mb-4\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                            className: \"mb-1 block text-sm font-medium text-gray-700\",\n                                            children: \"Nro. Comprobante\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                            lineNumber: 629,\n                                            columnNumber: 21\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                            type: \"text\",\n                                            value: transferRef,\n                                            onChange: (e)=>setTransferRef(e.target.value),\n                                            placeholder: \"Ej: 12345678\",\n                                            className: \"w-full rounded-lg border border-gray-300 px-4 py-3 text-lg font-bold text-gray-900 focus:border-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-400/20\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                            lineNumber: 630,\n                                            columnNumber: 21\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                    lineNumber: 628,\n                                    columnNumber: 19\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: handlePayment,\n                                    disabled: paymentLoading || paymentMethod === 'cash' && cashReceived !== '' && parseFloat(cashReceived) < orderTotal,\n                                    className: \"w-full rounded-xl bg-green-600 py-3.5 text-lg font-bold text-white hover:bg-green-700 disabled:opacity-50\",\n                                    children: paymentLoading ? 'Procesando...' : \"Cobrar \".concat((0,_lib_currency__WEBPACK_IMPORTED_MODULE_6__.formatMoney)(orderTotal))\n                                }, void 0, false, {\n                                    fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                    lineNumber: 635,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, void 0, true)\n                    }, void 0, false, {\n                        fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                        lineNumber: 550,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                    lineNumber: 549,\n                    columnNumber: 9\n                }, this),\n                showVoidFor && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"fixed inset-0 z-50 flex items-center justify-center bg-black/50\",\n                    onClick: ()=>setShowVoidFor(null),\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"w-full max-w-sm rounded-2xl bg-white p-6 shadow-2xl\",\n                        onClick: (e)=>e.stopPropagation(),\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                className: \"text-lg font-bold text-gray-900 mb-3\",\n                                children: \"Anular Item\"\n                            }, void 0, false, {\n                                fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                lineNumber: 650,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                type: \"text\",\n                                value: voidReason,\n                                onChange: (e)=>setVoidReason(e.target.value),\n                                placeholder: \"Raz\\xf3n de anulaci\\xf3n...\",\n                                autoFocus: true,\n                                className: \"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:border-red-400 focus:outline-none\",\n                                onKeyDown: (e)=>{\n                                    if (e.key === 'Enter' && showVoidFor) handleVoidItem(showVoidFor);\n                                }\n                            }, void 0, false, {\n                                fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                lineNumber: 651,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mt-4 flex gap-3\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>setShowVoidFor(null),\n                                        className: \"flex-1 rounded-xl border py-2 text-sm font-medium text-gray-600 hover:bg-gray-50\",\n                                        children: \"Cancelar\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                        lineNumber: 656,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>showVoidFor && handleVoidItem(showVoidFor),\n                                        disabled: !voidReason.trim(),\n                                        className: \"flex-1 rounded-xl bg-red-600 py-2 text-sm font-semibold text-white hover:bg-red-700 disabled:opacity-50\",\n                                        children: \"Anular\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                        lineNumber: 657,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                lineNumber: 655,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                        lineNumber: 649,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                    lineNumber: 648,\n                    columnNumber: 9\n                }, this),\n                showSplit && order && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react__WEBPACK_IMPORTED_MODULE_2__.Suspense, {\n                    fallback: null,\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(SplitBillModal, {\n                        order: order,\n                        branding: {},\n                        onClose: ()=>setShowSplit(false),\n                        onOrderCompleted: ()=>{\n                            setShowSplit(false);\n                            handleNewOrder();\n                        }\n                    }, void 0, false, {\n                        fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                        lineNumber: 667,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                    lineNumber: 666,\n                    columnNumber: 9\n                }, this),\n                showDiscount && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"fixed inset-0 z-50 flex items-center justify-center bg-black/50\",\n                    onClick: ()=>setShowDiscount(false),\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"w-full max-w-sm rounded-2xl bg-white p-6 shadow-2xl\",\n                        onClick: (e)=>e.stopPropagation(),\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                className: \"text-lg font-bold text-gray-900 mb-1\",\n                                children: discountTarget ? 'Descuento en Item' : 'Descuento en Orden'\n                            }, void 0, false, {\n                                fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                lineNumber: 680,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-xs text-gray-500 mb-4\",\n                                children: discountTarget ? 'Aplicar descuento a este producto' : 'Aplicar descuento al total de la orden'\n                            }, void 0, false, {\n                                fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                lineNumber: 683,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex gap-2 mb-3\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>setDiscountType('percentage'),\n                                        className: \"flex-1 rounded-lg border-2 py-2 text-sm font-medium transition \".concat(discountType === 'percentage' ? 'border-amber-500 bg-amber-50 text-amber-700' : 'border-gray-200 text-gray-600'),\n                                        children: \"% Porcentaje\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                        lineNumber: 686,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>setDiscountType('fixed'),\n                                        className: \"flex-1 rounded-lg border-2 py-2 text-sm font-medium transition \".concat(discountType === 'fixed' ? 'border-amber-500 bg-amber-50 text-amber-700' : 'border-gray-200 text-gray-600'),\n                                        children: \"$ Fijo\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                        lineNumber: 690,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                lineNumber: 685,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                type: \"number\",\n                                value: discountValue,\n                                onChange: (e)=>setDiscountValue(e.target.value),\n                                placeholder: discountType === 'percentage' ? 'Ej: 10' : 'Ej: 2.50',\n                                step: \"0.01\",\n                                min: \"0\",\n                                autoFocus: true,\n                                className: \"w-full rounded-lg border border-gray-300 px-4 py-3 text-lg font-bold text-gray-900 mb-3 focus:border-amber-400 focus:outline-none\"\n                            }, void 0, false, {\n                                fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                lineNumber: 696,\n                                columnNumber: 13\n                            }, this),\n                            discountType === 'percentage' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"grid grid-cols-4 gap-2 mb-3\",\n                                children: [\n                                    5,\n                                    10,\n                                    15,\n                                    20\n                                ].map((v)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>setDiscountValue(v.toString()),\n                                        className: \"rounded-lg border bg-gray-50 py-2 text-sm font-medium text-gray-700 hover:bg-amber-50 hover:border-amber-300\",\n                                        children: [\n                                            v,\n                                            \"%\"\n                                        ]\n                                    }, v, true, {\n                                        fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                        lineNumber: 703,\n                                        columnNumber: 19\n                                    }, this))\n                            }, void 0, false, {\n                                fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                lineNumber: 701,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                type: \"text\",\n                                value: discountReason,\n                                onChange: (e)=>setDiscountReason(e.target.value),\n                                placeholder: \"Raz\\xf3n (opcional)\",\n                                className: \"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm mb-4 focus:border-amber-400 focus:outline-none\"\n                            }, void 0, false, {\n                                fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                lineNumber: 711,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex gap-3\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>setShowDiscount(false),\n                                        className: \"flex-1 rounded-xl border py-2.5 text-sm font-medium text-gray-600 hover:bg-gray-50\",\n                                        children: \"Cancelar\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                        lineNumber: 715,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: handleApplyDiscount,\n                                        disabled: !discountValue || parseFloat(discountValue) <= 0,\n                                        className: \"flex-1 rounded-xl bg-amber-600 py-2.5 text-sm font-semibold text-white hover:bg-amber-700 disabled:opacity-50\",\n                                        children: \"Aplicar Descuento\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                        lineNumber: 716,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                lineNumber: 714,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                        lineNumber: 679,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                    lineNumber: 678,\n                    columnNumber: 9\n                }, this),\n                showCoupon && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"fixed inset-0 z-50 flex items-center justify-center bg-black/50\",\n                    onClick: ()=>setShowCoupon(false),\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"w-full max-w-sm rounded-2xl bg-white p-6 shadow-2xl\",\n                        onClick: (e)=>e.stopPropagation(),\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                className: \"text-lg font-bold text-gray-900 mb-4\",\n                                children: \"Promociones y Cupones\"\n                            }, void 0, false, {\n                                fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                lineNumber: 729,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: handleApplyAutoPromos,\n                                className: \"w-full rounded-xl border-2 border-dashed border-pink-300 bg-pink-50 py-3 text-sm font-medium text-pink-700 hover:bg-pink-100 mb-4\",\n                                children: \"\\uD83C\\uDFAF Aplicar Promociones Autom\\xe1ticas\"\n                            }, void 0, false, {\n                                fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                lineNumber: 732,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                className: \"mb-1.5 block text-sm font-medium text-gray-700\",\n                                children: \"C\\xf3digo de Cup\\xf3n\"\n                            }, void 0, false, {\n                                fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                lineNumber: 738,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex gap-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        type: \"text\",\n                                        value: couponCode,\n                                        onChange: (e)=>setCouponCode(e.target.value.toUpperCase()),\n                                        placeholder: \"DESCUENTO20\",\n                                        autoFocus: true,\n                                        className: \"flex-1 rounded-lg border border-gray-300 px-3 py-2 text-sm font-mono uppercase focus:border-pink-400 focus:outline-none\",\n                                        onKeyDown: (e)=>{\n                                            if (e.key === 'Enter') handleApplyCoupon();\n                                        }\n                                    }, void 0, false, {\n                                        fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                        lineNumber: 740,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: handleApplyCoupon,\n                                        disabled: !couponCode.trim(),\n                                        className: \"rounded-xl bg-pink-600 px-4 py-2 text-sm font-semibold text-white hover:bg-pink-700 disabled:opacity-50\",\n                                        children: \"Aplicar\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                        lineNumber: 744,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                lineNumber: 739,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: ()=>setShowCoupon(false),\n                                className: \"w-full mt-4 rounded-xl border py-2 text-sm font-medium text-gray-600 hover:bg-gray-50\",\n                                children: \"Cerrar\"\n                            }, void 0, false, {\n                                fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                lineNumber: 750,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                        lineNumber: 728,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                    lineNumber: 727,\n                    columnNumber: 9\n                }, this),\n                showCustomerSearch && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"fixed inset-0 z-50 flex items-center justify-center bg-black/50\",\n                    onClick: ()=>setShowCustomerSearch(false),\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"w-full max-w-md rounded-2xl bg-white p-6 shadow-2xl max-h-[80vh] flex flex-col\",\n                        onClick: (e)=>e.stopPropagation(),\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center justify-between mb-4 shrink-0\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                        className: \"text-lg font-bold text-gray-900\",\n                                        children: \"Asignar Cliente\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                        lineNumber: 762,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>setShowCustomerSearch(false),\n                                        className: \"rounded-lg p-1 text-gray-400 hover:bg-gray-100\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Banknote_CheckCircle2_ChefHat_CreditCard_DollarSign_FileText_Mic_MicOff_Pause_Percent_Play_Printer_Receipt_Scissors_Search_ShoppingCart_Tag_Trash2_TrendingUp_UserPlus_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n                                            size: 18\n                                        }, void 0, false, {\n                                            fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                            lineNumber: 763,\n                                            columnNumber: 127\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                        lineNumber: 763,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                lineNumber: 761,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"relative mb-3 shrink-0\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Banknote_CheckCircle2_ChefHat_CreditCard_DollarSign_FileText_Mic_MicOff_Pause_Percent_Play_Printer_Receipt_Scissors_Search_ShoppingCart_Tag_Trash2_TrendingUp_UserPlus_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                                        size: 16,\n                                        className: \"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                        lineNumber: 768,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        type: \"text\",\n                                        value: customerQuery,\n                                        onChange: (e)=>searchCustomers(e.target.value),\n                                        placeholder: \"Buscar por nombre, c\\xe9dula, RUC...\",\n                                        autoFocus: true,\n                                        className: \"w-full rounded-lg border border-gray-300 bg-gray-50 py-2.5 pl-9 pr-3 text-sm focus:border-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-400/20\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                        lineNumber: 769,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                lineNumber: 767,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: ()=>{\n                                    setSelectedCustomer(null);\n                                    setShowCustomerSearch(false);\n                                },\n                                className: \"w-full rounded-lg border-2 border-dashed border-gray-300 py-2.5 mb-3 text-sm font-medium text-gray-500 hover:border-blue-300 hover:text-blue-600 shrink-0\",\n                                children: \"Consumidor Final (sin cliente)\"\n                            }, void 0, false, {\n                                fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                lineNumber: 777,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex-1 overflow-y-auto space-y-1.5 min-h-0\",\n                                children: [\n                                    customerSearching && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center justify-center py-6\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"h-6 w-6 animate-spin rounded-full border-2 border-blue-600 border-t-transparent\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                            lineNumber: 786,\n                                            columnNumber: 19\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                        lineNumber: 785,\n                                        columnNumber: 17\n                                    }, this),\n                                    !customerSearching && customerResults.length === 0 && customerQuery.length >= 2 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-center text-sm text-gray-400 py-6\",\n                                        children: \"No se encontraron clientes\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                        lineNumber: 790,\n                                        columnNumber: 17\n                                    }, this),\n                                    customerResults.map((c)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>assignCustomer(c),\n                                            className: \"flex w-full items-center gap-3 rounded-xl border border-gray-200 bg-white px-4 py-3 text-left hover:border-blue-300 hover:bg-blue-50 transition\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-blue-100 text-blue-600 font-bold text-sm\",\n                                                    children: (c.name || '?')[0].toUpperCase()\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                                    lineNumber: 795,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex-1 min-w-0\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                            className: \"text-sm font-semibold text-gray-900 truncate\",\n                                                            children: c.name\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                                            lineNumber: 799,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"flex items-center gap-2 text-xs text-gray-500\",\n                                                            children: [\n                                                                (c.taxId || c.tax_id) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                    children: c.taxId || c.tax_id\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                                                    lineNumber: 801,\n                                                                    columnNumber: 49\n                                                                }, this),\n                                                                c.email && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                    className: \"truncate\",\n                                                                    children: c.email\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                                                    lineNumber: 802,\n                                                                    columnNumber: 35\n                                                                }, this),\n                                                                c.phone && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                    children: c.phone\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                                                    lineNumber: 803,\n                                                                    columnNumber: 35\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                                            lineNumber: 800,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                                    lineNumber: 798,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, c.id, true, {\n                                            fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                            lineNumber: 793,\n                                            columnNumber: 17\n                                        }, this))\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                                lineNumber: 783,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                        lineNumber: 760,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n                    lineNumber: 759,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n            lineNumber: 295,\n            columnNumber: 5\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/carlosamores/Documents/Proyectos/pos-sas/apps/web/src/app/pos/page.tsx\",\n        lineNumber: 294,\n        columnNumber: 5\n    }, this);\n}\n_s(PosPage, \"ODYA1eoZoD0DVWxUsIXSo1j7CTM=\", false, function() {\n    return [\n        next_navigation__WEBPACK_IMPORTED_MODULE_3__.useRouter,\n        _store_pos_store__WEBPACK_IMPORTED_MODULE_4__.usePosStore,\n        _lib_use_socket__WEBPACK_IMPORTED_MODULE_5__.useSocket\n    ];\n});\n_c1 = PosPage;\nvar _c, _c1;\n$RefreshReg$(_c, \"SplitBillModal\");\n$RefreshReg$(_c1, \"PosPage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9hcHAvcG9zL3BhZ2UudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQzZFO0FBRVQ7QUFDeEI7QUFDSTtBQUNRO0FBQ1g7QUFDYjtBQUN5QztBQU9uRDtBQUV0QixNQUFNc0MsK0JBQWlCakMsMkNBQUlBLENBQUMsSUFBTSxxUEFBdUM7S0FBbkVpQztBQUVOLE1BQU1DLGdCQUE4RDtJQUNsRUMsTUFBTTtRQUFFQyxPQUFPO1FBQVlDLE1BQU1yQix3UEFBUUE7SUFBQztJQUMxQ3NCLGFBQWE7UUFBRUYsT0FBTztRQUFtQkMsTUFBTXRCLHlQQUFVQTtJQUFDO0lBQzFEd0IsWUFBWTtRQUFFSCxPQUFPO1FBQWtCQyxNQUFNdEIseVBBQVVBO0lBQUM7SUFDeER5QixVQUFVO1FBQUVKLE9BQU87UUFBaUJDLE1BQU1wQix5UEFBVUE7SUFBQztJQUNyRHdCLFFBQVE7UUFBRUwsT0FBTztRQUFxQkMsTUFBTW5CLHlQQUFVQTtJQUFDO0FBQ3pEO0FBRUEsTUFBTXdCLFFBQVEsQ0FBQ0M7SUFDYixJQUFJLE9BQU9BLE1BQU0sVUFBVSxPQUFPQTtJQUNsQyxJQUFJLE9BQU9BLE1BQU0sVUFBVSxPQUFPQyxXQUFXRCxNQUFNO0lBQ25ELE9BQU87QUFDVDtBQUVlLFNBQVNFO1FBMlBSQzs7SUExUGQsTUFBTUMsU0FBUzdDLDBEQUFTQTtJQUN4QixNQUFNOEMsUUFBUTdDLDZEQUFXQTtJQUN6QixNQUFNLEVBQUU4QyxJQUFJQyxJQUFJLEVBQUUsR0FBRzlDLDBEQUFTQTtJQUU5QixNQUFNLENBQUMrQyxhQUFhQyxlQUFlLEdBQUd0RCwrQ0FBUUEsQ0FBQztJQUMvQyxNQUFNLENBQUN1RCxlQUFlQyxpQkFBaUIsR0FBR3hELCtDQUFRQSxDQUFDO0lBQ25ELE1BQU0sQ0FBQ3lELGNBQWNDLGdCQUFnQixHQUFHMUQsK0NBQVFBLENBQUM7SUFDakQsTUFBTSxDQUFDMkQsZ0JBQWdCQyxr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UyxJQUFNekQsZUFBZXVIOzRDQUMvQ2hFLFdBQVU7OzhEQUNWLDhEQUFDRDtvREFBSUMsV0FBVTs4REFDWixDQUFDZ0UsRUFBRTFHLElBQUksSUFBSSxHQUFFLENBQUUsQ0FBQyxFQUFFLENBQUN5RyxXQUFXOzs7Ozs7OERBRWpDLDhEQUFDaEU7b0RBQUlDLFdBQVU7O3NFQUNiLDhEQUFDZ0I7NERBQUVoQixXQUFVO3NFQUFnRGdFLEVBQUUxRyxJQUFJOzs7Ozs7c0VBQ25FLDhEQUFDeUM7NERBQUlDLFdBQVU7O2dFQUNYZ0UsQ0FBQUEsRUFBRWhILEtBQUssSUFBSWdILEVBQUUvRyxNQUFNLG1CQUFLLDhEQUFDb0U7OEVBQU0yQyxFQUFFaEgsS0FBSyxJQUFJZ0gsRUFBRS9HLE1BQU07Ozs7OztnRUFDbkQrRyxFQUFFekcsS0FBSyxrQkFBSSw4REFBQzhEO29FQUFLckIsV0FBVTs4RUFBWWdFLEVBQUV6RyxLQUFLOzs7Ozs7Z0VBQzlDeUcsRUFBRXBHLEtBQUssa0JBQUksOERBQUN5RDs4RUFBTTJDLEVBQUVwRyxLQUFLOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OzJDQVZuQm9HLEVBQUVySyxFQUFFOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFzQmpDO0dBNXdCd0JoRjs7UUFDUDNDLHNEQUFTQTtRQUNWQyx5REFBV0E7UUFDSkMsc0RBQVNBOzs7TUFIUnlDIiwic291cmNlcyI6WyIvVXNlcnMvY2FybG9zYW1vcmVzL0RvY3VtZW50cy9Qcm95ZWN0b3MvcG9zLXNhcy9hcHBzL3dlYi9zcmMvYXBwL3Bvcy9wYWdlLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XG5pbXBvcnQgeyBBcHBTaGVsbFdyYXBwZXIgYXMgQXBwU2hlbGwgfSBmcm9tICdAL2NvbXBvbmVudHMvYXBwLXNoZWxsLXdyYXBwZXInO1xuXG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVN0YXRlLCB1c2VSZWYsIGxhenksIFN1c3BlbnNlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSAnbmV4dC9uYXZpZ2F0aW9uJztcbmltcG9ydCB7IHVzZVBvc1N0b3JlIH0gZnJvbSAnQC9zdG9yZS9wb3Mtc3RvcmUnO1xuaW1wb3J0IHsgdXNlU29ja2V0LCBXU19FVkVOVFMgfSBmcm9tICdAL2xpYi91c2Utc29ja2V0JztcbmltcG9ydCB7IGZvcm1hdE1vbmV5IH0gZnJvbSAnQC9saWIvY3VycmVuY3knO1xuaW1wb3J0IHsgYXBpIH0gZnJvbSAnQC9saWIvYXBpJztcbmltcG9ydCB7IHByaW50Q29tYW5kYSwgcHJpbnRQcmVCaWxsLCBnZXRQcmludENvbmZpZyB9IGZyb20gJ0AvbGliL3ByaW50JztcbmltcG9ydCB7XG4gIFNlYXJjaCwgU2hvcHBpbmdDYXJ0LCBUcmFzaDIsIFgsIENyZWRpdENhcmQsXG4gIEJhbmtub3RlLCBUcmVuZGluZ1VwLCBEb2xsYXJTaWduLCBQYXVzZSwgUGxheSxcbiAgVGFnLCBDaGVja0NpcmNsZTIsIENoZWZIYXQsIFByaW50ZXIsIFJlY2VpcHQsXG4gIE1pYywgTWljT2ZmLCBVc2VycywgU2Npc3NvcnMsIEFsZXJ0Q2lyY2xlLCBQZXJjZW50LFxuICBVc2VyUGx1cywgRmlsZVRleHQsIFphcCxcbn0gZnJvbSAnbHVjaWRlLXJlYWN0JztcblxuY29uc3QgU3BsaXRCaWxsTW9kYWwgPSBsYXp5KCgpID0+IGltcG9ydCgnQC9jb21wb25lbnRzL3NwbGl0LWJpbGwtbW9kYWwnKSk7XG5cbmNvbnN0IE1FVEhPRF9MQUJFTFM6IFJlY29yZDxzdHJpbmcsIHsgbGFiZWw6IHN0cmluZzsgaWNvbjogYW55IH0+ID0ge1xuICBjYXNoOiB7IGxhYmVsOiAnRWZlY3Rpdm8nLCBpY29uOiBCYW5rbm90ZSB9LFxuICBjcmVkaXRfY2FyZDogeyBsYWJlbDogJ1RhcmpldGEgQ3LDqWRpdG8nLCBpY29uOiBDcmVkaXRDYXJkIH0sXG4gIGRlYml0X2NhcmQ6IHsgbGFiZWw6ICdUYXJqZXRhIETDqWJpdG8nLCBpY29uOiBDcmVkaXRDYXJkIH0sXG4gIHRyYW5zZmVyOiB7IGxhYmVsOiAnVHJhbnNmZXJlbmNpYScsIGljb246IFRyZW5kaW5nVXAgfSxcbiAgd2FsbGV0OiB7IGxhYmVsOiAnQmlsbGV0ZXJhIERpZ2l0YWwnLCBpY29uOiBEb2xsYXJTaWduIH0sXG59O1xuXG5jb25zdCB0b051bSA9ICh2OiBhbnkpOiBudW1iZXIgPT4ge1xuICBpZiAodHlwZW9mIHYgPT09ICdudW1iZXInKSByZXR1cm4gdjtcbiAgaWYgKHR5cGVvZiB2ID09PSAnc3RyaW5nJykgcmV0dXJuIHBhcnNlRmxvYXQodikgfHwgMDtcbiAgcmV0dXJuIDA7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBQb3NQYWdlKCkge1xuICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTtcbiAgY29uc3Qgc3RvcmUgPSB1c2VQb3NTdG9yZSgpO1xuICBjb25zdCB7IG9uOiB3c09uIH0gPSB1c2VTb2NrZXQoKTtcblxuICBjb25zdCBbc2hvd1BheW1lbnQsIHNldFNob3dQYXltZW50XSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3BheW1lbnRNZXRob2QsIHNldFBheW1lbnRNZXRob2RdID0gdXNlU3RhdGUoJ2Nhc2gnKTtcbiAgY29uc3QgW2Nhc2hSZWNlaXZlZCwgc2V0Q2FzaFJlY2VpdmVkXSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW3BheW1lbnRMb2FkaW5nLCBzZXRQYXltZW50TG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtwYXltZW50UmVzdWx0LCBzZXRQYXltZW50UmVzdWx0XSA9IHVzZVN0YXRlPGFueT4obnVsbCk7XG4gIGNvbnN0IFtzaG93SGVsZCwgc2V0U2hvd0hlbGRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbdm9pZFJlYXNvbiwgc2V0Vm9pZFJlYXNvbl0gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFtzaG93Vm9pZEZvciwgc2V0U2hvd1ZvaWRGb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtzaG93U3BsaXQsIHNldFNob3dTcGxpdF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtraXRjaGVuU2VudCwgc2V0S2l0Y2hlblNlbnRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbdm9pY2VBY3RpdmUsIHNldFZvaWNlQWN0aXZlXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3ZvaWNlVGV4dCwgc2V0Vm9pY2VUZXh0XSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW3Nob3dEaXNjb3VudCwgc2V0U2hvd0Rpc2NvdW50XSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2Rpc2NvdW50VHlwZSwgc2V0RGlzY291bnRUeXBlXSA9IHVzZVN0YXRlPCdwZXJjZW50YWdlJyB8ICdmaXhlZCc+KCdwZXJjZW50YWdlJyk7XG4gIGNvbnN0IFtkaXNjb3VudFZhbHVlLCBzZXREaXNjb3VudFZhbHVlXSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW2Rpc2NvdW50UmVhc29uLCBzZXREaXNjb3VudFJlYXNvbl0gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFtkaXNjb3VudFRhcmdldCwgc2V0RGlzY291bnRUYXJnZXRdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7IC8vIG51bGwgPSBvcmRlciwgaXRlbUlkID0gaXRlbVxuICBjb25zdCBbc2hvd0NvdXBvbiwgc2V0U2hvd0NvdXBvbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtjb3Vwb25Db2RlLCBzZXRDb3Vwb25Db2RlXSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW3Byb21vTXNnLCBzZXRQcm9tb01zZ10gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFt0cmFuc2ZlclJlZiwgc2V0VHJhbnNmZXJSZWZdID0gdXNlU3RhdGUoJycpO1xuICAvLyBDdXN0b21lclxuICBjb25zdCBbc2hvd0N1c3RvbWVyU2VhcmNoLCBzZXRTaG93Q3VzdG9tZXJTZWFyY2hdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY3VzdG9tZXJRdWVyeSwgc2V0Q3VzdG9tZXJRdWVyeV0gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFtjdXN0b21lclJlc3VsdHMsIHNldEN1c3RvbWVyUmVzdWx0c10gPSB1c2VTdGF0ZTxhbnlbXT4oW10pO1xuICBjb25zdCBbY3VzdG9tZXJTZWFyY2hpbmcsIHNldEN1c3RvbWVyU2VhcmNoaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3NlbGVjdGVkQ3VzdG9tZXIsIHNldFNlbGVjdGVkQ3VzdG9tZXJdID0gdXNlU3RhdGU8YW55PihudWxsKTtcbiAgLy8gSW52b2ljZVxuICBjb25zdCBbaW52b2ljZUxvYWRpbmcsIHNldEludm9pY2VMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2ludm9pY2VSZXN1bHQsIHNldEludm9pY2VSZXN1bHRdID0gdXNlU3RhdGU8YW55PihudWxsKTtcbiAgY29uc3QgcmVjb2duaXRpb25SZWYgPSB1c2VSZWY8YW55PihudWxsKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHN0b3JlLnJlc3RvcmVTZXNzaW9uKCk7XG4gICAgaWYgKCFsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncG9zX3Rva2VuJykpIHsgcm91dGVyLnJlcGxhY2UoJy9sb2dpbicpOyByZXR1cm47IH1cbiAgICBzdG9yZS5sb2FkQ2F0ZWdvcmllcygpO1xuICAgIHN0b3JlLmxvYWRQcm9kdWN0cygpO1xuICAgIHN0b3JlLmxvYWRIZWxkT3JkZXJzKCk7XG4gIH0sIFtdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHVuc3VicyA9IFtcbiAgICAgIHdzT24oV1NfRVZFTlRTLk9SREVSX1BBSUQsICgpID0+IHsgaWYgKHN0b3JlLmN1cnJlbnRPcmRlcikgc3RvcmUucmVmcmVzaE9yZGVyKCk7IH0pLFxuICAgIF07XG4gICAgcmV0dXJuICgpID0+IHVuc3Vicy5mb3JFYWNoKGZuID0+IGZuKCkpO1xuICB9LCBbd3NPbiwgc3RvcmUuY3VycmVudE9yZGVyXSk7XG5cbiAgLy8g4pSA4pSA4pSAIEFjdGlvbnMg4pSA4pSA4pSAXG4gIGNvbnN0IGhhbmRsZUFkZEl0ZW0gPSBhc3luYyAocHJvZHVjdDogYW55KSA9PiB7XG4gICAgaWYgKCFzdG9yZS5jdXJyZW50T3JkZXIpIGF3YWl0IHN0b3JlLmNyZWF0ZU9yZGVyKCdjb3VudGVyJyk7XG4gICAgYXdhaXQgc3RvcmUuYWRkSXRlbVRvT3JkZXIocHJvZHVjdC5pZCwgMSk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlVm9pZEl0ZW0gPSBhc3luYyAoaXRlbUlkOiBzdHJpbmcpID0+IHtcbiAgICBpZiAoIXZvaWRSZWFzb24udHJpbSgpKSByZXR1cm47XG4gICAgYXdhaXQgc3RvcmUudm9pZEl0ZW0oaXRlbUlkLCB2b2lkUmVhc29uKTtcbiAgICBzZXRTaG93Vm9pZEZvcihudWxsKTtcbiAgICBzZXRWb2lkUmVhc29uKCcnKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVQYXltZW50ID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmICghc3RvcmUuY3VycmVudE9yZGVyKSByZXR1cm47XG4gICAgc2V0UGF5bWVudExvYWRpbmcodHJ1ZSk7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGFtb3VudCA9IHRvTnVtKHN0b3JlLmN1cnJlbnRPcmRlci50b3RhbCk7XG4gICAgICBjb25zdCByZWNlaXZlZCA9IHBheW1lbnRNZXRob2QgPT09ICdjYXNoJyAmJiBjYXNoUmVjZWl2ZWQgPyBwYXJzZUZsb2F0KGNhc2hSZWNlaXZlZCkgOiBhbW91bnQ7XG4gICAgICBjb25zdCByZWYgPSBwYXltZW50TWV0aG9kID09PSAndHJhbnNmZXInICYmIHRyYW5zZmVyUmVmLnRyaW0oKSA/IHRyYW5zZmVyUmVmLnRyaW0oKSA6IHVuZGVmaW5lZDtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHN0b3JlLnByb2Nlc3NQYXltZW50KHBheW1lbnRNZXRob2QsIGFtb3VudCwgcmVjZWl2ZWQsIHJlZik7XG4gICAgICBzZXRQYXltZW50UmVzdWx0KHsgLi4ucmVzdWx0LCBjaGFuZ2U6IHBheW1lbnRNZXRob2QgPT09ICdjYXNoJyA/IHJlY2VpdmVkIC0gYW1vdW50IDogMCwgb3JkZXJJZDogc3RvcmUuY3VycmVudE9yZGVyPy5pZCB8fCByZXN1bHQ/Lm9yZGVyPy5pZCB9KTtcbiAgICB9IGNhdGNoIChlOiBhbnkpIHsgYWxlcnQoZS5tZXNzYWdlKTsgfVxuICAgIHNldFBheW1lbnRMb2FkaW5nKGZhbHNlKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVOZXdPcmRlciA9ICgpID0+IHtcbiAgICBzZXRQYXltZW50UmVzdWx0KG51bGwpO1xuICAgIHNldEludm9pY2VSZXN1bHQobnVsbCk7XG4gICAgc2V0U2hvd1BheW1lbnQoZmFsc2UpO1xuICAgIHNldENhc2hSZWNlaXZlZCgnJyk7XG4gICAgc2V0VHJhbnNmZXJSZWYoJycpO1xuICAgIHNldFBheW1lbnRNZXRob2QoJ2Nhc2gnKTtcbiAgICBzZXRTZWxlY3RlZEN1c3RvbWVyKG51bGwpO1xuICAgIHN0b3JlLmNsZWFyT3JkZXIoKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVTZW5kVG9LaXRjaGVuID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmICghc3RvcmUuY3VycmVudE9yZGVyKSByZXR1cm47XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IGFwaS5wb3N0KGAvb3JkZXJzLyR7c3RvcmUuY3VycmVudE9yZGVyLmlkfS9zZW5kLXRvLWtpdGNoZW5gKTtcbiAgICAgIHNldEtpdGNoZW5TZW50KHRydWUpO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiBzZXRLaXRjaGVuU2VudChmYWxzZSksIDIwMDApO1xuICAgIH0gY2F0Y2ggKGU6IGFueSkge1xuICAgICAgLy8gZmFsbGJhY2s6IHRyeSBwcmludGluZyBjb21hbmRhIGxvY2FsbHlcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGNmZyA9IGdldFByaW50Q29uZmlnKCk7XG4gICAgICAgIHByaW50Q29tYW5kYShzdG9yZS5jdXJyZW50T3JkZXIsIGNmZyk7XG4gICAgICAgIHNldEtpdGNoZW5TZW50KHRydWUpO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHNldEtpdGNoZW5TZW50KGZhbHNlKSwgMjAwMCk7XG4gICAgICB9IGNhdGNoIHsgYWxlcnQoJ0Vycm9yIGFsIGVudmlhciBhIGNvY2luYScpOyB9XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVByaW50Q29tYW5kYSA9ICgpID0+IHtcbiAgICBpZiAoIXN0b3JlLmN1cnJlbnRPcmRlcikgcmV0dXJuO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBjZmcgPSBnZXRQcmludENvbmZpZygpO1xuICAgICAgcHJpbnRDb21hbmRhKHN0b3JlLmN1cnJlbnRPcmRlciwgY2ZnKTtcbiAgICB9IGNhdGNoIHsgYWxlcnQoJ0Vycm9yIGFsIGltcHJpbWlyIGNvbWFuZGEnKTsgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVByaW50UHJlQmlsbCA9ICgpID0+IHtcbiAgICBpZiAoIXN0b3JlLmN1cnJlbnRPcmRlcikgcmV0dXJuO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBjZmcgPSBnZXRQcmludENvbmZpZygpO1xuICAgICAgcHJpbnRQcmVCaWxsKHN0b3JlLmN1cnJlbnRPcmRlciwgY2ZnKTtcbiAgICB9IGNhdGNoIHsgYWxlcnQoJ0Vycm9yIGFsIGltcHJpbWlyIHByZS1jdWVudGEnKTsgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUFwcGx5RGlzY291bnQgPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKCFzdG9yZS5jdXJyZW50T3JkZXIgfHwgIWRpc2NvdW50VmFsdWUpIHJldHVybjtcbiAgICBjb25zdCB2YWwgPSBwYXJzZUZsb2F0KGRpc2NvdW50VmFsdWUpO1xuICAgIGlmIChpc05hTih2YWwpIHx8IHZhbCA8PSAwKSByZXR1cm47XG4gICAgdHJ5IHtcbiAgICAgIGlmIChkaXNjb3VudFRhcmdldCkge1xuICAgICAgICAvLyBJdGVtLWxldmVsIGRpc2NvdW50XG4gICAgICAgIGF3YWl0IGFwaS5wYXRjaChgL29yZGVycy8ke3N0b3JlLmN1cnJlbnRPcmRlci5pZH0vaXRlbXMvJHtkaXNjb3VudFRhcmdldH0vZGlzY291bnRgLCB7XG4gICAgICAgICAgdHlwZTogZGlzY291bnRUeXBlLCB2YWx1ZTogdmFsLCByZWFzb246IGRpc2NvdW50UmVhc29uIHx8ICdEZXNjdWVudG8nLFxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIE9yZGVyLWxldmVsIGRpc2NvdW50XG4gICAgICAgIGF3YWl0IGFwaS5wYXRjaChgL29yZGVycy8ke3N0b3JlLmN1cnJlbnRPcmRlci5pZH0vZGlzY291bnRgLCB7XG4gICAgICAgICAgdHlwZTogZGlzY291bnRUeXBlLCB2YWx1ZTogdmFsLCByZWFzb246IGRpc2NvdW50UmVhc29uIHx8ICdEZXNjdWVudG8nLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGF3YWl0IHN0b3JlLnJlZnJlc2hPcmRlcigpO1xuICAgICAgc2V0U2hvd0Rpc2NvdW50KGZhbHNlKTtcbiAgICAgIHNldERpc2NvdW50VmFsdWUoJycpO1xuICAgICAgc2V0RGlzY291bnRSZWFzb24oJycpO1xuICAgICAgc2V0RGlzY291bnRUYXJnZXQobnVsbCk7XG4gICAgfSBjYXRjaCAoZTogYW55KSB7IGFsZXJ0KGUubWVzc2FnZSk7IH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVBcHBseUNvdXBvbiA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAoIXN0b3JlLmN1cnJlbnRPcmRlciB8fCAhY291cG9uQ29kZS50cmltKCkpIHJldHVybjtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgYXBpLmFwcGx5Q291cG9uKHN0b3JlLmN1cnJlbnRPcmRlci5pZCwgY291cG9uQ29kZS50cmltKCkpO1xuICAgICAgYXdhaXQgc3RvcmUucmVmcmVzaE9yZGVyKCk7XG4gICAgICBzZXRQcm9tb01zZygnQ3Vww7NuIGFwbGljYWRvJyk7XG4gICAgICBzZXRDb3Vwb25Db2RlKCcnKTtcbiAgICAgIHNldFNob3dDb3Vwb24oZmFsc2UpO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiBzZXRQcm9tb01zZygnJyksIDMwMDApO1xuICAgIH0gY2F0Y2ggKGU6IGFueSkgeyBhbGVydChlLm1lc3NhZ2UpOyB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlQXBwbHlBdXRvUHJvbW9zID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmICghc3RvcmUuY3VycmVudE9yZGVyKSByZXR1cm47XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGFwaS5hcHBseVByb21vdGlvbnMoc3RvcmUuY3VycmVudE9yZGVyLmlkKTtcbiAgICAgIGF3YWl0IHN0b3JlLnJlZnJlc2hPcmRlcigpO1xuICAgICAgY29uc3QgY291bnQgPSByZXN1bHQ/LmFwcGxpZWQ/Lmxlbmd0aCB8fCAwO1xuICAgICAgc2V0UHJvbW9Nc2coY291bnQgPiAwID8gYCR7Y291bnR9IHByb21vKHMpIGFwbGljYWRhKHMpYCA6ICdTaW4gcHJvbW9zIGFwbGljYWJsZXMnKTtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4gc2V0UHJvbW9Nc2coJycpLCAzMDAwKTtcbiAgICB9IGNhdGNoIChlOiBhbnkpIHsgYWxlcnQoZS5tZXNzYWdlKTsgfVxuICB9O1xuXG4gIGNvbnN0IG9wZW5JdGVtRGlzY291bnQgPSAoaXRlbUlkOiBzdHJpbmcpID0+IHtcbiAgICBzZXREaXNjb3VudFRhcmdldChpdGVtSWQpO1xuICAgIHNldERpc2NvdW50VHlwZSgncGVyY2VudGFnZScpO1xuICAgIHNldERpc2NvdW50VmFsdWUoJycpO1xuICAgIHNldERpc2NvdW50UmVhc29uKCcnKTtcbiAgICBzZXRTaG93RGlzY291bnQodHJ1ZSk7XG4gIH07XG5cbiAgLy8g4pSA4pSA4pSAIEN1c3RvbWVyIOKUgOKUgOKUgFxuICBjb25zdCBzZWFyY2hDdXN0b21lcnMgPSBhc3luYyAocTogc3RyaW5nKSA9PiB7XG4gICAgc2V0Q3VzdG9tZXJRdWVyeShxKTtcbiAgICBpZiAocS5sZW5ndGggPCAyKSB7IHNldEN1c3RvbWVyUmVzdWx0cyhbXSk7IHJldHVybjsgfVxuICAgIHNldEN1c3RvbWVyU2VhcmNoaW5nKHRydWUpO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgYXBpLmdldDxhbnlbXT4oYC9jdXN0b21lcnMvc2VhcmNoP3E9JHtlbmNvZGVVUklDb21wb25lbnQocSl9YCk7XG4gICAgICBzZXRDdXN0b21lclJlc3VsdHMocmVzdWx0cyB8fCBbXSk7XG4gICAgfSBjYXRjaCB7IHNldEN1c3RvbWVyUmVzdWx0cyhbXSk7IH1cbiAgICBzZXRDdXN0b21lclNlYXJjaGluZyhmYWxzZSk7XG4gIH07XG5cbiAgY29uc3QgYXNzaWduQ3VzdG9tZXIgPSBhc3luYyAoY3VzdG9tZXI6IGFueSkgPT4ge1xuICAgIGlmICghc3RvcmUuY3VycmVudE9yZGVyKSByZXR1cm47XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IGFwaS5wYXRjaChgL29yZGVycy8ke3N0b3JlLmN1cnJlbnRPcmRlci5pZH0vY3VzdG9tZXJgLCB7IGN1c3RvbWVySWQ6IGN1c3RvbWVyLmlkIH0pO1xuICAgICAgc2V0U2VsZWN0ZWRDdXN0b21lcihjdXN0b21lcik7XG4gICAgICBzZXRTaG93Q3VzdG9tZXJTZWFyY2goZmFsc2UpO1xuICAgICAgc2V0Q3VzdG9tZXJRdWVyeSgnJyk7XG4gICAgICBzZXRDdXN0b21lclJlc3VsdHMoW10pO1xuICAgIH0gY2F0Y2ggKGU6IGFueSkgeyBhbGVydChlLm1lc3NhZ2UpOyB9XG4gIH07XG5cbiAgY29uc3QgcmVtb3ZlQ3VzdG9tZXIgPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKCFzdG9yZS5jdXJyZW50T3JkZXIpIHJldHVybjtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgYXBpLnBhdGNoKGAvb3JkZXJzLyR7c3RvcmUuY3VycmVudE9yZGVyLmlkfS9jdXN0b21lcmAsIHsgY3VzdG9tZXJJZDogbnVsbCB9KTtcbiAgICAgIHNldFNlbGVjdGVkQ3VzdG9tZXIobnVsbCk7XG4gICAgfSBjYXRjaCB7fVxuICB9O1xuXG4gIC8vIOKUgOKUgOKUgCBJbnZvaWNlIOKUgOKUgOKUgFxuICBjb25zdCBoYW5kbGVFbWl0SW52b2ljZSA9IGFzeW5jIChvcmRlcklkOiBzdHJpbmcpID0+IHtcbiAgICBzZXRJbnZvaWNlTG9hZGluZyh0cnVlKTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcGF5bG9hZDogYW55ID0geyBvcmRlcklkIH07XG4gICAgICBpZiAoc2VsZWN0ZWRDdXN0b21lcikge1xuICAgICAgICBwYXlsb2FkLmlkZW50aWZpY2FjaW9uID0gc2VsZWN0ZWRDdXN0b21lci50YXhJZCB8fCBzZWxlY3RlZEN1c3RvbWVyLnRheF9pZCB8fCAnOTk5OTk5OTk5OTk5OSc7XG4gICAgICAgIHBheWxvYWQudGlwb0lkZW50aWZpY2FjaW9uID0gc2VsZWN0ZWRDdXN0b21lci50YXhJZFR5cGUgfHwgc2VsZWN0ZWRDdXN0b21lci50YXhfaWRfdHlwZSB8fCAnMDcnO1xuICAgICAgICBwYXlsb2FkLnJhem9uU29jaWFsID0gc2VsZWN0ZWRDdXN0b21lci5uYW1lO1xuICAgICAgICBwYXlsb2FkLmVtYWlsID0gc2VsZWN0ZWRDdXN0b21lci5lbWFpbCB8fCB1bmRlZmluZWQ7XG4gICAgICAgIHBheWxvYWQuZGlyZWNjaW9uID0gdHlwZW9mIHNlbGVjdGVkQ3VzdG9tZXIuYWRkcmVzcyA9PT0gJ3N0cmluZycgPyBzZWxlY3RlZEN1c3RvbWVyLmFkZHJlc3MgOiBzZWxlY3RlZEN1c3RvbWVyLmFkZHJlc3M/LnN0cmVldCB8fCB1bmRlZmluZWQ7XG4gICAgICAgIHBheWxvYWQudGVsZWZvbm8gPSBzZWxlY3RlZEN1c3RvbWVyLnBob25lIHx8IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGFwaS5wb3N0KCcvc3JpL2VtaXRpcicsIHBheWxvYWQpO1xuICAgICAgc2V0SW52b2ljZVJlc3VsdChyZXN1bHQpO1xuICAgIH0gY2F0Y2ggKGU6IGFueSkgeyBhbGVydChlLm1lc3NhZ2UpOyB9XG4gICAgc2V0SW52b2ljZUxvYWRpbmcoZmFsc2UpO1xuICB9O1xuXG4gIC8vIOKUgOKUgOKUgCBWb2ljZSDilIDilIDilIBcbiAgY29uc3QgdG9nZ2xlVm9pY2UgPSAoKSA9PiB7XG4gICAgaWYgKHZvaWNlQWN0aXZlKSB7XG4gICAgICByZWNvZ25pdGlvblJlZi5jdXJyZW50Py5zdG9wKCk7XG4gICAgICBzZXRWb2ljZUFjdGl2ZShmYWxzZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IFNwZWVjaFJlY29nbml0aW9uID0gKHdpbmRvdyBhcyBhbnkpLlNwZWVjaFJlY29nbml0aW9uIHx8ICh3aW5kb3cgYXMgYW55KS53ZWJraXRTcGVlY2hSZWNvZ25pdGlvbjtcbiAgICBpZiAoIVNwZWVjaFJlY29nbml0aW9uKSB7IGFsZXJ0KCdSZWNvbm9jaW1pZW50byBkZSB2b3ogbm8gc29wb3J0YWRvJyk7IHJldHVybjsgfVxuICAgIGNvbnN0IHJlY29nID0gbmV3IFNwZWVjaFJlY29nbml0aW9uKCk7XG4gICAgcmVjb2cubGFuZyA9ICdlcy1FQyc7XG4gICAgcmVjb2cuY29udGludW91cyA9IHRydWU7XG4gICAgcmVjb2cuaW50ZXJpbVJlc3VsdHMgPSB0cnVlO1xuICAgIHJlY29nLm9ucmVzdWx0ID0gKGU6IGFueSkgPT4ge1xuICAgICAgY29uc3QgdHJhbnNjcmlwdCA9IEFycmF5LmZyb20oZS5yZXN1bHRzKS5tYXAoKHI6IGFueSkgPT4gclswXS50cmFuc2NyaXB0KS5qb2luKCcnKTtcbiAgICAgIHNldFZvaWNlVGV4dCh0cmFuc2NyaXB0KTtcbiAgICB9O1xuICAgIHJlY29nLm9uZW5kID0gKCkgPT4gc2V0Vm9pY2VBY3RpdmUoZmFsc2UpO1xuICAgIHJlY29nLnN0YXJ0KCk7XG4gICAgcmVjb2duaXRpb25SZWYuY3VycmVudCA9IHJlY29nO1xuICAgIHNldFZvaWNlQWN0aXZlKHRydWUpO1xuICB9O1xuXG4gIGNvbnN0IG9yZGVyID0gc3RvcmUuY3VycmVudE9yZGVyO1xuICBjb25zdCBpdGVtcyA9IG9yZGVyPy5pdGVtcz8uZmlsdGVyKChpOiBhbnkpID0+ICFpLmlzVm9pZCkgfHwgW107XG4gIGNvbnN0IG9yZGVyVG90YWwgPSBvcmRlciA/IHRvTnVtKG9yZGVyLnRvdGFsKSA6IDA7XG4gIGNvbnN0IG9yZGVyU3VidG90YWwgPSBvcmRlciA/IHRvTnVtKG9yZGVyLnN1YnRvdGFsKSA6IDA7XG4gIGNvbnN0IG9yZGVyVGF4ID0gb3JkZXIgPyB0b051bShvcmRlci50YXhBbW91bnQgfHwgb3JkZXIudGF4X2Ftb3VudCkgOiAwO1xuICBjb25zdCBvcmRlckRpc2NvdW50ID0gb3JkZXIgPyB0b051bShvcmRlci5kaXNjb3VudEFtb3VudCB8fCBvcmRlci5kaXNjb3VudF9hbW91bnQpIDogMDtcbiAgY29uc3Qgb3JkZXJEaXNjb3VudFJlYXNvbiA9IG9yZGVyPy5kaXNjb3VudFJlYXNvbiB8fCBvcmRlcj8uZGlzY291bnRfcmVhc29uIHx8ICcnO1xuXG4gIHJldHVybiAoXG4gICAgPEFwcFNoZWxsPlxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBoLWZ1bGwgYmctZ3JheS0xMDBcIj5cbiAgICAgIHsvKiDilZDilZDilZAgTEVGVDogQ2F0ZWdvcmllcyArIFByb2R1Y3RzIOKVkOKVkOKVkCAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LTEgZmxleC1jb2wgbWluLXctMFwiPlxuICAgICAgICB7LyogQ2F0ZWdvcnkgYmFyICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIGJnLXdoaXRlIGJvcmRlci1iIHB4LTMgcHktMiBzaHJpbmstMCBvdmVyZmxvdy14LWF1dG8gc2Nyb2xsYmFyLWhpZGVcIj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzdG9yZS5zZXRTZWxlY3RlZENhdGVnb3J5KG51bGwpfVxuICAgICAgICAgICAgY2xhc3NOYW1lPXtgc2hyaW5rLTAgcm91bmRlZC1sZyBweC0zIHB5LTEuNSB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRyYW5zaXRpb24gJHtcbiAgICAgICAgICAgICAgIXN0b3JlLnNlbGVjdGVkQ2F0ZWdvcnkgPyAnYmctYmx1ZS02MDAgdGV4dC13aGl0ZScgOiAnYmctZ3JheS0xMDAgdGV4dC1ncmF5LTcwMCBob3ZlcjpiZy1ncmF5LTIwMCdcbiAgICAgICAgICAgIH1gfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIFRvZG9zXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAge3N0b3JlLmNhdGVnb3JpZXMubWFwKChjYXQ6IGFueSkgPT4gKFxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBrZXk9e2NhdC5pZH1cbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc3RvcmUuc2V0U2VsZWN0ZWRDYXRlZ29yeShjYXQuaWQpfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9e2BzaHJpbmstMCByb3VuZGVkLWxnIHB4LTMgcHktMS41IHRleHQtc20gZm9udC1tZWRpdW0gdHJhbnNpdGlvbiAke1xuICAgICAgICAgICAgICAgIHN0b3JlLnNlbGVjdGVkQ2F0ZWdvcnkgPT09IGNhdC5pZCA/ICdiZy1ibHVlLTYwMCB0ZXh0LXdoaXRlJyA6ICdiZy1ncmF5LTEwMCB0ZXh0LWdyYXktNzAwIGhvdmVyOmJnLWdyYXktMjAwJ1xuICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge2NhdC5uYW1lfVxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgKSl9XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHsvKiBTZWFyY2ggKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHgtMyBweS0yIGJnLXdoaXRlIGJvcmRlci1iIHNocmluay0wXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZVwiPlxuICAgICAgICAgICAgPFNlYXJjaCBzaXplPXsxNn0gY2xhc3NOYW1lPVwiYWJzb2x1dGUgbGVmdC0zIHRvcC0xLzIgLXRyYW5zbGF0ZS15LTEvMiB0ZXh0LWdyYXktNDAwXCIgLz5cbiAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiIHZhbHVlPXtzdG9yZS5zZWFyY2hRdWVyeX0gb25DaGFuZ2U9e2UgPT4gc3RvcmUuc2V0U2VhcmNoUXVlcnkoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkJ1c2NhciBwcm9kdWN0by4uLlwiXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCByb3VuZGVkLWxnIGJvcmRlciBib3JkZXItZ3JheS0yMDAgYmctZ3JheS01MCBweS0yIHBsLTkgcHItMyB0ZXh0LXNtIGZvY3VzOmJvcmRlci1ibHVlLTQwMCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctYmx1ZS00MDAvMjBcIlxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICB7dm9pY2VBY3RpdmUgJiYgdm9pY2VUZXh0ICYmIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMSByb3VuZGVkIGJnLWJsdWUtNTAgcHgtMiBweS0xIHRleHQteHMgdGV4dC1ibHVlLTcwMCB0cnVuY2F0ZVwiPvCfjpnvuI8ge3ZvaWNlVGV4dH08L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICB7LyogUHJvZHVjdCBncmlkICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBvdmVyZmxvdy15LWF1dG8gcC0zXCI+XG4gICAgICAgICAge3N0b3JlLmxvYWRpbmcgPyAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaC1mdWxsIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImgtOCB3LTggYW5pbWF0ZS1zcGluIHJvdW5kZWQtZnVsbCBib3JkZXItNCBib3JkZXItYmx1ZS02MDAgYm9yZGVyLXQtdHJhbnNwYXJlbnRcIiAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKSA6IHN0b3JlLnByb2R1Y3RzLmxlbmd0aCA9PT0gMCA/IChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBoLWZ1bGwgZmxleC1jb2wgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHRleHQtZ3JheS00MDBcIj5cbiAgICAgICAgICAgICAgPFRhZyBzaXplPXs0MH0gY2xhc3NOYW1lPVwibWItMlwiIC8+XG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc21cIj5ObyBoYXkgcHJvZHVjdG9zPC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKSA6IChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMiBzbTpncmlkLWNvbHMtMyBtZDpncmlkLWNvbHMtNCB4bDpncmlkLWNvbHMtNSBnYXAtMlwiPlxuICAgICAgICAgICAgICB7c3RvcmUucHJvZHVjdHMubWFwKChwOiBhbnkpID0+IChcbiAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICBrZXk9e3AuaWR9IG9uQ2xpY2s9eygpID0+IGhhbmRsZUFkZEl0ZW0ocCl9XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlciByb3VuZGVkLXhsIGJvcmRlciBiZy13aGl0ZSBwLTMgdGV4dC1jZW50ZXIgc2hhZG93LXNtIHRyYW5zaXRpb24gaG92ZXI6c2hhZG93LW1kIGhvdmVyOmJvcmRlci1ibHVlLTMwMCBhY3RpdmU6c2NhbGUtOTVcIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIHtwLmltYWdlVXJsID8gKFxuICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz17cC5pbWFnZVVybH0gYWx0PXtwLm5hbWV9IGNsYXNzTmFtZT1cImgtMTYgdy0xNiByb3VuZGVkLWxnIG9iamVjdC1jb3ZlciBtYi0yXCIgLz5cbiAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBoLTE2IHctMTYgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHJvdW5kZWQtbGcgYmctZ3JhZGllbnQtdG8tYnIgZnJvbS1ibHVlLTUwIHRvLWJsdWUtMTAwIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LTJ4bFwiPntwLmVtb2ppIHx8ICfwn42977iPJ308L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgZm9udC1tZWRpdW0gdGV4dC1ncmF5LTkwMCBsaW5lLWNsYW1wLTIgbGVhZGluZy10aWdodFwiPntwLm5hbWV9PC9wPlxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibXQtMSB0ZXh0LXNtIGZvbnQtYm9sZCB0ZXh0LWJsdWUtNjAwXCI+e2Zvcm1hdE1vbmV5KHRvTnVtKHAucHJpY2UpKX08L3A+XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAgey8qIOKVkOKVkOKVkCBSSUdIVDogQ2FydCDilZDilZDilZAgKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImhpZGRlbiBtZDpmbGV4IHctODAgbGc6dy05NiBmbGV4LWNvbCBib3JkZXItbCBiZy13aGl0ZSBzaHJpbmstMFwiPlxuICAgICAgICB7LyogQ2FydCBoZWFkZXIgKyB0b29sYmFyICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBib3JkZXItYiBweC0zIHB5LTIgc2hyaW5rLTBcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICA8U2hvcHBpbmdDYXJ0IHNpemU9ezE4fSBjbGFzc05hbWU9XCJ0ZXh0LWJsdWUtNjAwXCIgLz5cbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtYm9sZCB0ZXh0LWdyYXktOTAwXCI+XG4gICAgICAgICAgICAgICAge29yZGVyID8gYCMke29yZGVyLm9yZGVyTnVtYmVyIHx8ICcnfWAgOiAnTnVldmEgT3JkZW4nfVxuICAgICAgICAgICAgICA8L2gyPlxuICAgICAgICAgICAgICB7c2VsZWN0ZWRDdXN0b21lciAmJiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMVwiPlxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1bMTBweF0gdGV4dC1ncmVlbi03MDAgZm9udC1tZWRpdW0gdHJ1bmNhdGUgbWF4LXctWzEyMHB4XVwiPntzZWxlY3RlZEN1c3RvbWVyLm5hbWV9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtyZW1vdmVDdXN0b21lcn0gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTQwMCBob3Zlcjp0ZXh0LXJlZC01MDBcIj48WCBzaXplPXsxMH0gLz48L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTAuNVwiPlxuICAgICAgICAgICAgey8qIEN1c3RvbWVyICovfVxuICAgICAgICAgICAge29yZGVyICYmIChcbiAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBzZXRTaG93Q3VzdG9tZXJTZWFyY2godHJ1ZSl9IHRpdGxlPXtzZWxlY3RlZEN1c3RvbWVyID8gc2VsZWN0ZWRDdXN0b21lci5uYW1lIDogJ0FzaWduYXIgQ2xpZW50ZSd9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgcm91bmRlZC1sZyBwLTEuNSB0cmFuc2l0aW9uICR7c2VsZWN0ZWRDdXN0b21lciA/ICd0ZXh0LWdyZWVuLTYwMCBiZy1ncmVlbi01MCcgOiAndGV4dC1ncmF5LTQwMCBob3ZlcjpiZy1ibHVlLTUwIGhvdmVyOnRleHQtYmx1ZS02MDAnfWB9PlxuICAgICAgICAgICAgICAgIDxVc2VyUGx1cyBzaXplPXsxNn0gLz5cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAgey8qIFNlbmQgdG8gS2l0Y2hlbiAqL31cbiAgICAgICAgICAgIHtvcmRlciAmJiBpdGVtcy5sZW5ndGggPiAwICYmIChcbiAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtoYW5kbGVTZW5kVG9LaXRjaGVufSB0aXRsZT1cIkVudmlhciBhIENvY2luYVwiXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgcm91bmRlZC1sZyBwLTEuNSB0cmFuc2l0aW9uICR7a2l0Y2hlblNlbnQgPyAndGV4dC1ncmVlbi02MDAgYmctZ3JlZW4tNTAnIDogJ3RleHQtZ3JheS00MDAgaG92ZXI6Ymctb3JhbmdlLTUwIGhvdmVyOnRleHQtb3JhbmdlLTYwMCd9YH0+XG4gICAgICAgICAgICAgICAgPENoZWZIYXQgc2l6ZT17MTZ9IC8+XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIHsvKiBQcmludCBDb21hbmRhICovfVxuICAgICAgICAgICAge29yZGVyICYmIGl0ZW1zLmxlbmd0aCA+IDAgJiYgKFxuICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e2hhbmRsZVByaW50Q29tYW5kYX0gdGl0bGU9XCJJbXByaW1pciBDb21hbmRhXCJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkLWxnIHAtMS41IHRleHQtZ3JheS00MDAgaG92ZXI6YmctYmx1ZS01MCBob3Zlcjp0ZXh0LWJsdWUtNjAwXCI+XG4gICAgICAgICAgICAgICAgPFByaW50ZXIgc2l6ZT17MTZ9IC8+XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIHsvKiBQcmUtYmlsbCAqL31cbiAgICAgICAgICAgIHtvcmRlciAmJiBpdGVtcy5sZW5ndGggPiAwICYmIChcbiAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtoYW5kbGVQcmludFByZUJpbGx9IHRpdGxlPVwiUHJlLWN1ZW50YVwiXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZC1sZyBwLTEuNSB0ZXh0LWdyYXktNDAwIGhvdmVyOmJnLXB1cnBsZS01MCBob3Zlcjp0ZXh0LXB1cnBsZS02MDBcIj5cbiAgICAgICAgICAgICAgICA8UmVjZWlwdCBzaXplPXsxNn0gLz5cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAgey8qIFNwbGl0IEJpbGwgKi99XG4gICAgICAgICAgICB7b3JkZXIgJiYgaXRlbXMubGVuZ3RoID4gMCAmJiAoXG4gICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gc2V0U2hvd1NwbGl0KHRydWUpfSB0aXRsZT1cIkRpdmlkaXIgQ3VlbnRhXCJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkLWxnIHAtMS41IHRleHQtZ3JheS00MDAgaG92ZXI6YmctdGVhbC01MCBob3Zlcjp0ZXh0LXRlYWwtNjAwXCI+XG4gICAgICAgICAgICAgICAgPFNjaXNzb3JzIHNpemU9ezE2fSAvPlxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICB7LyogRGlzY291bnQgKi99XG4gICAgICAgICAgICB7b3JkZXIgJiYgaXRlbXMubGVuZ3RoID4gMCAmJiAoXG4gICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4geyBzZXREaXNjb3VudFRhcmdldChudWxsKTsgc2V0RGlzY291bnRUeXBlKCdwZXJjZW50YWdlJyk7IHNldERpc2NvdW50VmFsdWUoJycpOyBzZXREaXNjb3VudFJlYXNvbignJyk7IHNldFNob3dEaXNjb3VudCh0cnVlKTsgfX0gdGl0bGU9XCJEZXNjdWVudG9cIlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQtbGcgcC0xLjUgdGV4dC1ncmF5LTQwMCBob3ZlcjpiZy1hbWJlci01MCBob3Zlcjp0ZXh0LWFtYmVyLTYwMFwiPlxuICAgICAgICAgICAgICAgIDxQZXJjZW50IHNpemU9ezE2fSAvPlxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICB7LyogQ291cG9uIC8gUHJvbW9zICovfVxuICAgICAgICAgICAge29yZGVyICYmIGl0ZW1zLmxlbmd0aCA+IDAgJiYgKFxuICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IHNldFNob3dDb3Vwb24odHJ1ZSl9IHRpdGxlPVwiQ3Vww7NuIC8gUHJvbW9jaW9uZXNcIlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQtbGcgcC0xLjUgdGV4dC1ncmF5LTQwMCBob3ZlcjpiZy1waW5rLTUwIGhvdmVyOnRleHQtcGluay02MDBcIj5cbiAgICAgICAgICAgICAgICA8VGFnIHNpemU9ezE2fSAvPlxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICB7LyogVm9pY2UgKi99XG4gICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e3RvZ2dsZVZvaWNlfSB0aXRsZT17dm9pY2VBY3RpdmUgPyAnRGVzYWN0aXZhciBWb3onIDogJ0FjdGl2YXIgVm96J31cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgcm91bmRlZC1sZyBwLTEuNSB0cmFuc2l0aW9uICR7dm9pY2VBY3RpdmUgPyAndGV4dC1yZWQtNjAwIGJnLXJlZC01MCBhbmltYXRlLXB1bHNlJyA6ICd0ZXh0LWdyYXktNDAwIGhvdmVyOmJnLWdyYXktMTAwIGhvdmVyOnRleHQtZ3JheS02MDAnfWB9PlxuICAgICAgICAgICAgICB7dm9pY2VBY3RpdmUgPyA8TWljT2ZmIHNpemU9ezE2fSAvPiA6IDxNaWMgc2l6ZT17MTZ9IC8+fVxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICB7LyogU2VwYXJhdG9yICovfVxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LXB4IGgtNSBiZy1ncmF5LTIwMCBteC0wLjVcIiAvPlxuICAgICAgICAgICAgey8qIEhvbGQgKi99XG4gICAgICAgICAgICB7b3JkZXIgJiYgaXRlbXMubGVuZ3RoID4gMCAmJiAoXG4gICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gc3RvcmUuaG9sZEN1cnJlbnRPcmRlcigpfSB0aXRsZT1cIlBhdXNhciBvcmRlblwiXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZC1sZyBwLTEuNSB0ZXh0LWdyYXktNDAwIGhvdmVyOmJnLWFtYmVyLTUwIGhvdmVyOnRleHQtYW1iZXItNjAwXCI+XG4gICAgICAgICAgICAgICAgPFBhdXNlIHNpemU9ezE2fSAvPlxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICB7LyogUmVzdW1lIGhlbGQgKi99XG4gICAgICAgICAgICB7c3RvcmUuaGVsZE9yZGVycy5sZW5ndGggPiAwICYmIChcbiAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBzZXRTaG93SGVsZCghc2hvd0hlbGQpfSB0aXRsZT1cIsOTcmRlbmVzIHBhdXNhZGFzXCJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyZWxhdGl2ZSByb3VuZGVkLWxnIHAtMS41IHRleHQtZ3JheS00MDAgaG92ZXI6YmctYmx1ZS01MCBob3Zlcjp0ZXh0LWJsdWUtNjAwXCI+XG4gICAgICAgICAgICAgICAgPFBsYXkgc2l6ZT17MTZ9IC8+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiYWJzb2x1dGUgLXRvcC0wLjUgLXJpZ2h0LTAuNSBmbGV4IGgtNCB3LTQgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHJvdW5kZWQtZnVsbCBiZy1hbWJlci01MDAgdGV4dC1bMTBweF0gZm9udC1ib2xkIHRleHQtd2hpdGVcIj5cbiAgICAgICAgICAgICAgICAgIHtzdG9yZS5oZWxkT3JkZXJzLmxlbmd0aH1cbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgey8qIEhlbGQgb3JkZXJzIGRyb3Bkb3duICovfVxuICAgICAgICB7c2hvd0hlbGQgJiYgc3RvcmUuaGVsZE9yZGVycy5sZW5ndGggPiAwICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJvcmRlci1iIGJnLWFtYmVyLTUwIHAtMiBzcGFjZS15LTEgbWF4LWgtMzIgb3ZlcmZsb3cteS1hdXRvXCI+XG4gICAgICAgICAgICB7c3RvcmUuaGVsZE9yZGVycy5tYXAoKGhvOiBhbnkpID0+IChcbiAgICAgICAgICAgICAgPGJ1dHRvbiBrZXk9e2hvLmlkfSBvbkNsaWNrPXsoKSA9PiB7IHN0b3JlLnJlc3VtZU9yZGVyKGhvKTsgc2V0U2hvd0hlbGQoZmFsc2UpOyB9fVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggdy1mdWxsIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gcm91bmRlZC1sZyBiZy13aGl0ZSBweC0zIHB5LTIgdGV4dC1zbSBob3ZlcjpiZy1hbWJlci0xMDAgdHJhbnNpdGlvblwiPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtIHRleHQtZ3JheS05MDBcIj57aG8ub3JkZXJOdW1iZXJ9PC9zcGFuPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTUwMFwiPntoby5pdGVtcz8uZmlsdGVyKChpOiBhbnkpID0+ICFpLmlzVm9pZCkubGVuZ3RoIHx8IDB9IGl0ZW1zIOKAlCB7Zm9ybWF0TW9uZXkodG9OdW0oaG8udG90YWwpKX08L3NwYW4+XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgKSl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG5cbiAgICAgICAgey8qIENhcnQgaXRlbXMgKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIG92ZXJmbG93LXktYXV0byBweC0zIHB5LTJcIj5cbiAgICAgICAgICB7aXRlbXMubGVuZ3RoID09PSAwID8gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGgtZnVsbCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdGV4dC1ncmF5LTMwMFwiPlxuICAgICAgICAgICAgICA8U2hvcHBpbmdDYXJ0IHNpemU9ezQ4fSBjbGFzc05hbWU9XCJtYi0zXCIgLz5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbVwiPlNlbGVjY2lvbmEgcHJvZHVjdG9zPC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKSA6IChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0xXCI+XG4gICAgICAgICAgICAgIHtpdGVtcy5tYXAoKGl0ZW06IGFueSwgaWR4OiBudW1iZXIpID0+IChcbiAgICAgICAgICAgICAgICA8ZGl2IGtleT17aXRlbS5pZCB8fCBpZHh9IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtc3RhcnQgZ2FwLTIgcm91bmRlZC1sZyBib3JkZXIgcC0yIHRleHQtc21cIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIG1pbi13LTBcIj5cbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwiZm9udC1tZWRpdW0gdGV4dC1ncmF5LTkwMCB0cnVuY2F0ZVwiPntpdGVtLnByb2R1Y3Q/Lm5hbWUgfHwgaXRlbS5wcm9kdWN0TmFtZSB8fCAnUHJvZHVjdG8nfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBtdC0wLjUgZmxleC13cmFwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwXCI+e2l0ZW0ucXVhbnRpdHl9IMOXIHtmb3JtYXRNb25leSh0b051bShpdGVtLnVuaXRQcmljZSB8fCBpdGVtLnVuaXRfcHJpY2UpKX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAge3RvTnVtKGl0ZW0uZGlzY291bnRfYW1vdW50IHx8IGl0ZW0uZGlzY291bnRBbW91bnQpID4gMCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtYW1iZXItNjAwIGZvbnQtbWVkaXVtXCI+LXtmb3JtYXRNb25leSh0b051bShpdGVtLmRpc2NvdW50X2Ftb3VudCB8fCBpdGVtLmRpc2NvdW50QW1vdW50KSl9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAge2l0ZW0ubm90ZXMgJiYgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWJsdWUtNTAwIHRydW5jYXRlXCI+8J+TnSB7aXRlbS5ub3Rlc308L3NwYW4+fVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktOTAwIHNocmluay0wXCI+e2Zvcm1hdE1vbmV5KHRvTnVtKGl0ZW0uc3VidG90YWwpKX08L3A+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgZ2FwLTAuNSBzaHJpbmstMFwiPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IG9wZW5JdGVtRGlzY291bnQoaXRlbS5pZCl9IHRpdGxlPVwiRGVzY3VlbnRvIGl0ZW1cIlxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQgcC0xIHRleHQtZ3JheS0zMDAgaG92ZXI6YmctYW1iZXItNTAgaG92ZXI6dGV4dC1hbWJlci01MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8UGVyY2VudCBzaXplPXsxMn0gLz5cbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4geyBzZXRTaG93Vm9pZEZvcihpdGVtLmlkKTsgc2V0Vm9pZFJlYXNvbignJyk7IH19XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCBwLTEgdGV4dC1ncmF5LTMwMCBob3ZlcjpiZy1yZWQtNTAgaG92ZXI6dGV4dC1yZWQtNTAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPFRyYXNoMiBzaXplPXsxMn0gLz5cbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICB7LyogVG90YWxzICsgcGF5ICovfVxuICAgICAgICB7b3JkZXIgJiYgaXRlbXMubGVuZ3RoID4gMCAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJib3JkZXItdCBweC00IHB5LTMgc3BhY2UteS0yIHNocmluay0wXCI+XG4gICAgICAgICAgICB7cHJvbW9Nc2cgJiYgKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdW5kZWQtbGcgYmctZ3JlZW4tNTAgYm9yZGVyIGJvcmRlci1ncmVlbi0yMDAgcHgtMyBweS0xLjUgdGV4dC14cyBmb250LW1lZGl1bSB0ZXh0LWdyZWVuLTcwMCB0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgIHtwcm9tb01zZ31cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiB0ZXh0LXNtIHRleHQtZ3JheS01MDBcIj48c3Bhbj5TdWJ0b3RhbDwvc3Bhbj48c3Bhbj57Zm9ybWF0TW9uZXkob3JkZXJTdWJ0b3RhbCl9PC9zcGFuPjwvZGl2PlxuICAgICAgICAgICAge29yZGVyRGlzY291bnQgPiAwICYmIChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiB0ZXh0LXNtIHRleHQtYW1iZXItNjAwXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4+RGVzY3VlbnRvIHtvcmRlckRpc2NvdW50UmVhc29uID8gYCgke29yZGVyRGlzY291bnRSZWFzb259KWAgOiAnJ308L3NwYW4+XG4gICAgICAgICAgICAgICAgPHNwYW4+LXtmb3JtYXRNb25leShvcmRlckRpc2NvdW50KX08L3NwYW4+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gdGV4dC1zbSB0ZXh0LWdyYXktNTAwXCI+PHNwYW4+SVZBICgxNSUpPC9zcGFuPjxzcGFuPntmb3JtYXRNb25leShvcmRlclRheCl9PC9zcGFuPjwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiB0ZXh0LWxnIGZvbnQtYm9sZCB0ZXh0LWdyYXktOTAwIGJvcmRlci10IHB0LTJcIj48c3Bhbj5Ub3RhbDwvc3Bhbj48c3Bhbj57Zm9ybWF0TW9uZXkob3JkZXJUb3RhbCl9PC9zcGFuPjwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0yIGdhcC0yIHB0LTFcIj5cbiAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBzdG9yZS5jYW5jZWxPcmRlcigpfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQteGwgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCBweS0yLjUgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNjAwIGhvdmVyOmJnLWdyYXktNTBcIj5cbiAgICAgICAgICAgICAgICBDYW5jZWxhclxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiB7IHNldFNob3dQYXltZW50KHRydWUpOyBzZXRQYXltZW50UmVzdWx0KG51bGwpOyBzZXRDYXNoUmVjZWl2ZWQoJycpOyB9fVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQteGwgYmctZ3JlZW4tNjAwIHB5LTIuNSB0ZXh0LXNtIGZvbnQtYm9sZCB0ZXh0LXdoaXRlIGhvdmVyOmJnLWdyZWVuLTcwMCBzaGFkb3ctc21cIj5cbiAgICAgICAgICAgICAgICBDb2JyYXIge2Zvcm1hdE1vbmV5KG9yZGVyVG90YWwpfVxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG5cbiAgICAgIHsvKiDilZDilZDilZAgUEFZTUVOVCBESUFMT0cg4pWQ4pWQ4pWQICovfVxuICAgICAge3Nob3dQYXltZW50ICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmaXhlZCBpbnNldC0wIHotNTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgYmctYmxhY2svNTBcIiBvbkNsaWNrPXsoKSA9PiB7IGlmICghcGF5bWVudFJlc3VsdCkgc2V0U2hvd1BheW1lbnQoZmFsc2UpOyB9fT5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBtYXgtdy1tZCByb3VuZGVkLTJ4bCBiZy13aGl0ZSBwLTYgc2hhZG93LTJ4bFwiIG9uQ2xpY2s9e2UgPT4gZS5zdG9wUHJvcGFnYXRpb24oKX0+XG4gICAgICAgICAgICB7cGF5bWVudFJlc3VsdCA/IChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXgtYXV0byBmbGV4IGgtMTYgdy0xNiBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcm91bmRlZC1mdWxsIGJnLWdyZWVuLTEwMFwiPlxuICAgICAgICAgICAgICAgICAgPENoZWNrQ2lyY2xlMiBzaXplPXszMn0gY2xhc3NOYW1lPVwidGV4dC1ncmVlbi02MDBcIiAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJtdC0zIHRleHQtbGcgZm9udC1ib2xkIHRleHQtZ3JheS05MDBcIj5QYWdvIEV4aXRvc288L2gzPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTUwMFwiPk9yZGVuIGNvbXBsZXRhZGE8L3A+XG4gICAgICAgICAgICAgICAge3BheW1lbnRSZXN1bHQuY2hhbmdlID4gMC4wMDUgJiYgKFxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0zIHJvdW5kZWQtbGcgYmctYW1iZXItNTAgYm9yZGVyIGJvcmRlci1hbWJlci0yMDAgcC0zXCI+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1hbWJlci04MDBcIj5DYW1iaW86IDxzdHJvbmcgY2xhc3NOYW1lPVwidGV4dC1sZ1wiPntmb3JtYXRNb25leShwYXltZW50UmVzdWx0LmNoYW5nZSl9PC9zdHJvbmc+PC9wPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgICAgIHsvKiBJbnZvaWNlIHJlc3VsdCAqL31cbiAgICAgICAgICAgICAgICB7aW52b2ljZVJlc3VsdCAmJiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTMgcm91bmRlZC1sZyBiZy1ibHVlLTUwIGJvcmRlciBib3JkZXItYmx1ZS0yMDAgcC0zIHRleHQtbGVmdFwiPlxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtc2VtaWJvbGQgdGV4dC1ibHVlLTgwMCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMVwiPjxaYXAgc2l6ZT17MTR9IC8+IEZhY3R1cmEgRWxlY3Ryw7NuaWNhPC9wPlxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtYmx1ZS03MDAgbXQtMVwiPlNlY3VlbmNpYWw6IHtpbnZvaWNlUmVzdWx0LnNlY3VlbmNpYWx9PC9wPlxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtYmx1ZS03MDBcIj5Fc3RhZG86IHtpbnZvaWNlUmVzdWx0LmVzdGFkb308L3A+XG4gICAgICAgICAgICAgICAgICAgIHtpbnZvaWNlUmVzdWx0LmNsYXZlQWNjZXNvICYmIDxwIGNsYXNzTmFtZT1cInRleHQtWzEwcHhdIHRleHQtYmx1ZS01MDAgbXQtMSBicmVhay1hbGxcIj5DbGF2ZToge2ludm9pY2VSZXN1bHQuY2xhdmVBY2Nlc299PC9wPn1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgICAgICB7LyogSW52b2ljZSBidXR0b24gKi99XG4gICAgICAgICAgICAgICAgeyFpbnZvaWNlUmVzdWx0ICYmIHBheW1lbnRSZXN1bHQub3JkZXJJZCAmJiAoXG4gICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IGhhbmRsZUVtaXRJbnZvaWNlKHBheW1lbnRSZXN1bHQub3JkZXJJZCl9IGRpc2FibGVkPXtpbnZvaWNlTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibXQtMyB3LWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgZ2FwLTIgcm91bmRlZC14bCBib3JkZXItMiBib3JkZXItYmx1ZS01MDAgYmctYmx1ZS01MCBweS0yLjUgdGV4dC1zbSBmb250LXNlbWlib2xkIHRleHQtYmx1ZS03MDAgaG92ZXI6YmctYmx1ZS0xMDAgZGlzYWJsZWQ6b3BhY2l0eS01MFwiPlxuICAgICAgICAgICAgICAgICAgICA8RmlsZVRleHQgc2l6ZT17MTZ9IC8+XG4gICAgICAgICAgICAgICAgICAgIHtpbnZvaWNlTG9hZGluZyA/ICdHZW5lcmFuZG8uLi4nIDogJ0dlbmVyYXIgRmFjdHVyYSBFbGVjdHLDs25pY2EnfVxuICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17aGFuZGxlTmV3T3JkZXJ9IGNsYXNzTmFtZT1cIm10LTMgdy1mdWxsIHJvdW5kZWQteGwgYmctYmx1ZS02MDAgcHktMyBmb250LXNlbWlib2xkIHRleHQtd2hpdGUgaG92ZXI6YmctYmx1ZS03MDBcIj5cbiAgICAgICAgICAgICAgICAgIE51ZXZhIE9yZGVuXG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBtYi00XCI+XG4gICAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LWJvbGQgdGV4dC1ncmF5LTkwMFwiPkNvYnJhciB7Zm9ybWF0TW9uZXkob3JkZXJUb3RhbCl9PC9oMz5cbiAgICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gc2V0U2hvd1BheW1lbnQoZmFsc2UpfSBjbGFzc05hbWU9XCJyb3VuZGVkLWxnIHAtMSB0ZXh0LWdyYXktNDAwIGhvdmVyOmJnLWdyYXktMTAwXCI+PFggc2l6ZT17MTh9IC8+PC9idXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0yIGdhcC0yIG1iLTRcIj5cbiAgICAgICAgICAgICAgICAgIHtPYmplY3QuZW50cmllcyhNRVRIT0RfTEFCRUxTKS5tYXAoKFtrZXksIGNmZ10pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgSWNvbiA9IGNmZy5pY29uO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24ga2V5PXtrZXl9IG9uQ2xpY2s9eygpID0+IHNldFBheW1lbnRNZXRob2Qoa2V5KX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YGZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHJvdW5kZWQteGwgYm9yZGVyLTIgcC0zIHRleHQtc20gZm9udC1tZWRpdW0gdHJhbnNpdGlvbiAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICBwYXltZW50TWV0aG9kID09PSBrZXkgPyAnYm9yZGVyLWJsdWUtNTAwIGJnLWJsdWUtNTAgdGV4dC1ibHVlLTcwMCcgOiAnYm9yZGVyLWdyYXktMjAwIHRleHQtZ3JheS03MDAgaG92ZXI6Ym9yZGVyLWdyYXktMzAwJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfWB9PlxuICAgICAgICAgICAgICAgICAgICAgICAgPEljb24gc2l6ZT17MTh9IC8+IHtjZmcubGFiZWx9XG4gICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICB7cGF5bWVudE1ldGhvZCA9PT0gJ2Nhc2gnICYmIChcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNFwiPlxuICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwibWItMSBibG9jayB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDBcIj5SZWNpYmlkbyAoJCk8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cIm51bWJlclwiIHZhbHVlPXtjYXNoUmVjZWl2ZWR9IG9uQ2hhbmdlPXtlID0+IHNldENhc2hSZWNlaXZlZChlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e29yZGVyVG90YWwudG9GaXhlZCgyKX0gc3RlcD1cIjAuMDFcIiBtaW49XCIwXCJcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLWdyYXktMzAwIHB4LTQgcHktMyB0ZXh0LXhsIGZvbnQtYm9sZCB0ZXh0LWdyYXktOTAwIGZvY3VzOmJvcmRlci1ncmVlbi00MDAgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLWdyZWVuLTQwMC8yMFwiIC8+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtNCBnYXAtMiBtdC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAge1tNYXRoLmNlaWwob3JkZXJUb3RhbCksIDUsIDEwLCAyMF0ubWFwKChhbXQsIGkpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24ga2V5PXtpfSBvbkNsaWNrPXsoKSA9PiBzZXRDYXNoUmVjZWl2ZWQoYW10LnRvU3RyaW5nKCkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkLWxnIGJvcmRlciBiZy1ncmF5LTUwIHB5LTIgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwIGhvdmVyOmJnLWdyZWVuLTUwIGhvdmVyOmJvcmRlci1ncmVlbi0zMDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgJHthbXR9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIHtjYXNoUmVjZWl2ZWQgJiYgcGFyc2VGbG9hdChjYXNoUmVjZWl2ZWQpID49IG9yZGVyVG90YWwgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMiByb3VuZGVkLWxnIGJnLWdyZWVuLTUwIHAtMiB0ZXh0LWNlbnRlciB0ZXh0LXNtIGZvbnQtc2VtaWJvbGQgdGV4dC1ncmVlbi03MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIENhbWJpbzoge2Zvcm1hdE1vbmV5KHBhcnNlRmxvYXQoY2FzaFJlY2VpdmVkKSAtIG9yZGVyVG90YWwpfVxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICB7cGF5bWVudE1ldGhvZCA9PT0gJ3RyYW5zZmVyJyAmJiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cIm1iLTEgYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwXCI+TnJvLiBDb21wcm9iYW50ZTwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIHZhbHVlPXt0cmFuc2ZlclJlZn0gb25DaGFuZ2U9e2UgPT4gc2V0VHJhbnNmZXJSZWYoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiRWo6IDEyMzQ1Njc4XCJcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLWdyYXktMzAwIHB4LTQgcHktMyB0ZXh0LWxnIGZvbnQtYm9sZCB0ZXh0LWdyYXktOTAwIGZvY3VzOmJvcmRlci1ibHVlLTQwMCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctYmx1ZS00MDAvMjBcIiAvPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e2hhbmRsZVBheW1lbnR9XG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17cGF5bWVudExvYWRpbmcgfHwgKHBheW1lbnRNZXRob2QgPT09ICdjYXNoJyAmJiBjYXNoUmVjZWl2ZWQgIT09ICcnICYmIHBhcnNlRmxvYXQoY2FzaFJlY2VpdmVkKSA8IG9yZGVyVG90YWwpfVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHJvdW5kZWQteGwgYmctZ3JlZW4tNjAwIHB5LTMuNSB0ZXh0LWxnIGZvbnQtYm9sZCB0ZXh0LXdoaXRlIGhvdmVyOmJnLWdyZWVuLTcwMCBkaXNhYmxlZDpvcGFjaXR5LTUwXCI+XG4gICAgICAgICAgICAgICAgICB7cGF5bWVudExvYWRpbmcgPyAnUHJvY2VzYW5kby4uLicgOiBgQ29icmFyICR7Zm9ybWF0TW9uZXkob3JkZXJUb3RhbCl9YH1cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG5cbiAgICAgIHsvKiDilZDilZDilZAgVk9JRCBJVEVNIERJQUxPRyDilZDilZDilZAgKi99XG4gICAgICB7c2hvd1ZvaWRGb3IgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZpeGVkIGluc2V0LTAgei01MCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBiZy1ibGFjay81MFwiIG9uQ2xpY2s9eygpID0+IHNldFNob3dWb2lkRm9yKG51bGwpfT5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBtYXgtdy1zbSByb3VuZGVkLTJ4bCBiZy13aGl0ZSBwLTYgc2hhZG93LTJ4bFwiIG9uQ2xpY2s9e2UgPT4gZS5zdG9wUHJvcGFnYXRpb24oKX0+XG4gICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LWJvbGQgdGV4dC1ncmF5LTkwMCBtYi0zXCI+QW51bGFyIEl0ZW08L2gzPlxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgdmFsdWU9e3ZvaWRSZWFzb259IG9uQ2hhbmdlPXtlID0+IHNldFZvaWRSZWFzb24oZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlJhesOzbiBkZSBhbnVsYWNpw7NuLi4uXCIgYXV0b0ZvY3VzXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCByb3VuZGVkLWxnIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcHgtMyBweS0yIHRleHQtc20gZm9jdXM6Ym9yZGVyLXJlZC00MDAgZm9jdXM6b3V0bGluZS1ub25lXCJcbiAgICAgICAgICAgICAgb25LZXlEb3duPXtlID0+IHsgaWYgKGUua2V5ID09PSAnRW50ZXInICYmIHNob3dWb2lkRm9yKSBoYW5kbGVWb2lkSXRlbShzaG93Vm9pZEZvcik7IH19IC8+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTQgZmxleCBnYXAtM1wiPlxuICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IHNldFNob3dWb2lkRm9yKG51bGwpfSBjbGFzc05hbWU9XCJmbGV4LTEgcm91bmRlZC14bCBib3JkZXIgcHktMiB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS02MDAgaG92ZXI6YmctZ3JheS01MFwiPkNhbmNlbGFyPC9idXR0b24+XG4gICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gc2hvd1ZvaWRGb3IgJiYgaGFuZGxlVm9pZEl0ZW0oc2hvd1ZvaWRGb3IpfSBkaXNhYmxlZD17IXZvaWRSZWFzb24udHJpbSgpfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXgtMSByb3VuZGVkLXhsIGJnLXJlZC02MDAgcHktMiB0ZXh0LXNtIGZvbnQtc2VtaWJvbGQgdGV4dC13aGl0ZSBob3ZlcjpiZy1yZWQtNzAwIGRpc2FibGVkOm9wYWNpdHktNTBcIj5BbnVsYXI8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG5cbiAgICAgIHsvKiDilZDilZDilZAgU1BMSVQgQklMTCBNT0RBTCDilZDilZDilZAgKi99XG4gICAgICB7c2hvd1NwbGl0ICYmIG9yZGVyICYmIChcbiAgICAgICAgPFN1c3BlbnNlIGZhbGxiYWNrPXtudWxsfT5cbiAgICAgICAgICA8U3BsaXRCaWxsTW9kYWxcbiAgICAgICAgICAgIG9yZGVyPXtvcmRlcn1cbiAgICAgICAgICAgIGJyYW5kaW5nPXt7fX1cbiAgICAgICAgICAgIG9uQ2xvc2U9eygpID0+IHNldFNob3dTcGxpdChmYWxzZSl9XG4gICAgICAgICAgICBvbk9yZGVyQ29tcGxldGVkPXsoKSA9PiB7IHNldFNob3dTcGxpdChmYWxzZSk7IGhhbmRsZU5ld09yZGVyKCk7IH19XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9TdXNwZW5zZT5cbiAgICAgICl9XG5cbiAgICAgIHsvKiDilZDilZDilZAgRElTQ09VTlQgRElBTE9HIOKVkOKVkOKVkCAqL31cbiAgICAgIHtzaG93RGlzY291bnQgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZpeGVkIGluc2V0LTAgei01MCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBiZy1ibGFjay81MFwiIG9uQ2xpY2s9eygpID0+IHNldFNob3dEaXNjb3VudChmYWxzZSl9PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIG1heC13LXNtIHJvdW5kZWQtMnhsIGJnLXdoaXRlIHAtNiBzaGFkb3ctMnhsXCIgb25DbGljaz17ZSA9PiBlLnN0b3BQcm9wYWdhdGlvbigpfT5cbiAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtYm9sZCB0ZXh0LWdyYXktOTAwIG1iLTFcIj5cbiAgICAgICAgICAgICAge2Rpc2NvdW50VGFyZ2V0ID8gJ0Rlc2N1ZW50byBlbiBJdGVtJyA6ICdEZXNjdWVudG8gZW4gT3JkZW4nfVxuICAgICAgICAgICAgPC9oMz5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTUwMCBtYi00XCI+e2Rpc2NvdW50VGFyZ2V0ID8gJ0FwbGljYXIgZGVzY3VlbnRvIGEgZXN0ZSBwcm9kdWN0bycgOiAnQXBsaWNhciBkZXNjdWVudG8gYWwgdG90YWwgZGUgbGEgb3JkZW4nfTwvcD5cblxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGdhcC0yIG1iLTNcIj5cbiAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBzZXREaXNjb3VudFR5cGUoJ3BlcmNlbnRhZ2UnKX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BmbGV4LTEgcm91bmRlZC1sZyBib3JkZXItMiBweS0yIHRleHQtc20gZm9udC1tZWRpdW0gdHJhbnNpdGlvbiAke2Rpc2NvdW50VHlwZSA9PT0gJ3BlcmNlbnRhZ2UnID8gJ2JvcmRlci1hbWJlci01MDAgYmctYW1iZXItNTAgdGV4dC1hbWJlci03MDAnIDogJ2JvcmRlci1ncmF5LTIwMCB0ZXh0LWdyYXktNjAwJ31gfT5cbiAgICAgICAgICAgICAgICAlIFBvcmNlbnRhamVcbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gc2V0RGlzY291bnRUeXBlKCdmaXhlZCcpfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YGZsZXgtMSByb3VuZGVkLWxnIGJvcmRlci0yIHB5LTIgdGV4dC1zbSBmb250LW1lZGl1bSB0cmFuc2l0aW9uICR7ZGlzY291bnRUeXBlID09PSAnZml4ZWQnID8gJ2JvcmRlci1hbWJlci01MDAgYmctYW1iZXItNTAgdGV4dC1hbWJlci03MDAnIDogJ2JvcmRlci1ncmF5LTIwMCB0ZXh0LWdyYXktNjAwJ31gfT5cbiAgICAgICAgICAgICAgICAkIEZpam9cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJudW1iZXJcIiB2YWx1ZT17ZGlzY291bnRWYWx1ZX0gb25DaGFuZ2U9e2UgPT4gc2V0RGlzY291bnRWYWx1ZShlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtkaXNjb3VudFR5cGUgPT09ICdwZXJjZW50YWdlJyA/ICdFajogMTAnIDogJ0VqOiAyLjUwJ30gc3RlcD1cIjAuMDFcIiBtaW49XCIwXCIgYXV0b0ZvY3VzXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCByb3VuZGVkLWxnIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcHgtNCBweS0zIHRleHQtbGcgZm9udC1ib2xkIHRleHQtZ3JheS05MDAgbWItMyBmb2N1czpib3JkZXItYW1iZXItNDAwIGZvY3VzOm91dGxpbmUtbm9uZVwiIC8+XG5cbiAgICAgICAgICAgIHtkaXNjb3VudFR5cGUgPT09ICdwZXJjZW50YWdlJyAmJiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtNCBnYXAtMiBtYi0zXCI+XG4gICAgICAgICAgICAgICAge1s1LCAxMCwgMTUsIDIwXS5tYXAodiA9PiAoXG4gICAgICAgICAgICAgICAgICA8YnV0dG9uIGtleT17dn0gb25DbGljaz17KCkgPT4gc2V0RGlzY291bnRWYWx1ZSh2LnRvU3RyaW5nKCkpfVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkLWxnIGJvcmRlciBiZy1ncmF5LTUwIHB5LTIgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwIGhvdmVyOmJnLWFtYmVyLTUwIGhvdmVyOmJvcmRlci1hbWJlci0zMDBcIj5cbiAgICAgICAgICAgICAgICAgICAge3Z9JVxuICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgdmFsdWU9e2Rpc2NvdW50UmVhc29ufSBvbkNoYW5nZT17ZSA9PiBzZXREaXNjb3VudFJlYXNvbihlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUmF6w7NuIChvcGNpb25hbClcIiBjbGFzc05hbWU9XCJ3LWZ1bGwgcm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLWdyYXktMzAwIHB4LTMgcHktMiB0ZXh0LXNtIG1iLTQgZm9jdXM6Ym9yZGVyLWFtYmVyLTQwMCBmb2N1czpvdXRsaW5lLW5vbmVcIiAvPlxuXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZ2FwLTNcIj5cbiAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBzZXRTaG93RGlzY291bnQoZmFsc2UpfSBjbGFzc05hbWU9XCJmbGV4LTEgcm91bmRlZC14bCBib3JkZXIgcHktMi41IHRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTYwMCBob3ZlcjpiZy1ncmF5LTUwXCI+Q2FuY2VsYXI8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtoYW5kbGVBcHBseURpc2NvdW50fSBkaXNhYmxlZD17IWRpc2NvdW50VmFsdWUgfHwgcGFyc2VGbG9hdChkaXNjb3VudFZhbHVlKSA8PSAwfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXgtMSByb3VuZGVkLXhsIGJnLWFtYmVyLTYwMCBweS0yLjUgdGV4dC1zbSBmb250LXNlbWlib2xkIHRleHQtd2hpdGUgaG92ZXI6YmctYW1iZXItNzAwIGRpc2FibGVkOm9wYWNpdHktNTBcIj5cbiAgICAgICAgICAgICAgICBBcGxpY2FyIERlc2N1ZW50b1xuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG5cbiAgICAgIHsvKiDilZDilZDilZAgQ09VUE9OIC8gUFJPTU9TIERJQUxPRyDilZDilZDilZAgKi99XG4gICAgICB7c2hvd0NvdXBvbiAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZml4ZWQgaW5zZXQtMCB6LTUwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGJnLWJsYWNrLzUwXCIgb25DbGljaz17KCkgPT4gc2V0U2hvd0NvdXBvbihmYWxzZSl9PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIG1heC13LXNtIHJvdW5kZWQtMnhsIGJnLXdoaXRlIHAtNiBzaGFkb3ctMnhsXCIgb25DbGljaz17ZSA9PiBlLnN0b3BQcm9wYWdhdGlvbigpfT5cbiAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtYm9sZCB0ZXh0LWdyYXktOTAwIG1iLTRcIj5Qcm9tb2Npb25lcyB5IEN1cG9uZXM8L2gzPlxuXG4gICAgICAgICAgICB7LyogQXV0by1hcHBseSBwcm9tb3MgKi99XG4gICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e2hhbmRsZUFwcGx5QXV0b1Byb21vc31cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHJvdW5kZWQteGwgYm9yZGVyLTIgYm9yZGVyLWRhc2hlZCBib3JkZXItcGluay0zMDAgYmctcGluay01MCBweS0zIHRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1waW5rLTcwMCBob3ZlcjpiZy1waW5rLTEwMCBtYi00XCI+XG4gICAgICAgICAgICAgIPCfjq8gQXBsaWNhciBQcm9tb2Npb25lcyBBdXRvbcOhdGljYXNcbiAgICAgICAgICAgIDwvYnV0dG9uPlxuXG4gICAgICAgICAgICB7LyogTWFudWFsIGNvdXBvbiAqL31cbiAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJtYi0xLjUgYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwXCI+Q8OzZGlnbyBkZSBDdXDDs248L2xhYmVsPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGdhcC0yXCI+XG4gICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIHZhbHVlPXtjb3Vwb25Db2RlfSBvbkNoYW5nZT17ZSA9PiBzZXRDb3Vwb25Db2RlKGUudGFyZ2V0LnZhbHVlLnRvVXBwZXJDYXNlKCkpfVxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiREVTQ1VFTlRPMjBcIiBhdXRvRm9jdXNcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4LTEgcm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLWdyYXktMzAwIHB4LTMgcHktMiB0ZXh0LXNtIGZvbnQtbW9ubyB1cHBlcmNhc2UgZm9jdXM6Ym9yZGVyLXBpbmstNDAwIGZvY3VzOm91dGxpbmUtbm9uZVwiXG4gICAgICAgICAgICAgICAgb25LZXlEb3duPXtlID0+IHsgaWYgKGUua2V5ID09PSAnRW50ZXInKSBoYW5kbGVBcHBseUNvdXBvbigpOyB9fSAvPlxuICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e2hhbmRsZUFwcGx5Q291cG9ufSBkaXNhYmxlZD17IWNvdXBvbkNvZGUudHJpbSgpfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQteGwgYmctcGluay02MDAgcHgtNCBweS0yIHRleHQtc20gZm9udC1zZW1pYm9sZCB0ZXh0LXdoaXRlIGhvdmVyOmJnLXBpbmstNzAwIGRpc2FibGVkOm9wYWNpdHktNTBcIj5cbiAgICAgICAgICAgICAgICBBcGxpY2FyXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gc2V0U2hvd0NvdXBvbihmYWxzZSl9IGNsYXNzTmFtZT1cInctZnVsbCBtdC00IHJvdW5kZWQteGwgYm9yZGVyIHB5LTIgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNjAwIGhvdmVyOmJnLWdyYXktNTBcIj5cbiAgICAgICAgICAgICAgQ2VycmFyXG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuXG4gICAgICB7Lyog4pWQ4pWQ4pWQIENVU1RPTUVSIFNFQVJDSCBNT0RBTCDilZDilZDilZAgKi99XG4gICAgICB7c2hvd0N1c3RvbWVyU2VhcmNoICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmaXhlZCBpbnNldC0wIHotNTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgYmctYmxhY2svNTBcIiBvbkNsaWNrPXsoKSA9PiBzZXRTaG93Q3VzdG9tZXJTZWFyY2goZmFsc2UpfT5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBtYXgtdy1tZCByb3VuZGVkLTJ4bCBiZy13aGl0ZSBwLTYgc2hhZG93LTJ4bCBtYXgtaC1bODB2aF0gZmxleCBmbGV4LWNvbFwiIG9uQ2xpY2s9e2UgPT4gZS5zdG9wUHJvcGFnYXRpb24oKX0+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBtYi00IHNocmluay0wXCI+XG4gICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtYm9sZCB0ZXh0LWdyYXktOTAwXCI+QXNpZ25hciBDbGllbnRlPC9oMz5cbiAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBzZXRTaG93Q3VzdG9tZXJTZWFyY2goZmFsc2UpfSBjbGFzc05hbWU9XCJyb3VuZGVkLWxnIHAtMSB0ZXh0LWdyYXktNDAwIGhvdmVyOmJnLWdyYXktMTAwXCI+PFggc2l6ZT17MTh9IC8+PC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgey8qIFNlYXJjaCBpbnB1dCAqL31cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgbWItMyBzaHJpbmstMFwiPlxuICAgICAgICAgICAgICA8U2VhcmNoIHNpemU9ezE2fSBjbGFzc05hbWU9XCJhYnNvbHV0ZSBsZWZ0LTMgdG9wLTEvMiAtdHJhbnNsYXRlLXktMS8yIHRleHQtZ3JheS00MDBcIiAvPlxuICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiB2YWx1ZT17Y3VzdG9tZXJRdWVyeX1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17ZSA9PiBzZWFyY2hDdXN0b21lcnMoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiQnVzY2FyIHBvciBub21icmUsIGPDqWR1bGEsIFJVQy4uLlwiXG4gICAgICAgICAgICAgICAgYXV0b0ZvY3VzXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHJvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCBiZy1ncmF5LTUwIHB5LTIuNSBwbC05IHByLTMgdGV4dC1zbSBmb2N1czpib3JkZXItYmx1ZS00MDAgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLWJsdWUtNDAwLzIwXCIgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICB7LyogQ29uc3VtaWRvciBGaW5hbCBzaG9ydGN1dCAqL31cbiAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4geyBzZXRTZWxlY3RlZEN1c3RvbWVyKG51bGwpOyBzZXRTaG93Q3VzdG9tZXJTZWFyY2goZmFsc2UpOyB9fVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcm91bmRlZC1sZyBib3JkZXItMiBib3JkZXItZGFzaGVkIGJvcmRlci1ncmF5LTMwMCBweS0yLjUgbWItMyB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS01MDAgaG92ZXI6Ym9yZGVyLWJsdWUtMzAwIGhvdmVyOnRleHQtYmx1ZS02MDAgc2hyaW5rLTBcIj5cbiAgICAgICAgICAgICAgQ29uc3VtaWRvciBGaW5hbCAoc2luIGNsaWVudGUpXG4gICAgICAgICAgICA8L2J1dHRvbj5cblxuICAgICAgICAgICAgey8qIFJlc3VsdHMgKi99XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBvdmVyZmxvdy15LWF1dG8gc3BhY2UteS0xLjUgbWluLWgtMFwiPlxuICAgICAgICAgICAgICB7Y3VzdG9tZXJTZWFyY2hpbmcgJiYgKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcHktNlwiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoLTYgdy02IGFuaW1hdGUtc3BpbiByb3VuZGVkLWZ1bGwgYm9yZGVyLTIgYm9yZGVyLWJsdWUtNjAwIGJvcmRlci10LXRyYW5zcGFyZW50XCIgLz5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgeyFjdXN0b21lclNlYXJjaGluZyAmJiBjdXN0b21lclJlc3VsdHMubGVuZ3RoID09PSAwICYmIGN1c3RvbWVyUXVlcnkubGVuZ3RoID49IDIgJiYgKFxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHRleHQtc20gdGV4dC1ncmF5LTQwMCBweS02XCI+Tm8gc2UgZW5jb250cmFyb24gY2xpZW50ZXM8L3A+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIHtjdXN0b21lclJlc3VsdHMubWFwKChjOiBhbnkpID0+IChcbiAgICAgICAgICAgICAgICA8YnV0dG9uIGtleT17Yy5pZH0gb25DbGljaz17KCkgPT4gYXNzaWduQ3VzdG9tZXIoYyl9XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4IHctZnVsbCBpdGVtcy1jZW50ZXIgZ2FwLTMgcm91bmRlZC14bCBib3JkZXIgYm9yZGVyLWdyYXktMjAwIGJnLXdoaXRlIHB4LTQgcHktMyB0ZXh0LWxlZnQgaG92ZXI6Ym9yZGVyLWJsdWUtMzAwIGhvdmVyOmJnLWJsdWUtNTAgdHJhbnNpdGlvblwiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGgtMTAgdy0xMCBzaHJpbmstMCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcm91bmRlZC1mdWxsIGJnLWJsdWUtMTAwIHRleHQtYmx1ZS02MDAgZm9udC1ib2xkIHRleHQtc21cIj5cbiAgICAgICAgICAgICAgICAgICAgeyhjLm5hbWUgfHwgJz8nKVswXS50b1VwcGVyQ2FzZSgpfVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBtaW4tdy0wXCI+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktOTAwIHRydW5jYXRlXCI+e2MubmFtZX08L3A+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgdGV4dC14cyB0ZXh0LWdyYXktNTAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgeyhjLnRheElkIHx8IGMudGF4X2lkKSAmJiA8c3Bhbj57Yy50YXhJZCB8fCBjLnRheF9pZH08L3NwYW4+fVxuICAgICAgICAgICAgICAgICAgICAgIHtjLmVtYWlsICYmIDxzcGFuIGNsYXNzTmFtZT1cInRydW5jYXRlXCI+e2MuZW1haWx9PC9zcGFuPn1cbiAgICAgICAgICAgICAgICAgICAgICB7Yy5waG9uZSAmJiA8c3Bhbj57Yy5waG9uZX08L3NwYW4+fVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgPC9kaXY+XG4gICAgPC9BcHBTaGVsbD5cbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJBcHBTaGVsbFdyYXBwZXIiLCJBcHBTaGVsbCIsInVzZUVmZmVjdCIsInVzZVN0YXRlIiwidXNlUmVmIiwibGF6eSIsIlN1c3BlbnNlIiwidXNlUm91dGVyIiwidXNlUG9zU3RvcmUiLCJ1c2VTb2NrZXQiLCJXU19FVkVOVFMiLCJmb3JtYXRNb25leSIsImFwaSIsInByaW50Q29tYW5kYSIsInByaW50UHJlQmlsbCIsImdldFByaW50Q29uZmlnIiwiU2VhcmNoIiwiU2hvcHBpbmdDYXJ0IiwiVHJhc2gyIiwiWCIsIkNyZWRpdENhcmQiLCJCYW5rbm90ZSIsIlRyZW5kaW5nVXAiLCJEb2xsYXJTaWduIiwiUGF1c2UiLCJQbGF5IiwiVGFnIiwiQ2hlY2tDaXJjbGUyIiwiQ2hlZkhhdCIsIlByaW50ZXIiLCJSZWNlaXB0IiwiTWljIiwiTWljT2ZmIiwiU2Npc3NvcnMiLCJQZXJjZW50IiwiVXNlclBsdXMiLCJGaWxlVGV4dCIsIlphcCIsIlNwbGl0QmlsbE1vZGFsIiwiTUVUSE9EX0xBQkVMUyIsImNhc2giLCJsYWJlbCIsImljb24iLCJjcmVkaXRfY2FyZCIsImRlYml0X2NhcmQiLCJ0cmFuc2ZlciIsIndhbGxldCIsInRvTnVtIiwidiIsInBhcnNlRmxvYXQiLCJQb3NQYWdlIiwib3JkZXIiLCJyb3V0ZXIiLCJzdG9yZSIsIm9uIiwid3NPbiIsInNob3dQYXltZW50Iiwic2V0U2hvd1BheW1lbnQiLCJwYXltZW50TWV0aG9kIiwic2V0UGF5bWVudE1ldGhvZCIsImNhc2hSZWNlaXZlZCIsInNldENhc2hSZWNlaXZlZCIsInBheW1lbnRMb2FkaW5nIiwic2V0UGF5bWVudExvYWRpbmciLCJwYXltZW50UmVzdWx0Iiwic2V0UGF5bWVudFJlc3VsdCIsInNob3dIZWxkIiwic2V0U2hvd0hlbGQiLCJ2b2lkUmVhc29uIiwic2V0Vm9pZFJlYXNvbiIsInNob3dWb2lkRm9yIiwic2V0U2hvd1ZvaWRGb3IiLCJzaG93U3BsaXQiLCJzZXRTaG93U3BsaXQiLCJraXRjaGVuU2VudCIsInNldEtpdGNoZW5TZW50Iiwidm9pY2VBY3RpdmUiLCJzZXRWb2ljZUFjdGl2ZSIsInZvaWNlVGV4dCIsInNldFZvaWNlVGV4dCIsInNob3dEaXNjb3VudCIsInNldFNob3dEaXNjb3VudCIsImRpc2NvdW50VHlwZSIsInNldERpc2NvdW50VHlwZSIsImRpc2NvdW50VmFsdWUiLCJzZXREaXNjb3VudFZhbHVlIiwiZGlzY291bnRSZWFzb24iLCJzZXREaXNjb3VudFJlYXNvbiIsImRpc2NvdW50VGFyZ2V0Iiwic2V0RGlzY291bnRUYXJnZXQiLCJzaG93Q291cG9uIiwic2V0U2hvd0NvdXBvbiIsImNvdXBvbkNvZGUiLCJzZXRDb3Vwb25Db2RlIiwicHJvbW9Nc2ciLCJzZXRQcm9tb01zZyIsInRyYW5zZmVyUmVmIiwic2V0VHJhbnNmZXJSZWYiLCJzaG93Q3VzdG9tZXJTZWFyY2giLCJzZXRTaG93Q3VzdG9tZXJTZWFyY2giLCJjdXN0b21lclF1ZXJ5Iiwic2V0Q3VzdG9tZXJRdWVyeSIsImN1c3RvbWVyUmVzdWx0cyIsInNldEN1c3RvbWVyUmVzdWx0cyIsImN1c3RvbWVyU2VhcmNoaW5nIiwic2V0Q3VzdG9tZXJTZWFyY2hpbmciLCJzZWxlY3RlZEN1c3RvbWVyIiwic2V0U2VsZWN0ZWRDdXN0b21lciIsImludm9pY2VMb2FkaW5nIiwic2V0SW52b2ljZUxvYWRpbmciLCJpbnZvaWNlUmVzdWx0Iiwic2V0SW52b2ljZVJlc3VsdCIsInJlY29nbml0aW9uUmVmIiwicmVzdG9yZVNlc3Npb24iLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwicmVwbGFjZSIsImxvYWRDYXRlZ29yaWVzIiwibG9hZFByb2R1Y3RzIiwibG9hZEhlbGRPcmRlcnMiLCJ1bnN1YnMiLCJPUkRFUl9QQUlEIiwiY3VycmVudE9yZGVyIiwicmVmcmVzaE9yZGVyIiwiZm9yRWFjaCIsImZuIiwiaGFuZGxlQWRkSXRlbSIsInByb2R1Y3QiLCJjcmVhdGVPcmRlciIsImFkZEl0ZW1Ub09yZGVyIiwiaWQiLCJoYW5kbGVWb2lkSXRlbSIsIml0ZW1JZCIsInRyaW0iLCJ2b2lkSXRlbSIsImhhbmRsZVBheW1lbnQiLCJyZXN1bHQiLCJhbW91bnQiLCJ0b3RhbCIsInJlY2VpdmVkIiwicmVmIiwidW5kZWZpbmVkIiwicHJvY2Vzc1BheW1lbnQiLCJjaGFuZ2UiLCJvcmRlcklkIiwiZSIsImFsZXJ0IiwibWVzc2FnZSIsImhhbmRsZU5ld09yZGVyIiwiY2xlYXJPcmRlciIsImhhbmRsZVNlbmRUb0tpdGNoZW4iLCJwb3N0Iiwic2V0VGltZW91dCIsImNmZyIsImhhbmRsZVByaW50Q29tYW5kYSIsImhhbmRsZVByaW50UHJlQmlsbCIsImhhbmRsZUFwcGx5RGlzY291bnQiLCJ2YWwiLCJpc05hTiIsInBhdGNoIiwidHlwZSIsInZhbHVlIiwicmVhc29uIiwiaGFuZGxlQXBwbHlDb3Vwb24iLCJhcHBseUNvdXBvbiIsImhhbmRsZUFwcGx5QXV0b1Byb21vcyIsImFwcGx5UHJvbW90aW9ucyIsImNvdW50IiwiYXBwbGllZCIsImxlbmd0aCIsIm9wZW5JdGVtRGlzY291bnQiLCJzZWFyY2hDdXN0b21lcnMiLCJxIiwicmVzdWx0cyIsImdldCIsImVuY29kZVVSSUNvbXBvbmVudCIsImFzc2lnbkN1c3RvbWVyIiwiY3VzdG9tZXIiLCJjdXN0b21lcklkIiwicmVtb3ZlQ3VzdG9tZXIiLCJoYW5kbGVFbWl0SW52b2ljZSIsInBheWxvYWQiLCJpZGVudGlmaWNhY2lvbiIsInRheElkIiwidGF4X2lkIiwidGlwb0lkZW50aWZpY2FjaW9uIiwidGF4SWRUeXBlIiwidGF4X2lkX3R5cGUiLCJyYXpvblNvY2lhbCIsIm5hbWUiLCJlbWFpbCIsImRpcmVjY2lvbiIsImFkZHJlc3MiLCJzdHJlZXQiLCJ0ZWxlZm9ubyIsInBob25lIiwidG9nZ2xlVm9pY2UiLCJjdXJyZW50Iiwic3RvcCIsIlNwZWVjaFJlY29nbml0aW9uIiwid2luZG93Iiwid2Via2l0U3BlZWNoUmVjb2duaXRpb24iLCJyZWNvZyIsImxhbmciLCJjb250aW51b3VzIiwiaW50ZXJpbVJlc3VsdHMiLCJvbnJlc3VsdCIsInRyYW5zY3JpcHQiLCJBcnJheSIsImZyb20iLCJtYXAiLCJyIiwiam9pbiIsIm9uZW5kIiwic3RhcnQiLCJpdGVtcyIsImZpbHRlciIsImkiLCJpc1ZvaWQiLCJvcmRlclRvdGFsIiwib3JkZXJTdWJ0b3RhbCIsInN1YnRvdGFsIiwib3JkZXJUYXgiLCJ0YXhBbW91bnQiLCJ0YXhfYW1vdW50Iiwib3JkZXJEaXNjb3VudCIsImRpc2NvdW50QW1vdW50IiwiZGlzY291bnRfYW1vdW50Iiwib3JkZXJEaXNjb3VudFJlYXNvbiIsImRpc2NvdW50X3JlYXNvbiIsImRpdiIsImNsYXNzTmFtZSIsImJ1dHRvbiIsIm9uQ2xpY2siLCJzZXRTZWxlY3RlZENhdGVnb3J5Iiwic2VsZWN0ZWRDYXRlZ29yeSIsImNhdGVnb3JpZXMiLCJjYXQiLCJzaXplIiwiaW5wdXQiLCJzZWFyY2hRdWVyeSIsIm9uQ2hhbmdlIiwic2V0U2VhcmNoUXVlcnkiLCJ0YXJnZXQiLCJwbGFjZWhvbGRlciIsImxvYWRpbmciLCJwcm9kdWN0cyIsInAiLCJpbWFnZVVybCIsImltZyIsInNyYyIsImFsdCIsInNwYW4iLCJlbW9qaSIsInByaWNlIiwiaDIiLCJvcmRlck51bWJlciIsInRpdGxlIiwiaG9sZEN1cnJlbnRPcmRlciIsImhlbGRPcmRlcnMiLCJobyIsInJlc3VtZU9yZGVyIiwiaXRlbSIsImlkeCIsInByb2R1Y3ROYW1lIiwicXVhbnRpdHkiLCJ1bml0UHJpY2UiLCJ1bml0X3ByaWNlIiwibm90ZXMiLCJjYW5jZWxPcmRlciIsInN0b3BQcm9wYWdhdGlvbiIsImgzIiwic3Ryb25nIiwic2VjdWVuY2lhbCIsImVzdGFkbyIsImNsYXZlQWNjZXNvIiwiZGlzYWJsZWQiLCJPYmplY3QiLCJlbnRyaWVzIiwia2V5IiwiSWNvbiIsInRvRml4ZWQiLCJzdGVwIiwibWluIiwiTWF0aCIsImNlaWwiLCJhbXQiLCJ0b1N0cmluZyIsImF1dG9Gb2N1cyIsIm9uS2V5RG93biIsImZhbGxiYWNrIiwiYnJhbmRpbmciLCJvbkNsb3NlIiwib25PcmRlckNvbXBsZXRlZCIsInRvVXBwZXJDYXNlIiwiYyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/pos/page.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/lib/api.ts":
/*!************************!*\
  !*** ./src/lib/api.ts ***!
  \************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   API_URL: () => (/* binding */ API_URL),\n/* harmony export */   WS_URL: () => (/* binding */ WS_URL),\n/* harmony export */   api: () => (/* binding */ api)\n/* harmony export */ });\nconst API_URL = \"http://localhost:3001\" || 0;\nconst WS_URL = \"http://localhost:3001\" || 0;\nclass ApiClient {\n    setToken(token) {\n        this.token = token;\n        if (true) {\n            localStorage.setItem('pos_token', token);\n        }\n    }\n    getToken() {\n        if (this.token) return this.token;\n        if (true) {\n            this.token = localStorage.getItem('pos_token');\n        }\n        return this.token;\n    }\n    clearToken() {\n        this.token = null;\n        if (true) {\n            localStorage.removeItem('pos_token');\n            localStorage.removeItem('pos_refresh_token');\n            localStorage.removeItem('pos_user');\n        // NOTE: pos_tenant is intentionally kept so PIN login works after logout\n        }\n    }\n    async request(path) {\n        let options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n        const headers = {\n            'Content-Type': 'application/json',\n            ...options.headers\n        };\n        const token = this.getToken();\n        if (token) headers['Authorization'] = \"Bearer \".concat(token);\n        const res = await fetch(\"\".concat(API_URL).concat(path), {\n            ...options,\n            headers\n        });\n        if (res.status === 401) {\n            this.clearToken();\n            if (true) window.location.href = '/login';\n            throw new Error('No autorizado');\n        }\n        if (!res.ok) {\n            const error = await res.json().catch(()=>({\n                    message: 'Error del servidor'\n                }));\n            throw new Error(error.message || \"Error \".concat(res.status));\n        }\n        const text = await res.text();\n        if (!text) return null;\n        return JSON.parse(text);\n    }\n    // ── Generic CRUD ──\n    async get(path) {\n        return this.request(path);\n    }\n    async post(path, body) {\n        return this.request(path, {\n            method: 'POST',\n            body: body != null ? JSON.stringify(body) : undefined\n        });\n    }\n    async put(path, body) {\n        return this.request(path, {\n            method: 'PUT',\n            body: body != null ? JSON.stringify(body) : undefined\n        });\n    }\n    async patch(path, body) {\n        return this.request(path, {\n            method: 'PATCH',\n            body: body != null ? JSON.stringify(body) : undefined\n        });\n    }\n    async del(path) {\n        return this.request(path, {\n            method: 'DELETE'\n        });\n    }\n    // ── Auth ──\n    async login(email, password) {\n        const data = await this.request('/auth/login', {\n            method: 'POST',\n            body: JSON.stringify({\n                email,\n                password\n            })\n        });\n        this.setToken(data.accessToken);\n        if (true) {\n            localStorage.setItem('pos_refresh_token', data.refreshToken);\n            localStorage.setItem('pos_user', JSON.stringify(data.user));\n            localStorage.setItem('pos_tenant', JSON.stringify(data.tenant));\n        }\n        return data;\n    }\n    async pinLogin(tenantId, pin) {\n        const data = await this.request('/auth/pin-login', {\n            method: 'POST',\n            body: JSON.stringify({\n                tenantId,\n                pin\n            })\n        });\n        this.setToken(data.accessToken);\n        if (true) {\n            localStorage.setItem('pos_refresh_token', data.refreshToken);\n            localStorage.setItem('pos_user', JSON.stringify(data.user));\n            localStorage.setItem('pos_tenant', JSON.stringify(data.tenant));\n        }\n        return data;\n    }\n    async forgotPassword(email) {\n        return this.request('/auth/forgot-password', {\n            method: 'POST',\n            body: JSON.stringify({\n                email\n            })\n        });\n    }\n    async resetPassword(token, newPassword) {\n        return this.request('/auth/reset-password', {\n            method: 'POST',\n            body: JSON.stringify({\n                token,\n                newPassword\n            })\n        });\n    }\n    async getProfile() {\n        return this.request('/auth/profile');\n    }\n    // ── Products ──\n    async getProducts(params) {\n        const query = new URLSearchParams();\n        if ((params === null || params === void 0 ? void 0 : params.categoryId) && params.categoryId !== 'null') query.set('categoryId', params.categoryId);\n        if ((params === null || params === void 0 ? void 0 : params.search) && params.search.trim() !== '') query.set('search', params.search);\n        const qs = query.toString();\n        return this.request(\"/products\".concat(qs ? \"?\".concat(qs) : ''));\n    }\n    async getCategories() {\n        return this.request('/products/categories');\n    }\n    // ── Orders ──\n    async getOpenOrders() {\n        return this.request('/orders/open');\n    }\n    async getOrder(id) {\n        return this.request(\"/orders/\".concat(id));\n    }\n    async createOrder(data) {\n        return this.request('/orders', {\n            method: 'POST',\n            body: JSON.stringify(data)\n        });\n    }\n    async addOrderItem(orderId, data) {\n        return this.request(\"/orders/\".concat(orderId, \"/items\"), {\n            method: 'POST',\n            body: JSON.stringify(data)\n        });\n    }\n    async voidOrderItem(orderId, itemId, reason) {\n        return this.request(\"/orders/\".concat(orderId, \"/items/\").concat(itemId, \"/void\"), {\n            method: 'PATCH',\n            body: JSON.stringify({\n                reason\n            })\n        });\n    }\n    async processPayment(orderId, data) {\n        return this.request(\"/orders/\".concat(orderId, \"/payments\"), {\n            method: 'POST',\n            body: JSON.stringify(data)\n        });\n    }\n    async cancelOrder(orderId) {\n        return this.request(\"/orders/\".concat(orderId, \"/cancel\"), {\n            method: 'PATCH'\n        });\n    }\n    // ── Split Bill ──\n    async getOrderSplits(orderId) {\n        return this.request(\"/orders/\".concat(orderId, \"/splits\"));\n    }\n    async splitEqual(orderId, data) {\n        return this.request(\"/orders/\".concat(orderId, \"/splits/equal\"), {\n            method: 'POST',\n            body: JSON.stringify(data)\n        });\n    }\n    async splitByItems(orderId, data) {\n        return this.request(\"/orders/\".concat(orderId, \"/splits/by-items\"), {\n            method: 'POST',\n            body: JSON.stringify(data)\n        });\n    }\n    async splitCustom(orderId, data) {\n        return this.request(\"/orders/\".concat(orderId, \"/splits/custom\"), {\n            method: 'POST',\n            body: JSON.stringify(data)\n        });\n    }\n    async processSplitPayment(orderId, splitId, data) {\n        return this.request(\"/orders/\".concat(orderId, \"/splits/\").concat(splitId, \"/payments\"), {\n            method: 'POST',\n            body: JSON.stringify(data)\n        });\n    }\n    async removeSplits(orderId) {\n        return this.request(\"/orders/\".concat(orderId, \"/splits\"), {\n            method: 'DELETE'\n        });\n    }\n    // ── Promotions ──\n    async applyPromotions(orderId) {\n        return this.request(\"/promotions/orders/\".concat(orderId, \"/apply\"), {\n            method: 'POST'\n        });\n    }\n    async applyCoupon(orderId, couponCode) {\n        return this.request(\"/promotions/orders/\".concat(orderId, \"/coupon\"), {\n            method: 'POST',\n            body: JSON.stringify({\n                couponCode\n            })\n        });\n    }\n    async removePromotion(orderId, promotionId) {\n        return this.request(\"/promotions/orders/\".concat(orderId, \"/\").concat(promotionId), {\n            method: 'DELETE'\n        });\n    }\n    async getOrderPromotions(orderId) {\n        return this.request(\"/promotions/orders/\".concat(orderId));\n    }\n    constructor(){\n        this.token = null;\n    }\n}\nconst api = new ApiClient();\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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U0FBUSxZQUFVO1lBQUVyQyxRQUFRO1lBQVFELE1BQU1KLEtBQUtNLFNBQVMsQ0FBQztnQkFBRW1EO1lBQVc7UUFBRztJQUMxSDtJQUVBLE1BQU1DLGdCQUFnQmhCLE9BQWUsRUFBRWlCLFdBQW1CLEVBQUU7UUFDMUQsT0FBTyxJQUFJLENBQUM1RSxPQUFPLENBQU0sc0JBQWlDNEUsT0FBWGpCLFNBQVEsS0FBZSxPQUFaaUIsY0FBZTtZQUFFdEQsUUFBUTtRQUFTO0lBQzlGO0lBRUEsTUFBTXVELG1CQUFtQmxCLE9BQWUsRUFBRTtRQUN4QyxPQUFPLElBQUksQ0FBQzNELE9BQU8sQ0FBTSxzQkFBOEIsT0FBUjJEO0lBQ2pEOzthQTFNUWxFLFFBQXVCOztBQTJNakM7QUFFTyxNQUFNcUYsTUFBTSxJQUFJdkYsWUFBWSIsInNvdXJjZXMiOlsiL1VzZXJzL2Nhcmxvc2Ftb3Jlcy9Eb2N1bWVudHMvUHJveWVjdG9zL3Bvcy1zYXMvYXBwcy93ZWIvc3JjL2xpYi9hcGkudHMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IEFQSV9VUkwgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUElfVVJMIHx8ICdodHRwOi8vbG9jYWxob3N0OjMwMDEnO1xuZXhwb3J0IGNvbnN0IFdTX1VSTCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1dTX1VSTCB8fCBBUElfVVJMO1xuXG5jbGFzcyBBcGlDbGllbnQge1xuICBwcml2YXRlIHRva2VuOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcblxuICBzZXRUb2tlbih0b2tlbjogc3RyaW5nKSB7XG4gICAgdGhpcy50b2tlbiA9IHRva2VuO1xuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Bvc190b2tlbicsIHRva2VuKTtcbiAgICB9XG4gIH1cblxuICBnZXRUb2tlbigpOiBzdHJpbmcgfCBudWxsIHtcbiAgICBpZiAodGhpcy50b2tlbikgcmV0dXJuIHRoaXMudG9rZW47XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aGlzLnRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Bvc190b2tlbicpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy50b2tlbjtcbiAgfVxuXG4gIGNsZWFyVG9rZW4oKSB7XG4gICAgdGhpcy50b2tlbiA9IG51bGw7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgncG9zX3Rva2VuJyk7XG4gICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgncG9zX3JlZnJlc2hfdG9rZW4nKTtcbiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdwb3NfdXNlcicpO1xuICAgICAgLy8gTk9URTogcG9zX3RlbmFudCBpcyBpbnRlbnRpb25hbGx5IGtlcHQgc28gUElOIGxvZ2luIHdvcmtzIGFmdGVyIGxvZ291dFxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIHJlcXVlc3Q8VD4ocGF0aDogc3RyaW5nLCBvcHRpb25zOiBSZXF1ZXN0SW5pdCA9IHt9KTogUHJvbWlzZTxUPiB7XG4gICAgY29uc3QgaGVhZGVyczogYW55ID0geyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLCAuLi5vcHRpb25zLmhlYWRlcnMgfTtcbiAgICBjb25zdCB0b2tlbiA9IHRoaXMuZ2V0VG9rZW4oKTtcbiAgICBpZiAodG9rZW4pIGhlYWRlcnNbJ0F1dGhvcml6YXRpb24nXSA9IGBCZWFyZXIgJHt0b2tlbn1gO1xuXG4gICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYCR7QVBJX1VSTH0ke3BhdGh9YCwgeyAuLi5vcHRpb25zLCBoZWFkZXJzIH0pO1xuXG4gICAgaWYgKHJlcy5zdGF0dXMgPT09IDQwMSkge1xuICAgICAgdGhpcy5jbGVhclRva2VuKCk7XG4gICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy9sb2dpbic7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIGF1dG9yaXphZG8nKTtcbiAgICB9XG5cbiAgICBpZiAoIXJlcy5vaykge1xuICAgICAgY29uc3QgZXJyb3IgPSBhd2FpdCByZXMuanNvbigpLmNhdGNoKCgpID0+ICh7IG1lc3NhZ2U6ICdFcnJvciBkZWwgc2Vydmlkb3InIH0pKTtcbiAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvci5tZXNzYWdlIHx8IGBFcnJvciAke3Jlcy5zdGF0dXN9YCk7XG4gICAgfVxuXG4gICAgY29uc3QgdGV4dCA9IGF3YWl0IHJlcy50ZXh0KCk7XG4gICAgaWYgKCF0ZXh0KSByZXR1cm4gbnVsbCBhcyBUO1xuICAgIHJldHVybiBKU09OLnBhcnNlKHRleHQpO1xuICB9XG5cbiAgLy8g4pSA4pSAIEdlbmVyaWMgQ1JVRCDilIDilIBcbiAgYXN5bmMgZ2V0PFQgPSBhbnk+KHBhdGg6IHN0cmluZyk6IFByb21pc2U8VD4ge1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3Q8VD4ocGF0aCk7XG4gIH1cblxuICBhc3luYyBwb3N0PFQgPSBhbnk+KHBhdGg6IHN0cmluZywgYm9keT86IGFueSk6IFByb21pc2U8VD4ge1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3Q8VD4ocGF0aCwgeyBtZXRob2Q6ICdQT1NUJywgYm9keTogYm9keSAhPSBudWxsID8gSlNPTi5zdHJpbmdpZnkoYm9keSkgOiB1bmRlZmluZWQgfSk7XG4gIH1cblxuICBhc3luYyBwdXQ8VCA9IGFueT4ocGF0aDogc3RyaW5nLCBib2R5PzogYW55KTogUHJvbWlzZTxUPiB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdDxUPihwYXRoLCB7IG1ldGhvZDogJ1BVVCcsIGJvZHk6IGJvZHkgIT0gbnVsbCA/IEpTT04uc3RyaW5naWZ5KGJvZHkpIDogdW5kZWZpbmVkIH0pO1xuICB9XG5cbiAgYXN5bmMgcGF0Y2g8VCA9IGFueT4ocGF0aDogc3RyaW5nLCBib2R5PzogYW55KTogUHJvbWlzZTxUPiB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdDxUPihwYXRoLCB7IG1ldGhvZDogJ1BBVENIJywgYm9keTogYm9keSAhPSBudWxsID8gSlNPTi5zdHJpbmdpZnkoYm9keSkgOiB1bmRlZmluZWQgfSk7XG4gIH1cblxuICBhc3luYyBkZWw8VCA9IGFueT4ocGF0aDogc3RyaW5nKTogUHJvbWlzZTxUPiB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdDxUPihwYXRoLCB7IG1ldGhvZDogJ0RFTEVURScgfSk7XG4gIH1cblxuICAvLyDilIDilIAgQXV0aCDilIDilIBcbiAgYXN5bmMgbG9naW4oZW1haWw6IHN0cmluZywgcGFzc3dvcmQ6IHN0cmluZykge1xuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLnJlcXVlc3Q8YW55PignL2F1dGgvbG9naW4nLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgZW1haWwsIHBhc3N3b3JkIH0pLFxuICAgIH0pO1xuICAgIHRoaXMuc2V0VG9rZW4oZGF0YS5hY2Nlc3NUb2tlbik7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncG9zX3JlZnJlc2hfdG9rZW4nLCBkYXRhLnJlZnJlc2hUb2tlbik7XG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncG9zX3VzZXInLCBKU09OLnN0cmluZ2lmeShkYXRhLnVzZXIpKTtcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdwb3NfdGVuYW50JywgSlNPTi5zdHJpbmdpZnkoZGF0YS50ZW5hbnQpKTtcbiAgICB9XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cblxuICBhc3luYyBwaW5Mb2dpbih0ZW5hbnRJZDogc3RyaW5nLCBwaW46IHN0cmluZykge1xuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLnJlcXVlc3Q8YW55PignL2F1dGgvcGluLWxvZ2luJywge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IHRlbmFudElkLCBwaW4gfSksXG4gICAgfSk7XG4gICAgdGhpcy5zZXRUb2tlbihkYXRhLmFjY2Vzc1Rva2VuKTtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdwb3NfcmVmcmVzaF90b2tlbicsIGRhdGEucmVmcmVzaFRva2VuKTtcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdwb3NfdXNlcicsIEpTT04uc3RyaW5naWZ5KGRhdGEudXNlcikpO1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Bvc190ZW5hbnQnLCBKU09OLnN0cmluZ2lmeShkYXRhLnRlbmFudCkpO1xuICAgIH1cbiAgICByZXR1cm4gZGF0YTtcbiAgfVxuXG4gIGFzeW5jIGZvcmdvdFBhc3N3b3JkKGVtYWlsOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0PGFueT4oJy9hdXRoL2ZvcmdvdC1wYXNzd29yZCcsIHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBlbWFpbCB9KSxcbiAgICB9KTtcbiAgfVxuXG4gIGFzeW5jIHJlc2V0UGFzc3dvcmQodG9rZW46IHN0cmluZywgbmV3UGFzc3dvcmQ6IHN0cmluZykge1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3Q8YW55PignL2F1dGgvcmVzZXQtcGFzc3dvcmQnLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgdG9rZW4sIG5ld1Bhc3N3b3JkIH0pLFxuICAgIH0pO1xuICB9XG5cbiAgYXN5bmMgZ2V0UHJvZmlsZSgpIHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0PGFueT4oJy9hdXRoL3Byb2ZpbGUnKTtcbiAgfVxuXG4gIC8vIOKUgOKUgCBQcm9kdWN0cyDilIDilIBcbiAgYXN5bmMgZ2V0UHJvZHVjdHMocGFyYW1zPzogeyBjYXRlZ29yeUlkPzogc3RyaW5nOyBzZWFyY2g/OiBzdHJpbmcgfSkge1xuICAgIGNvbnN0IHF1ZXJ5ID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgIGlmIChwYXJhbXM/LmNhdGVnb3J5SWQgJiYgcGFyYW1zLmNhdGVnb3J5SWQgIT09ICdudWxsJykgcXVlcnkuc2V0KCdjYXRlZ29yeUlkJywgcGFyYW1zLmNhdGVnb3J5SWQpO1xuICAgIGlmIChwYXJhbXM/LnNlYXJjaCAmJiBwYXJhbXMuc2VhcmNoLnRyaW0oKSAhPT0gJycpIHF1ZXJ5LnNldCgnc2VhcmNoJywgcGFyYW1zLnNlYXJjaCk7XG4gICAgY29uc3QgcXMgPSBxdWVyeS50b1N0cmluZygpO1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3Q8YW55PihgL3Byb2R1Y3RzJHtxcyA/IGA/JHtxc31gIDogJyd9YCk7XG4gIH1cblxuICBhc3luYyBnZXRDYXRlZ29yaWVzKCkge1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3Q8YW55W10+KCcvcHJvZHVjdHMvY2F0ZWdvcmllcycpO1xuICB9XG5cbiAgLy8g4pSA4pSAIE9yZGVycyDilIDilIBcbiAgYXN5bmMgZ2V0T3Blbk9yZGVycygpIHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0PGFueVtdPignL29yZGVycy9vcGVuJyk7XG4gIH1cblxuICBhc3luYyBnZXRPcmRlcihpZDogc3RyaW5nKSB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdDxhbnk+KGAvb3JkZXJzLyR7aWR9YCk7XG4gIH1cblxuICBhc3luYyBjcmVhdGVPcmRlcihkYXRhOiB7IHR5cGU/OiBzdHJpbmc7IG1ldGFkYXRhPzogYW55OyBub3Rlcz86IHN0cmluZyB9KSB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdDxhbnk+KCcvb3JkZXJzJywgeyBtZXRob2Q6ICdQT1NUJywgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSkgfSk7XG4gIH1cblxuICBhc3luYyBhZGRPcmRlckl0ZW0ob3JkZXJJZDogc3RyaW5nLCBkYXRhOiB7IHByb2R1Y3RJZDogc3RyaW5nOyBxdWFudGl0eT86IG51bWJlcjsgbm90ZXM/OiBzdHJpbmc7IG1vZGlmaWVycz86IGFueVtdIH0pIHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0PGFueT4oYC9vcmRlcnMvJHtvcmRlcklkfS9pdGVtc2AsIHsgbWV0aG9kOiAnUE9TVCcsIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpIH0pO1xuICB9XG5cbiAgYXN5bmMgdm9pZE9yZGVySXRlbShvcmRlcklkOiBzdHJpbmcsIGl0ZW1JZDogc3RyaW5nLCByZWFzb246IHN0cmluZykge1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3Q8YW55PihgL29yZGVycy8ke29yZGVySWR9L2l0ZW1zLyR7aXRlbUlkfS92b2lkYCwge1xuICAgICAgbWV0aG9kOiAnUEFUQ0gnLCBib2R5OiBKU09OLnN0cmluZ2lmeSh7IHJlYXNvbiB9KSxcbiAgICB9KTtcbiAgfVxuXG4gIGFzeW5jIHByb2Nlc3NQYXltZW50KG9yZGVySWQ6IHN0cmluZywgZGF0YTogeyBtZXRob2Q6IHN0cmluZzsgYW1vdW50OiBudW1iZXI7IGNhc2hSZWNlaXZlZD86IG51bWJlcjsgcmVmZXJlbmNlPzogc3RyaW5nIH0pIHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0PGFueT4oYC9vcmRlcnMvJHtvcmRlcklkfS9wYXltZW50c2AsIHsgbWV0aG9kOiAnUE9TVCcsIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpIH0pO1xuICB9XG5cbiAgYXN5bmMgY2FuY2VsT3JkZXIob3JkZXJJZDogc3RyaW5nKSB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdDxhbnk+KGAvb3JkZXJzLyR7b3JkZXJJZH0vY2FuY2VsYCwgeyBtZXRob2Q6ICdQQVRDSCcgfSk7XG4gIH1cblxuICAvLyDilIDilIAgU3BsaXQgQmlsbCDilIDilIBcbiAgYXN5bmMgZ2V0T3JkZXJTcGxpdHMob3JkZXJJZDogc3RyaW5nKSB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdDxhbnk+KGAvb3JkZXJzLyR7b3JkZXJJZH0vc3BsaXRzYCk7XG4gIH1cblxuICBhc3luYyBzcGxpdEVxdWFsKG9yZGVySWQ6IHN0cmluZywgZGF0YTogeyBudW1iZXJPZkd1ZXN0czogbnVtYmVyOyBndWVzdE5hbWVzPzogc3RyaW5nW10gfSkge1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3Q8YW55PihgL29yZGVycy8ke29yZGVySWR9L3NwbGl0cy9lcXVhbGAsIHsgbWV0aG9kOiAnUE9TVCcsIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpIH0pO1xuICB9XG5cbiAgYXN5bmMgc3BsaXRCeUl0ZW1zKG9yZGVySWQ6IHN0cmluZywgZGF0YTogeyBudW1iZXJPZkd1ZXN0czogbnVtYmVyOyBndWVzdE5hbWVzPzogc3RyaW5nW107IGFzc2lnbm1lbnRzOiB7IGd1ZXN0SW5kZXg6IG51bWJlcjsgaXRlbUlkczogc3RyaW5nW10gfVtdIH0pIHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0PGFueT4oYC9vcmRlcnMvJHtvcmRlcklkfS9zcGxpdHMvYnktaXRlbXNgLCB7IG1ldGhvZDogJ1BPU1QnLCBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKSB9KTtcbiAgfVxuXG4gIGFzeW5jIHNwbGl0Q3VzdG9tKG9yZGVySWQ6IHN0cmluZywgZGF0YTogeyBndWVzdHM6IHsgbmFtZT86IHN0cmluZzsgYW1vdW50OiBudW1iZXIgfVtdIH0pIHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0PGFueT4oYC9vcmRlcnMvJHtvcmRlcklkfS9zcGxpdHMvY3VzdG9tYCwgeyBtZXRob2Q6ICdQT1NUJywgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSkgfSk7XG4gIH1cblxuICBhc3luYyBwcm9jZXNzU3BsaXRQYXltZW50KG9yZGVySWQ6IHN0cmluZywgc3BsaXRJZDogc3RyaW5nLCBkYXRhOiB7IG1ldGhvZDogc3RyaW5nOyBhbW91bnQ6IG51bWJlcjsgY2FzaFJlY2VpdmVkPzogbnVtYmVyIH0pIHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0PGFueT4oYC9vcmRlcnMvJHtvcmRlcklkfS9zcGxpdHMvJHtzcGxpdElkfS9wYXltZW50c2AsIHsgbWV0aG9kOiAnUE9TVCcsIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpIH0pO1xuICB9XG5cbiAgYXN5bmMgcmVtb3ZlU3BsaXRzKG9yZGVySWQ6IHN0cmluZykge1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3Q8YW55PihgL29yZGVycy8ke29yZGVySWR9L3NwbGl0c2AsIHsgbWV0aG9kOiAnREVMRVRFJyB9KTtcbiAgfVxuXG4gIC8vIOKUgOKUgCBQcm9tb3Rpb25zIOKUgOKUgFxuICBhc3luYyBhcHBseVByb21vdGlvbnMob3JkZXJJZDogc3RyaW5nKSB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdDxhbnk+KGAvcHJvbW90aW9ucy9vcmRlcnMvJHtvcmRlcklkfS9hcHBseWAsIHsgbWV0aG9kOiAnUE9TVCcgfSk7XG4gIH1cblxuICBhc3luYyBhcHBseUNvdXBvbihvcmRlcklkOiBzdHJpbmcsIGNvdXBvbkNvZGU6IHN0cmluZykge1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3Q8YW55PihgL3Byb21vdGlvbnMvb3JkZXJzLyR7b3JkZXJJZH0vY291cG9uYCwgeyBtZXRob2Q6ICdQT1NUJywgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBjb3Vwb25Db2RlIH0pIH0pO1xuICB9XG5cbiAgYXN5bmMgcmVtb3ZlUHJvbW90aW9uKG9yZGVySWQ6IHN0cmluZywgcHJvbW90aW9uSWQ6IHN0cmluZykge1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3Q8YW55PihgL3Byb21vdGlvbnMvb3JkZXJzLyR7b3JkZXJJZH0vJHtwcm9tb3Rpb25JZH1gLCB7IG1ldGhvZDogJ0RFTEVURScgfSk7XG4gIH1cblxuICBhc3luYyBnZXRPcmRlclByb21vdGlvbnMob3JkZXJJZDogc3RyaW5nKSB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdDxhbnk+KGAvcHJvbW90aW9ucy9vcmRlcnMvJHtvcmRlcklkfWApO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBhcGkgPSBuZXcgQXBpQ2xpZW50KCk7XG4iXSwibmFtZXMiOlsiQVBJX1VSTCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19BUElfVVJMIiwiV1NfVVJMIiwiTkVYVF9QVUJMSUNfV1NfVVJMIiwiQXBpQ2xpZW50Iiwic2V0VG9rZW4iLCJ0b2tlbiIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJnZXRUb2tlbiIsImdldEl0ZW0iLCJjbGVhclRva2VuIiwicmVtb3ZlSXRlbSIsInJlcXVlc3QiLCJwYXRoIiwib3B0aW9ucyIsImhlYWRlcnMiLCJyZXMiLCJmZXRjaCIsInN0YXR1cyIsIndpbmRvdyIsImxvY2F0aW9uIiwiaHJlZiIsIkVycm9yIiwib2siLCJlcnJvciIsImpzb24iLCJjYXRjaCIsIm1lc3NhZ2UiLCJ0ZXh0IiwiSlNPTiIsInBhcnNlIiwiZ2V0IiwicG9zdCIsImJvZHkiLCJtZXRob2QiLCJzdHJpbmdpZnkiLCJ1bmRlZmluZWQiLCJwdXQiLCJwYXRjaCIsImRlbCIsImxvZ2luIiwiZW1haWwiLCJwYXNzd29yZCIsImRhdGEiLCJhY2Nlc3NUb2tlbiIsInJlZnJlc2hUb2tlbiIsInVzZXIiLCJ0ZW5hbnQiLCJwaW5Mb2dpbiIsInRlbmFudElkIiwicGluIiwiZm9yZ290UGFzc3dvcmQiLCJyZXNldFBhc3N3b3JkIiwibmV3UGFzc3dvcmQiLCJnZXRQcm9maWxlIiwiZ2V0UHJvZHVjdHMiLCJwYXJhbXMiLCJxdWVyeSIsIlVSTFNlYXJjaFBhcmFtcyIsImNhdGVnb3J5SWQiLCJzZXQiLCJzZWFyY2giLCJ0cmltIiwicXMiLCJ0b1N0cmluZyIsImdldENhdGVnb3JpZXMiLCJnZXRPcGVuT3JkZXJzIiwiZ2V0T3JkZXIiLCJpZCIsImNyZWF0ZU9yZGVyIiwiYWRkT3JkZXJJdGVtIiwib3JkZXJJZCIsInZvaWRPcmRlckl0ZW0iLCJpdGVtSWQiLCJyZWFzb24iLCJwcm9jZXNzUGF5bWVudCIsImNhbmNlbE9yZGVyIiwiZ2V0T3JkZXJTcGxpdHMiLCJzcGxpdEVxdWFsIiwic3BsaXRCeUl0ZW1zIiwic3BsaXRDdXN0b20iLCJwcm9jZXNzU3BsaXRQYXltZW50Iiwic3BsaXRJZCIsInJlbW92ZVNwbGl0cyIsImFwcGx5UHJvbW90aW9ucyIsImFwcGx5Q291cG9uIiwiY291cG9uQ29kZSIsInJlbW92ZVByb21vdGlvbiIsInByb21vdGlvbklkIiwiZ2V0T3JkZXJQcm9tb3Rpb25zIiwiYXBpIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/lib/api.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/lib/offline-sync.ts":
/*!*********************************!*\
  !*** ./src/lib/offline-sync.ts ***!
  \*********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addItemOfflineAware: () => (/* binding */ addItemOfflineAware),\n/* harmony export */   createOrderOfflineAware: () => (/* binding */ createOrderOfflineAware),\n/* harmony export */   getOfflineCacheStatus: () => (/* binding */ getOfflineCacheStatus),\n/* harmony export */   loadCategoriesOfflineAware: () => (/* binding */ loadCategoriesOfflineAware),\n/* harmony export */   loadProductsOfflineAware: () => (/* binding */ loadProductsOfflineAware),\n/* harmony export */   processPaymentOfflineAware: () => (/* binding */ processPaymentOfflineAware),\n/* harmony export */   refreshOfflineCache: () => (/* binding */ refreshOfflineCache),\n/* harmony export */   syncOfflineOrders: () => (/* binding */ syncOfflineOrders),\n/* harmony export */   voidItemOfflineAware: () => (/* binding */ voidItemOfflineAware)\n/* harmony export */ });\n/* harmony import */ var _lib_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/api */ \"(app-pages-browser)/./src/lib/api.ts\");\n/* harmony import */ var _lib_use_offline__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/use-offline */ \"(app-pages-browser)/./src/lib/use-offline.ts\");\n/* harmony import */ var _lib_offline_db__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/offline-db */ \"(app-pages-browser)/./src/lib/offline-db.ts\");\n/* __next_internal_client_entry_do_not_use__ refreshOfflineCache,loadProductsOfflineAware,loadCategoriesOfflineAware,createOrderOfflineAware,addItemOfflineAware,voidItemOfflineAware,processPaymentOfflineAware,syncOfflineOrders,getOfflineCacheStatus auto */ /**\n * ═══════════════════════════════════════════════\n * TSH Restaurantes — Offline Sync Manager\n * ═══════════════════════════════════════════════\n * Bridges the POS store with offline capabilities:\n * - Caches products/categories to IndexedDB when online\n * - Falls back to IndexedDB when offline\n * - Creates offline orders that sync when connection returns\n * - Manages sync queue with retry logic\n */ \n\n\n// ─── CACHE PRODUCTS & CATEGORIES ───\nasync function refreshOfflineCache() {\n    try {\n        const [products, categories] = await Promise.all([\n            _lib_api__WEBPACK_IMPORTED_MODULE_0__.api.get('/products?limit=500'),\n            _lib_api__WEBPACK_IMPORTED_MODULE_0__.api.getCategories()\n        ]);\n        const productList = Array.isArray(products) ? products : (products === null || products === void 0 ? void 0 : products.data) || [];\n        const categoryList = Array.isArray(categories) ? categories : [];\n        await (0,_lib_offline_db__WEBPACK_IMPORTED_MODULE_2__.cacheProducts)(productList);\n        await (0,_lib_offline_db__WEBPACK_IMPORTED_MODULE_2__.cacheCategories)(categoryList);\n        console.log(\"[Offline] Cached \".concat(productList.length, \" products, \").concat(categoryList.length, \" categories\"));\n        return {\n            products: productList.length,\n            categories: categoryList.length\n        };\n    } catch (e) {\n        console.warn('[Offline] Failed to refresh cache:', e);\n        return {\n            products: 0,\n            categories: 0\n        };\n    }\n}\n// ─── OFFLINE-AWARE LOADERS ───\nasync function loadProductsOfflineAware(categoryId, search) {\n    const isOnline = _lib_use_offline__WEBPACK_IMPORTED_MODULE_1__.useOfflineStore.getState().isOnline;\n    if (isOnline) {\n        try {\n            const params = new URLSearchParams();\n            if (categoryId) params.set('categoryId', categoryId);\n            if (search) params.set('search', search);\n            const result = await _lib_api__WEBPACK_IMPORTED_MODULE_0__.api.get(\"/products\".concat(params.toString() ? '?' + params : ''));\n            const products = Array.isArray(result) ? result : (result === null || result === void 0 ? void 0 : result.data) || [];\n            // Update cache in background\n            (0,_lib_offline_db__WEBPACK_IMPORTED_MODULE_2__.cacheProducts)(products).catch(()=>{});\n            return products;\n        } catch (e) {\n        // Network failed, fall through to cache\n        }\n    }\n    // Offline or network failed — use cache\n    console.log('[Offline] Loading products from cache');\n    if (search) return (0,_lib_offline_db__WEBPACK_IMPORTED_MODULE_2__.searchCachedProducts)(search);\n    return (0,_lib_offline_db__WEBPACK_IMPORTED_MODULE_2__.getCachedProducts)();\n}\nasync function loadCategoriesOfflineAware() {\n    const isOnline = _lib_use_offline__WEBPACK_IMPORTED_MODULE_1__.useOfflineStore.getState().isOnline;\n    if (isOnline) {\n        try {\n            const categories = await _lib_api__WEBPACK_IMPORTED_MODULE_0__.api.getCategories();\n            const list = Array.isArray(categories) ? categories : [];\n            (0,_lib_offline_db__WEBPACK_IMPORTED_MODULE_2__.cacheCategories)(list).catch(()=>{});\n            return list;\n        } catch (e) {}\n    }\n    console.log('[Offline] Loading categories from cache');\n    return (0,_lib_offline_db__WEBPACK_IMPORTED_MODULE_2__.getCachedCategories)();\n}\n// ─── OFFLINE ORDER CREATION ───\nasync function createOrderOfflineAware() {\n    let type = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 'dine_in', metadata = arguments.length > 1 ? arguments[1] : void 0;\n    const isOnline = _lib_use_offline__WEBPACK_IMPORTED_MODULE_1__.useOfflineStore.getState().isOnline;\n    if (isOnline) {\n        try {\n            return await _lib_api__WEBPACK_IMPORTED_MODULE_0__.api.createOrder({\n                type,\n                metadata\n            });\n        } catch (e) {}\n    }\n    console.log('[Offline] Creating offline order');\n    return (0,_lib_offline_db__WEBPACK_IMPORTED_MODULE_2__.createOfflineOrder)(type, metadata);\n}\nasync function addItemOfflineAware(order, productId) {\n    let quantity = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 1, notes = arguments.length > 3 ? arguments[3] : void 0;\n    const isOnline = _lib_use_offline__WEBPACK_IMPORTED_MODULE_1__.useOfflineStore.getState().isOnline;\n    // Online order (has real ID)\n    if (isOnline && !order._offline) {\n        try {\n            await _lib_api__WEBPACK_IMPORTED_MODULE_0__.api.addOrderItem(order.id, {\n                productId,\n                quantity,\n                notes\n            });\n            return _lib_api__WEBPACK_IMPORTED_MODULE_0__.api.getOrder(order.id);\n        } catch (e) {}\n    }\n    // Offline order — need product data to calculate\n    let product;\n    if (isOnline) {\n        try {\n            product = await _lib_api__WEBPACK_IMPORTED_MODULE_0__.api.get(\"/products/\".concat(productId));\n        } catch (e) {}\n    }\n    if (!product) {\n        // Find in cache\n        const cached = await (0,_lib_offline_db__WEBPACK_IMPORTED_MODULE_2__.getCachedProducts)();\n        product = cached.find((p)=>p.id === productId);\n    }\n    if (!product) {\n        throw new Error('Producto no disponible offline');\n    }\n    return (0,_lib_offline_db__WEBPACK_IMPORTED_MODULE_2__.addOfflineItem)(order.id, product, quantity, notes);\n}\nasync function voidItemOfflineAware(order, itemId, reason) {\n    const isOnline = _lib_use_offline__WEBPACK_IMPORTED_MODULE_1__.useOfflineStore.getState().isOnline;\n    if (isOnline && !order._offline) {\n        try {\n            return await _lib_api__WEBPACK_IMPORTED_MODULE_0__.api.voidOrderItem(order.id, itemId, reason);\n        } catch (e) {}\n    }\n    return (0,_lib_offline_db__WEBPACK_IMPORTED_MODULE_2__.voidOfflineItem)(order.id, itemId);\n}\nasync function processPaymentOfflineAware(order, method, amount, cashReceived, reference) {\n    const isOnline = _lib_use_offline__WEBPACK_IMPORTED_MODULE_1__.useOfflineStore.getState().isOnline;\n    if (isOnline && !order._offline) {\n        try {\n            return await _lib_api__WEBPACK_IMPORTED_MODULE_0__.api.processPayment(order.id, {\n                method,\n                amount,\n                cashReceived,\n                reference\n            });\n        } catch (e) {}\n    }\n    // Complete offline — will sync later\n    console.log('[Offline] Completing order offline');\n    const completed = await (0,_lib_offline_db__WEBPACK_IMPORTED_MODULE_2__.completeOfflineOrder)(order.id, {\n        method,\n        amount,\n        cashReceived\n    });\n    return {\n        orderStatus: 'completed',\n        _offline: true,\n        change: method === 'cash' && cashReceived ? Math.max(0, (cashReceived || 0) - amount) : 0,\n        order: completed\n    };\n}\n// ─── SYNC OFFLINE ORDERS ───\nasync function syncOfflineOrders() {\n    const pending = await (0,_lib_offline_db__WEBPACK_IMPORTED_MODULE_2__.getPendingOfflineOrders)();\n    if (pending.length === 0) return {\n        synced: 0,\n        failed: 0,\n        pending: 0\n    };\n    console.log(\"[Offline] Syncing \".concat(pending.length, \" offline orders...\"));\n    let synced = 0;\n    let failed = 0;\n    for (const offlineOrder of pending){\n        try {\n            await (0,_lib_offline_db__WEBPACK_IMPORTED_MODULE_2__.updateOfflineOrderSync)(offlineOrder.id, 'syncing');\n            // 1. Create order on server\n            const serverOrder = await _lib_api__WEBPACK_IMPORTED_MODULE_0__.api.createOrder({\n                type: offlineOrder.type,\n                metadata: {\n                    ...offlineOrder.metadata,\n                    _offlineId: offlineOrder.id,\n                    _offlineCreatedAt: offlineOrder.createdAt\n                }\n            });\n            // 2. Add items\n            const activeItems = offlineOrder.items.filter((i)=>i.status === 'active');\n            for (const item of activeItems){\n                await _lib_api__WEBPACK_IMPORTED_MODULE_0__.api.addOrderItem(serverOrder.id, {\n                    productId: item.productId,\n                    quantity: item.quantity,\n                    notes: item.notes\n                });\n            }\n            // 3. Process payment if completed\n            if (offlineOrder.status === 'completed' && offlineOrder.payments.length > 0) {\n                const payment = offlineOrder.payments[0];\n                await _lib_api__WEBPACK_IMPORTED_MODULE_0__.api.processPayment(serverOrder.id, {\n                    method: payment.method,\n                    amount: payment.amount,\n                    cashReceived: payment.cashReceived\n                });\n            }\n            // 4. Mark as synced and remove\n            await (0,_lib_offline_db__WEBPACK_IMPORTED_MODULE_2__.updateOfflineOrderSync)(offlineOrder.id, 'synced');\n            // Keep for 1 hour then clean up\n            setTimeout(()=>(0,_lib_offline_db__WEBPACK_IMPORTED_MODULE_2__.deleteOfflineOrder)(offlineOrder.id), 3600000);\n            synced++;\n        } catch (e) {\n            console.error(\"[Offline] Failed to sync order \".concat(offlineOrder.id, \":\"), e.message);\n            await (0,_lib_offline_db__WEBPACK_IMPORTED_MODULE_2__.updateOfflineOrderSync)(offlineOrder.id, 'error', e.message);\n            failed++;\n        }\n    }\n    console.log(\"[Offline] Sync done: \".concat(synced, \" synced, \").concat(failed, \" failed\"));\n    return {\n        synced,\n        failed,\n        pending: pending.length - synced - failed\n    };\n}\n// ─── CACHE STATUS ───\nasync function getOfflineCacheStatus() {\n    const products = await (0,_lib_offline_db__WEBPACK_IMPORTED_MODULE_2__.getCachedProducts)();\n    const categories = await (0,_lib_offline_db__WEBPACK_IMPORTED_MODULE_2__.getCachedCategories)();\n    const pending = await (0,_lib_offline_db__WEBPACK_IMPORTED_MODULE_2__.getPendingOfflineOrders)();\n    const cacheAge = await (0,_lib_offline_db__WEBPACK_IMPORTED_MODULE_2__.getCacheAge)();\n    return {\n        hasProducts: products.length > 0,\n        hasCategories: categories.length > 0,\n        productCount: products.length,\n        categoryCount: categories.length,\n        cacheAge,\n        pendingOrders: pending.length\n    };\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9saWIvb2ZmbGluZS1zeW5jLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztpUUFFQTs7Ozs7Ozs7O0NBU0MsR0FFK0I7QUFDb0I7QUFRMUI7QUFFMUIsc0NBQXNDO0FBRS9CLGVBQWVlO0lBQ3BCLElBQUk7UUFDRixNQUFNLENBQUNDLFVBQVVDLFdBQVcsR0FBRyxNQUFNQyxRQUFRQyxHQUFHLENBQUM7WUFDL0NuQix5Q0FBR0EsQ0FBQ29CLEdBQUcsQ0FBTTtZQUNicEIseUNBQUdBLENBQUNxQixhQUFhO1NBQ2xCO1FBRUQsTUFBTUMsY0FBY0MsTUFBTUMsT0FBTyxDQUFDUixZQUFZQSxXQUFZQSxDQUFBQSxxQkFBQUEsK0JBQUFBLFNBQVVTLElBQUksS0FBSSxFQUFFO1FBQzlFLE1BQU1DLGVBQWVILE1BQU1DLE9BQU8sQ0FBQ1AsY0FBY0EsYUFBYSxFQUFFO1FBRWhFLE1BQU1mLDhEQUFhQSxDQUFDb0I7UUFDcEIsTUFBTW5CLGdFQUFlQSxDQUFDdUI7UUFFdEJDLFFBQVFDLEdBQUcsQ0FBQyxvQkFBb0RGLE9BQWhDSixZQUFZTyxNQUFNLEVBQUMsZUFBaUMsT0FBcEJILGFBQWFHLE1BQU0sRUFBQztRQUNwRixPQUFPO1lBQUViLFVBQVVNLFlBQVlPLE1BQU07WUFBRVosWUFBWVMsYUFBYUcsTUFBTTtRQUFDO0lBQ3pFLEVBQUUsT0FBT0MsR0FBRztRQUNWSCxRQUFRSSxJQUFJLENBQUMsc0NBQXNDRDtRQUNuRCxPQUFPO1lBQUVkLFVBQVU7WUFBR0MsWUFBWTtRQUFFO0lBQ3RDO0FBQ0Y7QUFFQSxnQ0FBZ0M7QUFFekIsZUFBZWUseUJBQXlCQyxVQUFtQixFQUFFQyxNQUFlO0lBQ2pGLE1BQU1DLFdBQVdsQyw2REFBZUEsQ0FBQ21DLFFBQVEsR0FBR0QsUUFBUTtJQUVwRCxJQUFJQSxVQUFVO1FBQ1osSUFBSTtZQUNGLE1BQU1FLFNBQVMsSUFBSUM7WUFDbkIsSUFBSUwsWUFBWUksT0FBT0UsR0FBRyxD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QU0xRCx1RUFBc0JBLENBQUNzRSxhQUFhMUIsRUFBRSxFQUFFO1lBQzlDLGdDQUFnQztZQUNoQ3VDLFdBQVcsSUFBTWxGLG1FQUFrQkEsQ0FBQ3FFLGFBQWExQixFQUFFLEdBQUc7WUFDdER3QjtRQUNGLEVBQUUsT0FBT2xELEdBQVE7WUFDZkgsUUFBUXFFLEtBQUssQ0FBQyxrQ0FBa0QsT0FBaEJkLGFBQWExQixFQUFFLEVBQUMsTUFBSTFCLEVBQUVtRSxPQUFPO1lBQzdFLE1BQU1yRix1RUFBc0JBLENBQUNzRSxhQUFhMUIsRUFBRSxFQUFFLFNBQVMxQixFQUFFbUUsT0FBTztZQUNoRWhCO1FBQ0Y7SUFDRjtJQUVBdEQsUUFBUUMsR0FBRyxDQUFDLHdCQUEwQ3FELE9BQWxCRCxRQUFPLGFBQWtCLE9BQVBDLFFBQU87SUFDN0QsT0FBTztRQUFFRDtRQUFRQztRQUFRRixTQUFTQSxRQUFRbEQsTUFBTSxHQUFHbUQsU0FBU0M7SUFBTztBQUNyRTtBQUVBLHVCQUF1QjtBQUVoQixlQUFlaUI7SUFRcEIsTUFBTWxGLFdBQVcsTUFBTVosa0VBQWlCQTtJQUN4QyxNQUFNYSxhQUFhLE1BQU1aLG9FQUFtQkE7SUFDNUMsTUFBTTBFLFVBQVUsTUFBTXBFLHdFQUF1QkE7SUFDN0MsTUFBTXdGLFdBQVcsTUFBTXJGLDREQUFXQTtJQUVsQyxPQUFPO1FBQ0xzRixhQUFhcEYsU0FBU2EsTUFBTSxHQUFHO1FBQy9Cd0UsZUFBZXBGLFdBQVdZLE1BQU0sR0FBRztRQUNuQ3lFLGNBQWN0RixTQUFTYSxNQUFNO1FBQzdCMEUsZUFBZXRGLFdBQVdZLE1BQU07UUFDaENzRTtRQUNBSyxlQUFlekIsUUFBUWxELE1BQU07SUFDL0I7QUFDRiIsInNvdXJjZXMiOlsiL1VzZXJzL2Nhcmxvc2Ftb3Jlcy9Eb2N1bWVudHMvUHJveWVjdG9zL3Bvcy1zYXMvYXBwcy93ZWIvc3JjL2xpYi9vZmZsaW5lLXN5bmMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xuXG4vKipcbiAqIOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkFxuICogVFNIIFJlc3RhdXJhbnRlcyDigJQgT2ZmbGluZSBTeW5jIE1hbmFnZXJcbiAqIOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkFxuICogQnJpZGdlcyB0aGUgUE9TIHN0b3JlIHdpdGggb2ZmbGluZSBjYXBhYmlsaXRpZXM6XG4gKiAtIENhY2hlcyBwcm9kdWN0cy9jYXRlZ29yaWVzIHRvIEluZGV4ZWREQiB3aGVuIG9ubGluZVxuICogLSBGYWxscyBiYWNrIHRvIEluZGV4ZWREQiB3aGVuIG9mZmxpbmVcbiAqIC0gQ3JlYXRlcyBvZmZsaW5lIG9yZGVycyB0aGF0IHN5bmMgd2hlbiBjb25uZWN0aW9uIHJldHVybnNcbiAqIC0gTWFuYWdlcyBzeW5jIHF1ZXVlIHdpdGggcmV0cnkgbG9naWNcbiAqL1xuXG5pbXBvcnQgeyBhcGkgfSBmcm9tICdAL2xpYi9hcGknO1xuaW1wb3J0IHsgdXNlT2ZmbGluZVN0b3JlIH0gZnJvbSAnQC9saWIvdXNlLW9mZmxpbmUnO1xuaW1wb3J0IHtcbiAgY2FjaGVQcm9kdWN0cywgY2FjaGVDYXRlZ29yaWVzLFxuICBnZXRDYWNoZWRQcm9kdWN0cywgZ2V0Q2FjaGVkQ2F0ZWdvcmllcywgc2VhcmNoQ2FjaGVkUHJvZHVjdHMsXG4gIGNyZWF0ZU9mZmxpbmVPcmRlciwgYWRkT2ZmbGluZUl0ZW0sIHZvaWRPZmZsaW5lSXRlbSxcbiAgY29tcGxldGVPZmZsaW5lT3JkZXIsIGdldFBlbmRpbmdPZmZsaW5lT3JkZXJzLFxuICB1cGRhdGVPZmZsaW5lT3JkZXJTeW5jLCBkZWxldGVPZmZsaW5lT3JkZXIsIGdldENhY2hlQWdlLFxuICB0eXBlIE9mZmxpbmVPcmRlcixcbn0gZnJvbSAnQC9saWIvb2ZmbGluZS1kYic7XG5cbi8vIOKUgOKUgOKUgCBDQUNIRSBQUk9EVUNUUyAmIENBVEVHT1JJRVMg4pSA4pSA4pSAXG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZWZyZXNoT2ZmbGluZUNhY2hlKCk6IFByb21pc2U8eyBwcm9kdWN0czogbnVtYmVyOyBjYXRlZ29yaWVzOiBudW1iZXIgfT4ge1xuICB0cnkge1xuICAgIGNvbnN0IFtwcm9kdWN0cywgY2F0ZWdvcmllc10gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICBhcGkuZ2V0PGFueT4oJy9wcm9kdWN0cz9saW1pdD01MDAnKSxcbiAgICAgIGFwaS5nZXRDYXRlZ29yaWVzKCksXG4gICAgXSk7XG5cbiAgICBjb25zdCBwcm9kdWN0TGlzdCA9IEFycmF5LmlzQXJyYXkocHJvZHVjdHMpID8gcHJvZHVjdHMgOiAocHJvZHVjdHM/LmRhdGEgfHwgW10pO1xuICAgIGNvbnN0IGNhdGVnb3J5TGlzdCA9IEFycmF5LmlzQXJyYXkoY2F0ZWdvcmllcykgPyBjYXRlZ29yaWVzIDogW107XG5cbiAgICBhd2FpdCBjYWNoZVByb2R1Y3RzKHByb2R1Y3RMaXN0KTtcbiAgICBhd2FpdCBjYWNoZUNhdGVnb3JpZXMoY2F0ZWdvcnlMaXN0KTtcblxuICAgIGNvbnNvbGUubG9nKGBbT2ZmbGluZV0gQ2FjaGVkICR7cHJvZHVjdExpc3QubGVuZ3RofSBwcm9kdWN0cywgJHtjYXRlZ29yeUxpc3QubGVuZ3RofSBjYXRlZ29yaWVzYCk7XG4gICAgcmV0dXJuIHsgcHJvZHVjdHM6IHByb2R1Y3RMaXN0Lmxlbmd0aCwgY2F0ZWdvcmllczogY2F0ZWdvcnlMaXN0Lmxlbmd0aCB9O1xuICB9IGNhdGNoIChlKSB7XG4gICAgY29uc29sZS53YXJuKCdbT2ZmbGluZV0gRmFpbGVkIHRvIHJlZnJlc2ggY2FjaGU6JywgZSk7XG4gICAgcmV0dXJuIHsgcHJvZHVjdHM6IDAsIGNhdGVnb3JpZXM6IDAgfTtcbiAgfVxufVxuXG4vLyDilIDilIDilIAgT0ZGTElORS1BV0FSRSBMT0FERVJTIOKUgOKUgOKUgFxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbG9hZFByb2R1Y3RzT2ZmbGluZUF3YXJlKGNhdGVnb3J5SWQ/OiBzdHJpbmcsIHNlYXJjaD86IHN0cmluZyk6IFByb21pc2U8YW55W10+IHtcbiAgY29uc3QgaXNPbmxpbmUgPSB1c2VPZmZsaW5lU3RvcmUuZ2V0U3RhdGUoKS5pc09ubGluZTtcblxuICBpZiAoaXNPbmxpbmUpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgaWYgKGNhdGVnb3J5SWQpIHBhcmFtcy5zZXQoJ2NhdGVnb3J5SWQnLCBjYXRlZ29yeUlkKTtcbiAgICAgIGlmIChzZWFyY2gpIHBhcmFtcy5zZXQoJ3NlYXJjaCcsIHNlYXJjaCk7XG4gICAgICBjb25zdCByZXN1bHQ6IGFueSA9IGF3YWl0IGFwaS5nZXQoYC9wcm9kdWN0cyR7cGFyYW1zLnRvU3RyaW5nKCkgPyAnPycgKyBwYXJhbXMgOiAnJ31gKTtcbiAgICAgIGNvbnN0IHByb2R1Y3RzID0gQXJyYXkuaXNBcnJheShyZXN1bHQpID8gcmVzdWx0IDogKHJlc3VsdD8uZGF0YSB8fCBbXSk7XG4gICAgICAvLyBVcGRhdGUgY2FjaGUgaW4gYmFja2dyb3VuZFxuICAgICAgY2FjaGVQcm9kdWN0cyhwcm9kdWN0cykuY2F0Y2goKCkgPT4ge30pO1xuICAgICAgcmV0dXJuIHByb2R1Y3RzO1xuICAgIH0gY2F0Y2gge1xuICAgICAgLy8gTmV0d29yayBmYWlsZWQsIGZhbGwgdGhyb3VnaCB0byBjYWNoZVxuICAgIH1cbiAgfVxuXG4gIC8vIE9mZmxpbmUgb3IgbmV0d29yayBmYWlsZWQg4oCUIHVzZSBjYWNoZVxuICBjb25zb2xlLmxvZygnW09mZmxpbmVdIExvYWRpbmcgcHJvZHVjdHMgZnJvbSBjYWNoZScpO1xuICBpZiAoc2VhcmNoKSByZXR1cm4gc2VhcmNoQ2FjaGVkUHJvZHVjdHMoc2VhcmNoKTtcbiAgcmV0dXJuIGdldENhY2hlZFByb2R1Y3RzKCk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsb2FkQ2F0ZWdvcmllc09mZmxpbmVBd2FyZSgpOiBQcm9taXNlPGFueVtdPiB7XG4gIGNvbnN0IGlzT25saW5lID0gdXNlT2ZmbGluZVN0b3JlLmdldFN0YXRlKCkuaXNPbmxpbmU7XG5cbiAgaWYgKGlzT25saW5lKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNhdGVnb3JpZXMgPSBhd2FpdCBhcGkuZ2V0Q2F0ZWdvcmllcygpO1xuICAgICAgY29uc3QgbGlzdCA9IEFycmF5LmlzQXJyYXkoY2F0ZWdvcmllcykgPyBjYXRlZ29yaWVzIDogW107XG4gICAgICBjYWNoZUNhdGVnb3JpZXMobGlzdCkuY2F0Y2goKCkgPT4ge30pO1xuICAgICAgcmV0dXJuIGxpc3Q7XG4gICAgfSBjYXRjaCB7fVxuICB9XG5cbiAgY29uc29sZS5sb2coJ1tPZmZsaW5lXSBMb2FkaW5nIGNhdGVnb3JpZXMgZnJvbSBjYWNoZScpO1xuICByZXR1cm4gZ2V0Q2FjaGVkQ2F0ZWdvcmllcygpO1xufVxuXG4vLyDilIDilIDilIAgT0ZGTElORSBPUkRFUiBDUkVBVElPTiDilIDilIDilIBcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZU9yZGVyT2ZmbGluZUF3YXJlKHR5cGU6IHN0cmluZyA9ICdkaW5lX2luJywgbWV0YWRhdGE/OiBhbnkpOiBQcm9taXNlPGFueT4ge1xuICBjb25zdCBpc09ubGluZSA9IHVzZU9mZmxpbmVTdG9yZS5nZXRTdGF0ZSgpLmlzT25saW5lO1xuXG4gIGlmIChpc09ubGluZSkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gYXdhaXQgYXBpLmNyZWF0ZU9yZGVyKHsgdHlwZSwgbWV0YWRhdGEgfSk7XG4gICAgfSBjYXRjaCB7fVxuICB9XG5cbiAgY29uc29sZS5sb2coJ1tPZmZsaW5lXSBDcmVhdGluZyBvZmZsaW5lIG9yZGVyJyk7XG4gIHJldHVybiBjcmVhdGVPZmZsaW5lT3JkZXIodHlwZSwgbWV0YWRhdGEpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYWRkSXRlbU9mZmxpbmVBd2FyZShvcmRlcjogYW55LCBwcm9kdWN0SWQ6IHN0cmluZywgcXVhbnRpdHk6IG51bWJlciA9IDEsIG5vdGVzPzogc3RyaW5nKTogUHJvbWlzZTxhbnk+IHtcbiAgY29uc3QgaXNPbmxpbmUgPSB1c2VPZmZsaW5lU3RvcmUuZ2V0U3RhdGUoKS5pc09ubGluZTtcblxuICAvLyBPbmxpbmUgb3JkZXIgKGhhcyByZWFsIElEKVxuICBpZiAoaXNPbmxpbmUgJiYgIW9yZGVyLl9vZmZsaW5lKSB7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IGFwaS5hZGRPcmRlckl0ZW0ob3JkZXIuaWQsIHsgcHJvZHVjdElkLCBxdWFudGl0eSwgbm90ZXMgfSk7XG4gICAgICByZXR1cm4gYXBpLmdldE9yZGVyKG9yZGVyLmlkKTtcbiAgICB9IGNhdGNoIHt9XG4gIH1cblxuICAvLyBPZmZsaW5lIG9yZGVyIOKAlCBuZWVkIHByb2R1Y3QgZGF0YSB0byBjYWxjdWxhdGVcbiAgbGV0IHByb2R1Y3Q6IGFueTtcbiAgaWYgKGlzT25saW5lKSB7XG4gICAgdHJ5IHtcbiAgICAgIHByb2R1Y3QgPSBhd2FpdCBhcGkuZ2V0KGAvcHJvZHVjdHMvJHtwcm9kdWN0SWR9YCk7XG4gICAgfSBjYXRjaCB7fVxuICB9XG4gIGlmICghcHJvZHVjdCkge1xuICAgIC8vIEZpbmQgaW4gY2FjaGVcbiAgICBjb25zdCBjYWNoZWQgPSBhd2FpdCBnZXRDYWNoZWRQcm9kdWN0cygpO1xuICAgIHByb2R1Y3QgPSBjYWNoZWQuZmluZChwID0+IHAuaWQgPT09IHByb2R1Y3RJZCk7XG4gIH1cbiAgaWYgKCFwcm9kdWN0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdQcm9kdWN0byBubyBkaXNwb25pYmxlIG9mZmxpbmUnKTtcbiAgfVxuXG4gIHJldHVybiBhZGRPZmZsaW5lSXRlbShvcmRlci5pZCwgcHJvZHVjdCwgcXVhbnRpdHksIG5vdGVzKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHZvaWRJdGVtT2ZmbGluZUF3YXJlKG9yZGVyOiBhbnksIGl0ZW1JZDogc3RyaW5nLCByZWFzb246IHN0cmluZyk6IFByb21pc2U8YW55PiB7XG4gIGNvbnN0IGlzT25saW5lID0gdXNlT2ZmbGluZVN0b3JlLmdldFN0YXRlKCkuaXNPbmxpbmU7XG5cbiAgaWYgKGlzT25saW5lICYmICFvcmRlci5fb2ZmbGluZSkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gYXdhaXQgYXBpLnZvaWRPcmRlckl0ZW0ob3JkZXIuaWQsIGl0ZW1JZCwgcmVhc29uKTtcbiAgICB9IGNhdGNoIHt9XG4gIH1cblxuICByZXR1cm4gdm9pZE9mZmxpbmVJdGVtKG9yZGVyLmlkLCBpdGVtSWQpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcHJvY2Vzc1BheW1lbnRPZmZsaW5lQXdhcmUob3JkZXI6IGFueSwgbWV0aG9kOiBzdHJpbmcsIGFtb3VudDogbnVtYmVyLCBjYXNoUmVjZWl2ZWQ/OiBudW1iZXIsIHJlZmVyZW5jZT86IHN0cmluZyk6IFByb21pc2U8YW55PiB7XG4gIGNvbnN0IGlzT25saW5lID0gdXNlT2ZmbGluZVN0b3JlLmdldFN0YXRlKCkuaXNPbmxpbmU7XG5cbiAgaWYgKGlzT25saW5lICYmICFvcmRlci5fb2ZmbGluZSkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gYXdhaXQgYXBpLnByb2Nlc3NQYXltZW50KG9yZGVyLmlkLCB7IG1ldGhvZCwgYW1vdW50LCBjYXNoUmVjZWl2ZWQsIHJlZmVyZW5jZSB9KTtcbiAgICB9IGNhdGNoIHt9XG4gIH1cblxuICAvLyBDb21wbGV0ZSBvZmZsaW5lIOKAlCB3aWxsIHN5bmMgbGF0ZXJcbiAgY29uc29sZS5sb2coJ1tPZmZsaW5lXSBDb21wbGV0aW5nIG9yZGVyIG9mZmxpbmUnKTtcbiAgY29uc3QgY29tcGxldGVkID0gYXdhaXQgY29tcGxldGVPZmZsaW5lT3JkZXIob3JkZXIuaWQsIHsgbWV0aG9kLCBhbW91bnQsIGNhc2hSZWNlaXZlZCB9KTtcblxuICByZXR1cm4ge1xuICAgIG9yZGVyU3RhdHVzOiAnY29tcGxldGVkJyxcbiAgICBfb2ZmbGluZTogdHJ1ZSxcbiAgICBjaGFuZ2U6IG1ldGhvZCA9PT0gJ2Nhc2gnICYmIGNhc2hSZWNlaXZlZCA/IE1hdGgubWF4KDAsIChjYXNoUmVjZWl2ZWQgfHwgMCkgLSBhbW91bnQpIDogMCxcbiAgICBvcmRlcjogY29tcGxldGVkLFxuICB9O1xufVxuXG4vLyDilIDilIDilIAgU1lOQyBPRkZMSU5FIE9SREVSUyDilIDilIDilIBcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHN5bmNPZmZsaW5lT3JkZXJzKCk6IFByb21pc2U8eyBzeW5jZWQ6IG51bWJlcjsgZmFpbGVkOiBudW1iZXI7IHBlbmRpbmc6IG51bWJlciB9PiB7XG4gIGNvbnN0IHBlbmRpbmcgPSBhd2FpdCBnZXRQZW5kaW5nT2ZmbGluZU9yZGVycygpO1xuICBpZiAocGVuZGluZy5sZW5ndGggPT09IDApIHJldHVybiB7IHN5bmNlZDogMCwgZmFpbGVkOiAwLCBwZW5kaW5nOiAwIH07XG5cbiAgY29uc29sZS5sb2coYFtPZmZsaW5lXSBTeW5jaW5nICR7cGVuZGluZy5sZW5ndGh9IG9mZmxpbmUgb3JkZXJzLi4uYCk7XG4gIGxldCBzeW5jZWQgPSAwO1xuICBsZXQgZmFpbGVkID0gMDtcblxuICBmb3IgKGNvbnN0IG9mZmxpbmVPcmRlciBvZiBwZW5kaW5nKSB7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IHVwZGF0ZU9mZmxpbmVPcmRlclN5bmMob2ZmbGluZU9yZGVyLmlkLCAnc3luY2luZycpO1xuXG4gICAgICAvLyAxLiBDcmVhdGUgb3JkZXIgb24gc2VydmVyXG4gICAgICBjb25zdCBzZXJ2ZXJPcmRlcjogYW55ID0gYXdhaXQgYXBpLmNyZWF0ZU9yZGVyKHtcbiAgICAgICAgdHlwZTogb2ZmbGluZU9yZGVyLnR5cGUsXG4gICAgICAgIG1ldGFkYXRhOiB7IC4uLm9mZmxpbmVPcmRlci5tZXRhZGF0YSwgX29mZmxpbmVJZDogb2ZmbGluZU9yZGVyLmlkLCBfb2ZmbGluZUNyZWF0ZWRBdDogb2ZmbGluZU9yZGVyLmNyZWF0ZWRBdCB9LFxuICAgICAgfSk7XG5cbiAgICAgIC8vIDIuIEFkZCBpdGVtc1xuICAgICAgY29uc3QgYWN0aXZlSXRlbXMgPSBvZmZsaW5lT3JkZXIuaXRlbXMuZmlsdGVyKGkgPT4gaS5zdGF0dXMgPT09ICdhY3RpdmUnKTtcbiAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBhY3RpdmVJdGVtcykge1xuICAgICAgICBhd2FpdCBhcGkuYWRkT3JkZXJJdGVtKHNlcnZlck9yZGVyLmlkLCB7XG4gICAgICAgICAgcHJvZHVjdElkOiBpdGVtLnByb2R1Y3RJZCxcbiAgICAgICAgICBxdWFudGl0eTogaXRlbS5xdWFudGl0eSxcbiAgICAgICAgICBub3RlczogaXRlbS5ub3RlcyxcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIC8vIDMuIFByb2Nlc3MgcGF5bWVudCBpZiBjb21wbGV0ZWRcbiAgICAgIGlmIChvZmZsaW5lT3JkZXIuc3RhdHVzID09PSAnY29tcGxldGVkJyAmJiBvZmZsaW5lT3JkZXIucGF5bWVudHMubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCBwYXltZW50ID0gb2ZmbGluZU9yZGVyLnBheW1lbnRzWzBdO1xuICAgICAgICBhd2FpdCBhcGkucHJvY2Vzc1BheW1lbnQoc2VydmVyT3JkZXIuaWQsIHtcbiAgICAgICAgICBtZXRob2Q6IHBheW1lbnQubWV0aG9kLFxuICAgICAgICAgIGFtb3VudDogcGF5bWVudC5hbW91bnQsXG4gICAgICAgICAgY2FzaFJlY2VpdmVkOiBwYXltZW50LmNhc2hSZWNlaXZlZCxcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIC8vIDQuIE1hcmsgYXMgc3luY2VkIGFuZCByZW1vdmVcbiAgICAgIGF3YWl0IHVwZGF0ZU9mZmxpbmVPcmRlclN5bmMob2ZmbGluZU9yZGVyLmlkLCAnc3luY2VkJyk7XG4gICAgICAvLyBLZWVwIGZvciAxIGhvdXIgdGhlbiBjbGVhbiB1cFxuICAgICAgc2V0VGltZW91dCgoKSA9PiBkZWxldGVPZmZsaW5lT3JkZXIob2ZmbGluZU9yZGVyLmlkKSwgMzYwMDAwMCk7XG4gICAgICBzeW5jZWQrKztcbiAgICB9IGNhdGNoIChlOiBhbnkpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYFtPZmZsaW5lXSBGYWlsZWQgdG8gc3luYyBvcmRlciAke29mZmxpbmVPcmRlci5pZH06YCwgZS5tZXNzYWdlKTtcbiAgICAgIGF3YWl0IHVwZGF0ZU9mZmxpbmVPcmRlclN5bmMob2ZmbGluZU9yZGVyLmlkLCAnZXJyb3InLCBlLm1lc3NhZ2UpO1xuICAgICAgZmFpbGVkKys7XG4gICAgfVxuICB9XG5cbiAgY29uc29sZS5sb2coYFtPZmZsaW5lXSBTeW5jIGRvbmU6ICR7c3luY2VkfSBzeW5jZWQsICR7ZmFpbGVkfSBmYWlsZWRgKTtcbiAgcmV0dXJuIHsgc3luY2VkLCBmYWlsZWQsIHBlbmRpbmc6IHBlbmRpbmcubGVuZ3RoIC0gc3luY2VkIC0gZmFpbGVkIH07XG59XG5cbi8vIOKUgOKUgOKUgCBDQUNIRSBTVEFUVVMg4pSA4pSA4pSAXG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRPZmZsaW5lQ2FjaGVTdGF0dXMoKTogUHJvbWlzZTx7XG4gIGhhc1Byb2R1Y3RzOiBib29sZWFuO1xuICBoYXNDYXRlZ29yaWVzOiBib29sZWFuO1xuICBwcm9kdWN0Q291bnQ6IG51bWJlcjtcbiAgY2F0ZWdvcnlDb3VudDogbnVtYmVyO1xuICBjYWNoZUFnZTogeyBwcm9kdWN0czogbnVtYmVyIHwgbnVsbDsgY2F0ZWdvcmllczogbnVtYmVyIHwgbnVsbCB9O1xuICBwZW5kaW5nT3JkZXJzOiBudW1iZXI7XG59PiB7XG4gIGNvbnN0IHByb2R1Y3RzID0gYXdhaXQgZ2V0Q2FjaGVkUHJvZHVjdHMoKTtcbiAgY29uc3QgY2F0ZWdvcmllcyA9IGF3YWl0IGdldENhY2hlZENhdGVnb3JpZXMoKTtcbiAgY29uc3QgcGVuZGluZyA9IGF3YWl0IGdldFBlbmRpbmdPZmZsaW5lT3JkZXJzKCk7XG4gIGNvbnN0IGNhY2hlQWdlID0gYXdhaXQgZ2V0Q2FjaGVBZ2UoKTtcblxuICByZXR1cm4ge1xuICAgIGhhc1Byb2R1Y3RzOiBwcm9kdWN0cy5sZW5ndGggPiAwLFxuICAgIGhhc0NhdGVnb3JpZXM6IGNhdGVnb3JpZXMubGVuZ3RoID4gMCxcbiAgICBwcm9kdWN0Q291bnQ6IHByb2R1Y3RzLmxlbmd0aCxcbiAgICBjYXRlZ29yeUNvdW50OiBjYXRlZ29yaWVzLmxlbmd0aCxcbiAgICBjYWNoZUFnZSxcbiAgICBwZW5kaW5nT3JkZXJzOiBwZW5kaW5nLmxlbmd0aCxcbiAgfTtcbn1cbiJdLCJuYW1lcyI6WyJhcGkiLCJ1c2VPZmZsaW5lU3RvcmUiLCJjYWNoZVByb2R1Y3RzIiwiY2FjaGVDYXRlZ29yaWVzIiwiZ2V0Q2FjaGVkUHJvZHVjdHMiLCJnZXRDYWNoZWRDYXRlZ29yaWVzIiwic2VhcmNoQ2FjaGVkUHJvZHVjdHMiLCJjcmVhdGVPZmZsaW5lT3JkZXIiLCJhZGRPZmZsaW5lSXRlbSIsInZvaWRPZmZsaW5lSXRlbSIsImNvbXBsZXRlT2ZmbGluZU9yZGVyIiwiZ2V0UGVuZGluZ09mZmxpbmVPcmRlcnMiLCJ1cGRhdGVPZmZsaW5lT3JkZXJTeW5jIiwiZGVsZXRlT2ZmbGluZU9yZGVyIiwiZ2V0Q2FjaGVBZ2UiLCJyZWZyZXNoT2ZmbGluZUNhY2hlIiwicHJvZHVjdHMiLCJjYXRlZ29yaWVzIiwiUHJvbWlzZSIsImFsbCIsImdldCIsImdldENhdGVnb3JpZXMiLCJwcm9kdWN0TGlzdCIsIkFycmF5IiwiaXNBcnJheSIsImRhdGEiLCJjYXRlZ29yeUxpc3QiLCJjb25zb2xlIiwibG9nIiwibGVuZ3RoIiwiZSIsIndhcm4iLCJsb2FkUHJvZHVjdHNPZmZsaW5lQXdhcmUiLCJjYXRlZ29yeUlkIiwic2VhcmNoIiwiaXNPbmxpbmUiLCJnZXRTdGF0ZSIsInBhcmFtcyIsIlVSTFNlYXJjaFBhcmFtcyIsInNldCIsInJlc3VsdCIsInRvU3RyaW5nIiwiY2F0Y2giLCJsb2FkQ2F0ZWdvcmllc09mZmxpbmVBd2FyZSIsImxpc3QiLCJjcmVhdGVPcmRlck9mZmxpbmVBd2FyZSIsInR5cGUiLCJtZXRhZGF0YSIsImNyZWF0ZU9yZGVyIiwiYWRkSXRlbU9mZmxpbmVBd2FyZSIsIm9yZGVyIiwicHJvZHVjdElkIiwicXVhbnRpdHkiLCJub3RlcyIsIl9vZmZsaW5lIiwiYWRkT3JkZXJJdGVtIiwiaWQiLCJnZXRPcmRlciIsInByb2R1Y3QiLCJjYWNoZWQiLCJmaW5kIiwicCIsIkVycm9yIiwidm9pZEl0ZW1PZmZsaW5lQXdhcmUiLCJpdGVtSWQiLCJyZWFzb24iLCJ2b2lkT3JkZXJJdGVtIiwicHJvY2Vzc1BheW1lbnRPZmZsaW5lQXdhcmUiLCJtZXRob2QiLCJhbW91bnQiLCJjYXNoUmVjZWl2ZWQiLCJyZWZlcmVuY2UiLCJwcm9jZXNzUGF5bWVudCIsImNvbXBsZXRlZCIsIm9yZGVyU3RhdHVzIiwiY2hhbmdlIiwiTWF0aCIsIm1heCIsInN5bmNPZmZsaW5lT3JkZXJzIiwicGVuZGluZyIsInN5bmNlZCIsImZhaWxlZCIsIm9mZmxpbmVPcmRlciIsInNlcnZlck9yZGVyIiwiX29mZmxpbmVJZCIsIl9vZmZsaW5lQ3JlYXRlZEF0IiwiY3JlYXRlZEF0IiwiYWN0aXZlSXRlbXMiLCJpdGVtcyIsImZpbHRlciIsImkiLCJzdGF0dXMiLCJpdGVtIiwicGF5bWVudHMiLCJwYXltZW50Iiwic2V0VGltZW91dCIsImVycm9yIiwibWVzc2FnZSIsImdldE9mZmxpbmVDYWNoZVN0YXR1cyIsImNhY2hlQWdlIiwiaGFzUHJvZHVjdHMiLCJoYXNDYXRlZ29yaWVzIiwicHJvZHVjdENvdW50IiwiY2F0ZWdvcnlDb3VudCIsInBlbmRpbmdPcmRlcnMiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/lib/offline-sync.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/store/pos-store.ts":
/*!********************************!*\
  !*** ./src/store/pos-store.ts ***!
  \********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   usePosStore: () => (/* binding */ usePosStore)\n/* harmony export */ });\n/* harmony import */ var zustand__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! zustand */ \"(app-pages-browser)/./node_modules/zustand/esm/react.mjs\");\n/* harmony import */ var _lib_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/api */ \"(app-pages-browser)/./src/lib/api.ts\");\n/* harmony import */ var _lib_offline_sync__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/offline-sync */ \"(app-pages-browser)/./src/lib/offline-sync.ts\");\n\n\n\nconst usePosStore = (0,zustand__WEBPACK_IMPORTED_MODULE_2__.create)((set, get)=>({\n        user: null,\n        tenant: null,\n        isAuthenticated: false,\n        categories: [],\n        products: [],\n        selectedCategory: null,\n        searchQuery: '',\n        currentOrder: null,\n        isCreatingOrder: false,\n        heldOrders: [],\n        loading: false,\n        error: null,\n        offlineReady: false,\n        login: async (email, password)=>{\n            try {\n                const data = await _lib_api__WEBPACK_IMPORTED_MODULE_0__.api.login(email, password);\n                _lib_api__WEBPACK_IMPORTED_MODULE_0__.api.setToken(data.accessToken);\n                localStorage.setItem('pos_token', data.accessToken);\n                localStorage.setItem('pos_user', JSON.stringify(data.user));\n                localStorage.setItem('pos_tenant', JSON.stringify(data.tenant));\n                set({\n                    user: data.user,\n                    tenant: data.tenant,\n                    isAuthenticated: true\n                });\n                // Cache products for offline use after login\n                (0,_lib_offline_sync__WEBPACK_IMPORTED_MODULE_1__.refreshOfflineCache)().then(()=>set({\n                        offlineReady: true\n                    })).catch(()=>{});\n                return data;\n            } catch (e) {\n                set({\n                    error: e.message\n                });\n                throw e;\n            }\n        },\n        logout: ()=>{\n            _lib_api__WEBPACK_IMPORTED_MODULE_0__.api.clearToken();\n            localStorage.removeItem('pos_token');\n            localStorage.removeItem('pos_user');\n            localStorage.removeItem('pos_tenant');\n            set({\n                user: null,\n                tenant: null,\n                isAuthenticated: false,\n                currentOrder: null,\n                heldOrders: [],\n                categories: [],\n                products: []\n            });\n        },\n        restoreSession: ()=>{\n            if (false) {}\n            const token = localStorage.getItem('pos_token');\n            const user = localStorage.getItem('pos_user');\n            const tenant = localStorage.getItem('pos_tenant');\n            if (token && user && tenant) {\n                _lib_api__WEBPACK_IMPORTED_MODULE_0__.api.setToken(token);\n                set({\n                    user: JSON.parse(user),\n                    tenant: JSON.parse(tenant),\n                    isAuthenticated: true\n                });\n            }\n        },\n        // ── OFFLINE-AWARE LOADERS ──\n        loadCategories: async ()=>{\n            try {\n                const categories = await (0,_lib_offline_sync__WEBPACK_IMPORTED_MODULE_1__.loadCategoriesOfflineAware)();\n                set({\n                    categories\n                });\n            } catch (e) {\n                set({\n                    error: e.message\n                });\n            }\n        },\n        loadProducts: async (categoryId, search)=>{\n            set({\n                loading: true\n            });\n            try {\n                const products = await (0,_lib_offline_sync__WEBPACK_IMPORTED_MODULE_1__.loadProductsOfflineAware)(categoryId, search);\n                set({\n                    products,\n                    loading: false\n                });\n            } catch (e) {\n                set({\n                    loading: false,\n                    error: e.message\n                });\n            }\n        },\n        setSelectedCategory: (id)=>{\n            set({\n                selectedCategory: id\n            });\n            get().loadProducts(id || undefined, get().searchQuery || undefined);\n        },\n        setSearchQuery: (q)=>{\n            set({\n                searchQuery: q\n            });\n            get().loadProducts(get().selectedCategory || undefined, q || undefined);\n        },\n        // ── OFFLINE-AWARE ORDER OPERATIONS ──\n        createOrder: async function() {\n            let type = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 'dine_in', metadata = arguments.length > 1 ? arguments[1] : void 0;\n            set({\n                isCreatingOrder: true,\n                error: null\n            });\n            try {\n                const order = await (0,_lib_offline_sync__WEBPACK_IMPORTED_MODULE_1__.createOrderOfflineAware)(type, metadata);\n                set({\n                    currentOrder: order,\n                    isCreatingOrder: false\n                });\n            } catch (e) {\n                set({\n                    isCreatingOrder: false,\n                    error: e.message\n                });\n            }\n        },\n        addItemToOrder: async function(productId) {\n            let quantity = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 1, notes = arguments.length > 2 ? arguments[2] : void 0;\n            const { currentOrder } = get();\n            if (!currentOrder) return;\n            try {\n                const updated = await (0,_lib_offline_sync__WEBPACK_IMPORTED_MODULE_1__.addItemOfflineAware)(currentOrder, productId, quantity, notes);\n                set({\n                    currentOrder: updated\n                });\n            } catch (e) {\n                set({\n                    error: e.message\n                });\n            }\n        },\n        voidItem: async (itemId, reason)=>{\n            const { currentOrder } = get();\n            if (!currentOrder) return;\n            try {\n                const updated = await (0,_lib_offline_sync__WEBPACK_IMPORTED_MODULE_1__.voidItemOfflineAware)(currentOrder, itemId, reason);\n                set({\n                    currentOrder: updated\n                });\n            } catch (e) {\n                set({\n                    error: e.message\n                });\n            }\n        },\n        processPayment: async (method, amount, cashReceived, reference)=>{\n            const { currentOrder } = get();\n            if (!currentOrder) return;\n            try {\n                const result = await (0,_lib_offline_sync__WEBPACK_IMPORTED_MODULE_1__.processPaymentOfflineAware)(currentOrder, method, amount, cashReceived, reference);\n                if (result.orderStatus === 'completed') {\n                    set((s)=>({\n                            currentOrder: null,\n                            heldOrders: s.heldOrders.filter((o)=>o.id !== currentOrder.id)\n                        }));\n                } else {\n                    set({\n                        currentOrder: result.order || currentOrder\n                    });\n                }\n                return result;\n            } catch (e) {\n                set({\n                    error: e.message\n                });\n            }\n        },\n        cancelOrder: async ()=>{\n            const { currentOrder } = get();\n            if (!currentOrder) return;\n            try {\n                if (currentOrder._offline) {\n                    // Offline order — just remove from IndexedDB\n                    const { deleteOfflineOrder } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! @/lib/offline-db */ \"(app-pages-browser)/./src/lib/offline-db.ts\"));\n                    await deleteOfflineOrder(currentOrder.id);\n                } else {\n                    await _lib_api__WEBPACK_IMPORTED_MODULE_0__.api.cancelOrder(currentOrder.id);\n                }\n                set((s)=>({\n                        currentOrder: null,\n                        heldOrders: s.heldOrders.filter((o)=>o.id !== currentOrder.id)\n                    }));\n            } catch (e) {\n                set({\n                    error: e.message\n                });\n            }\n        },\n        loadOrder: async (id)=>{\n            try {\n                if (id.startsWith('offline-')) {\n                    const { getOfflineOrders } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! @/lib/offline-db */ \"(app-pages-browser)/./src/lib/offline-db.ts\"));\n                    const orders = await getOfflineOrders();\n                    const order = orders.find((o)=>o.id === id);\n                    if (order) set({\n                        currentOrder: order\n                    });\n                } else {\n                    const order = await _lib_api__WEBPACK_IMPORTED_MODULE_0__.api.getOrder(id);\n                    set({\n                        currentOrder: order\n                    });\n                }\n            } catch (e) {\n                set({\n                    error: e.message\n                });\n            }\n        },\n        refreshOrder: async ()=>{\n            const { currentOrder } = get();\n            if (!currentOrder) return;\n            if (currentOrder._offline) return; // Offline orders don't refresh from server\n            try {\n                const order = await _lib_api__WEBPACK_IMPORTED_MODULE_0__.api.getOrder(currentOrder.id);\n                set({\n                    currentOrder: order\n                });\n            } catch (e) {\n                set({\n                    error: e.message\n                });\n            }\n        },\n        // ── Hold / Park ──\n        holdCurrentOrder: ()=>{\n            const { currentOrder, heldOrders } = get();\n            if (!currentOrder) return;\n            const alreadyHeld = heldOrders.some((o)=>o.id === currentOrder.id);\n            set({\n                heldOrders: alreadyHeld ? heldOrders : [\n                    ...heldOrders,\n                    currentOrder\n                ],\n                currentOrder: null\n            });\n        },\n        resumeOrder: (order)=>{\n            const { currentOrder, heldOrders } = get();\n            let updatedHeld = [\n                ...heldOrders\n            ];\n            if (currentOrder) {\n                if (!updatedHeld.some((o)=>o.id === currentOrder.id)) {\n                    updatedHeld.push(currentOrder);\n                }\n            }\n            updatedHeld = updatedHeld.filter((o)=>o.id !== order.id);\n            set({\n                currentOrder: order,\n                heldOrders: updatedHeld\n            });\n        },\n        loadHeldOrders: async ()=>{\n            try {\n                // Load online open orders\n                let onlineOrders = [];\n                try {\n                    const openOrders = await _lib_api__WEBPACK_IMPORTED_MODULE_0__.api.get('/orders/open');\n                    onlineOrders = Array.isArray(openOrders) ? openOrders.filter((o)=>{\n                        const items = Array.isArray(o.items) ? o.items : [];\n                        return items.filter((i)=>i.status !== 'voided').length > 0;\n                    }) : [];\n                } catch (e) {}\n                // Also load offline open orders\n                let offlineOrders = [];\n                try {\n                    const { getOfflineOrders } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! @/lib/offline-db */ \"(app-pages-browser)/./src/lib/offline-db.ts\"));\n                    const all = await getOfflineOrders();\n                    offlineOrders = all.filter((o)=>o.status === 'open' && o.items.some((i)=>i.status === 'active'));\n                } catch (e) {}\n                const allOrders = [\n                    ...onlineOrders,\n                    ...offlineOrders\n                ];\n                set((s)=>({\n                        heldOrders: allOrders.filter((o)=>{\n                            var _s_currentOrder;\n                            return o.id !== ((_s_currentOrder = s.currentOrder) === null || _s_currentOrder === void 0 ? void 0 : _s_currentOrder.id);\n                        })\n                    }));\n            } catch (e) {}\n        },\n        clearOrder: ()=>set({\n                currentOrder: null\n            }),\n        clearError: ()=>set({\n                error: null\n            }),\n        // ── OFFLINE MANAGEMENT ──\n        initOfflineCache: async ()=>{\n            try {\n                const result = await (0,_lib_offline_sync__WEBPACK_IMPORTED_MODULE_1__.refreshOfflineCache)();\n                set({\n                    offlineReady: result.products > 0\n                });\n            } catch (e) {\n                set({\n                    offlineReady: false\n                });\n            }\n        },\n        syncOffline: async ()=>{\n            try {\n                const result = await (0,_lib_offline_sync__WEBPACK_IMPORTED_MODULE_1__.syncOfflineOrders)();\n                if (result.synced > 0) {\n                    console.log(\"[POS] Synced \".concat(result.synced, \" offline orders\"));\n                }\n            } catch (e) {\n                console.warn('[POS] Sync failed:', e);\n            }\n        }\n    }));\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9zdG9yZS9wb3Mtc3RvcmUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFpQztBQUNEO0FBTUo7QUF3Q3JCLE1BQU1VLGNBQWNWLCtDQUFNQSxDQUFXLENBQUNXLEtBQUtDLE1BQVM7UUFDekRDLE1BQU07UUFDTkMsUUFBUTtRQUNSQyxpQkFBaUI7UUFDakJDLFlBQVksRUFBRTtRQUNkQyxVQUFVLEVBQUU7UUFDWkMsa0JBQWtCO1FBQ2xCQyxhQUFhO1FBQ2JDLGNBQWM7UUFDZEMsaUJBQWlCO1FBQ2pCQyxZQUFZLEVBQUU7UUFDZEMsU0FBUztRQUNUQyxPQUFPO1FBQ1BDLGNBQWM7UUFFZEMsT0FBTyxPQUFPQyxPQUFPQztZQUNuQixJQUFJO2dCQUNGLE1BQU1DLE9BQU8sTUFBTTVCLHlDQUFHQSxDQUFDeUIsS0FBSyxDQUFDQyxPQUFPQztnQkFDcEMzQix5Q0FBR0EsQ0FBQzZCLFFBQVEsQ0FBQ0QsS0FBS0UsV0FBVztnQkFDN0JDLGFBQWFDLE9BQU8sQ0FBQyxhQUFhSixLQUFLRSxXQUFXO2dCQUNsREMsYUFBYUMsT0FBTyxDQUFDLFlBQVlDLEtBQUtDLFNBQVMsQ0FBQ04sS0FBS2hCLElBQUk7Z0JBQ3pEbUIsYUFBYUMsT0FBTyxDQUFDLGNBQWNDLEtBQUtDLFNBQVMsQ0FBQ04sS0FBS2YsTUFBTTtnQkFDN0RILElBQUk7b0JBQUVFLE1BQU1nQixLQUFLaEIsSUFBSTtvQkFBRUMsUUFBUWUsS0FBS2YsTUFBTTtvQkFBRUMsaUJBQWlCO2dCQUFLO2dCQUVsRSw2Q0FBNkM7Z0JBQzdDUCxzRUFBbUJBLEdBQUc0QixJQUFJLENBQUMsSUFBTXpCLElBQUk7d0JBQUVjLGNBQWM7b0JBQUssSUFBSVksS0FBSyxDQUFDLEtBQU87Z0JBRTNFLE9BQU9SO1lBQ1QsRUFBRSxPQUFPUyxHQUFRO2dCQUFFM0IsSUFBSTtvQkFBRWEsT0FBT2MsRUFBRUMsT0FBTztnQkFBQztnQkFBSSxNQUFNRDtZQUFHO1FBQ3pEO1FBRUFFLFFB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QUFFYyxjQUFjO2dCQUFNO1lBQUk7UUFDMUM7UUFFQW9GLGFBQWE7WUFDWCxJQUFJO2dCQUNGLE1BQU1wQyxTQUFTLE1BQU1oRSxvRUFBaUJBO2dCQUN0QyxJQUFJZ0UsT0FBT3FDLE1BQU0sR0FBRyxHQUFHO29CQUNyQkMsUUFBUUMsR0FBRyxDQUFDLGdCQUE4QixPQUFkdkMsT0FBT3FDLE1BQU0sRUFBQztnQkFDNUM7WUFDRixFQUFFLE9BQU94RSxHQUFHO2dCQUFFeUUsUUFBUUUsSUFBSSxDQUFDLHNCQUFzQjNFO1lBQUk7UUFDdkQ7SUFDRixJQUFJIiwic291cmNlcyI6WyIvVXNlcnMvY2FybG9zYW1vcmVzL0RvY3VtZW50cy9Qcm95ZWN0b3MvcG9zLXNhcy9hcHBzL3dlYi9zcmMvc3RvcmUvcG9zLXN0b3JlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZSB9IGZyb20gJ3p1c3RhbmQnO1xuaW1wb3J0IHsgYXBpIH0gZnJvbSAnQC9saWIvYXBpJztcbmltcG9ydCB7XG4gIGxvYWRQcm9kdWN0c09mZmxpbmVBd2FyZSwgbG9hZENhdGVnb3JpZXNPZmZsaW5lQXdhcmUsXG4gIGNyZWF0ZU9yZGVyT2ZmbGluZUF3YXJlLCBhZGRJdGVtT2ZmbGluZUF3YXJlLFxuICB2b2lkSXRlbU9mZmxpbmVBd2FyZSwgcHJvY2Vzc1BheW1lbnRPZmZsaW5lQXdhcmUsXG4gIHJlZnJlc2hPZmZsaW5lQ2FjaGUsIHN5bmNPZmZsaW5lT3JkZXJzLFxufSBmcm9tICdAL2xpYi9vZmZsaW5lLXN5bmMnO1xuXG5pbnRlcmZhY2UgUG9zU3RhdGUge1xuICB1c2VyOiBhbnkgfCBudWxsO1xuICB0ZW5hbnQ6IGFueSB8IG51bGw7XG4gIGlzQXV0aGVudGljYXRlZDogYm9vbGVhbjtcbiAgY2F0ZWdvcmllczogYW55W107XG4gIHByb2R1Y3RzOiBhbnlbXTtcbiAgc2VsZWN0ZWRDYXRlZ29yeTogc3RyaW5nIHwgbnVsbDtcbiAgc2VhcmNoUXVlcnk6IHN0cmluZztcbiAgY3VycmVudE9yZGVyOiBhbnkgfCBudWxsO1xuICBpc0NyZWF0aW5nT3JkZXI6IGJvb2xlYW47XG4gIGhlbGRPcmRlcnM6IGFueVtdO1xuICBsb2FkaW5nOiBib29sZWFuO1xuICBlcnJvcjogc3RyaW5nIHwgbnVsbDtcbiAgb2ZmbGluZVJlYWR5OiBib29sZWFuO1xuXG4gIGxvZ2luOiAoZW1haWw6IHN0cmluZywgcGFzc3dvcmQ6IHN0cmluZykgPT4gUHJvbWlzZTxhbnk+O1xuICBsb2dvdXQ6ICgpID0+IHZvaWQ7XG4gIHJlc3RvcmVTZXNzaW9uOiAoKSA9PiB2b2lkO1xuICBsb2FkQ2F0ZWdvcmllczogKCkgPT4gUHJvbWlzZTx2b2lkPjtcbiAgbG9hZFByb2R1Y3RzOiAoY2F0ZWdvcnlJZD86IHN0cmluZywgc2VhcmNoPzogc3RyaW5nKSA9PiBQcm9taXNlPHZvaWQ+O1xuICBzZXRTZWxlY3RlZENhdGVnb3J5OiAoaWQ6IHN0cmluZyB8IG51bGwpID0+IHZvaWQ7XG4gIHNldFNlYXJjaFF1ZXJ5OiAocTogc3RyaW5nKSA9PiB2b2lkO1xuICBjcmVhdGVPcmRlcjogKHR5cGU/OiBzdHJpbmcsIG1ldGFkYXRhPzogYW55KSA9PiBQcm9taXNlPHZvaWQ+O1xuICBhZGRJdGVtVG9PcmRlcjogKHByb2R1Y3RJZDogc3RyaW5nLCBxdWFudGl0eT86IG51bWJlciwgbm90ZXM/OiBzdHJpbmcpID0+IFByb21pc2U8dm9pZD47XG4gIHZvaWRJdGVtOiAoaXRlbUlkOiBzdHJpbmcsIHJlYXNvbjogc3RyaW5nKSA9PiBQcm9taXNlPHZvaWQ+O1xuICBwcm9jZXNzUGF5bWVudDogKG1ldGhvZDogc3RyaW5nLCBhbW91bnQ6IG51bWJlciwgY2FzaFJlY2VpdmVkPzogbnVtYmVyLCByZWZlcmVuY2U/OiBzdHJpbmcpID0+IFByb21pc2U8YW55PjtcbiAgY2FuY2VsT3JkZXI6ICgpID0+IFByb21pc2U8dm9pZD47XG4gIGxvYWRPcmRlcjogKGlkOiBzdHJpbmcpID0+IFByb21pc2U8dm9pZD47XG4gIHJlZnJlc2hPcmRlcjogKCkgPT4gUHJvbWlzZTx2b2lkPjtcbiAgY2xlYXJPcmRlcjogKCkgPT4gdm9pZDtcbiAgY2xlYXJFcnJvcjogKCkgPT4gdm9pZDtcbiAgaG9sZEN1cnJlbnRPcmRlcjogKCkgPT4gdm9pZDtcbiAgcmVzdW1lT3JkZXI6IChvcmRlcjogYW55KSA9PiB2b2lkO1xuICBsb2FkSGVsZE9yZGVyczogKCkgPT4gUHJvbWlzZTx2b2lkPjtcbiAgaW5pdE9mZmxpbmVDYWNoZTogKCkgPT4gUHJvbWlzZTx2b2lkPjtcbiAgc3luY09mZmxpbmU6ICgpID0+IFByb21pc2U8dm9pZD47XG59XG5cbmV4cG9ydCBjb25zdCB1c2VQb3NTdG9yZSA9IGNyZWF0ZTxQb3NTdGF0ZT4oKHNldCwgZ2V0KSA9PiAoe1xuICB1c2VyOiBudWxsLFxuICB0ZW5hbnQ6IG51bGwsXG4gIGlzQXV0aGVudGljYXRlZDogZmFsc2UsXG4gIGNhdGVnb3JpZXM6IFtdLFxuICBwcm9kdWN0czogW10sXG4gIHNlbGVjdGVkQ2F0ZWdvcnk6IG51bGwsXG4gIHNlYXJjaFF1ZXJ5OiAnJyxcbiAgY3VycmVudE9yZGVyOiBudWxsLFxuICBpc0NyZWF0aW5nT3JkZXI6IGZhbHNlLFxuICBoZWxkT3JkZXJzOiBbXSxcbiAgbG9hZGluZzogZmFsc2UsXG4gIGVycm9yOiBudWxsLFxuICBvZmZsaW5lUmVhZHk6IGZhbHNlLFxuXG4gIGxvZ2luOiBhc3luYyAoZW1haWwsIHBhc3N3b3JkKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBhcGkubG9naW4oZW1haWwsIHBhc3N3b3JkKTtcbiAgICAgIGFwaS5zZXRUb2tlbihkYXRhLmFjY2Vzc1Rva2VuKTtcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdwb3NfdG9rZW4nLCBkYXRhLmFjY2Vzc1Rva2VuKTtcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdwb3NfdXNlcicsIEpTT04uc3RyaW5naWZ5KGRhdGEudXNlcikpO1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Bvc190ZW5hbnQnLCBKU09OLnN0cmluZ2lmeShkYXRhLnRlbmFudCkpO1xuICAgICAgc2V0KHsgdXNlcjogZGF0YS51c2VyLCB0ZW5hbnQ6IGRhdGEudGVuYW50LCBpc0F1dGhlbnRpY2F0ZWQ6IHRydWUgfSk7XG5cbiAgICAgIC8vIENhY2hlIHByb2R1Y3RzIGZvciBvZmZsaW5lIHVzZSBhZnRlciBsb2dpblxuICAgICAgcmVmcmVzaE9mZmxpbmVDYWNoZSgpLnRoZW4oKCkgPT4gc2V0KHsgb2ZmbGluZVJlYWR5OiB0cnVlIH0pKS5jYXRjaCgoKSA9PiB7fSk7XG5cbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH0gY2F0Y2ggKGU6IGFueSkgeyBzZXQoeyBlcnJvcjogZS5tZXNzYWdlIH0pOyB0aHJvdyBlOyB9XG4gIH0sXG5cbiAgbG9nb3V0OiAoKSA9PiB7XG4gICAgYXBpLmNsZWFyVG9rZW4oKTtcbiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgncG9zX3Rva2VuJyk7XG4gICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3Bvc191c2VyJyk7XG4gICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3Bvc190ZW5hbnQnKTtcbiAgICBzZXQoeyB1c2VyOiBudWxsLCB0ZW5hbnQ6IG51bGwsIGlzQXV0aGVudGljYXRlZDogZmFsc2UsIGN1cnJlbnRPcmRlcjogbnVsbCwgaGVsZE9yZGVyczogW10sIGNhdGVnb3JpZXM6IFtdLCBwcm9kdWN0czogW10gfSk7XG4gIH0sXG5cbiAgcmVzdG9yZVNlc3Npb246ICgpID0+IHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybjtcbiAgICBjb25zdCB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwb3NfdG9rZW4nKTtcbiAgICBjb25zdCB1c2VyID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Bvc191c2VyJyk7XG4gICAgY29uc3QgdGVuYW50ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Bvc190ZW5hbnQnKTtcbiAgICBpZiAodG9rZW4gJiYgdXNlciAmJiB0ZW5hbnQpIHtcbiAgICAgIGFwaS5zZXRUb2tlbih0b2tlbik7XG4gICAgICBzZXQoeyB1c2VyOiBKU09OLnBhcnNlKHVzZXIpLCB0ZW5hbnQ6IEpTT04ucGFyc2UodGVuYW50KSwgaXNBdXRoZW50aWNhdGVkOiB0cnVlIH0pO1xuICAgIH1cbiAgfSxcblxuICAvLyDilIDilIAgT0ZGTElORS1BV0FSRSBMT0FERVJTIOKUgOKUgFxuXG4gIGxvYWRDYXRlZ29yaWVzOiBhc3luYyAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNhdGVnb3JpZXMgPSBhd2FpdCBsb2FkQ2F0ZWdvcmllc09mZmxpbmVBd2FyZSgpO1xuICAgICAgc2V0KHsgY2F0ZWdvcmllcyB9KTtcbiAgICB9IGNhdGNoIChlOiBhbnkpIHsgc2V0KHsgZXJyb3I6IGUubWVzc2FnZSB9KTsgfVxuICB9LFxuXG4gIGxvYWRQcm9kdWN0czogYXN5bmMgKGNhdGVnb3J5SWQsIHNlYXJjaCkgPT4ge1xuICAgIHNldCh7IGxvYWRpbmc6IHRydWUgfSk7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHByb2R1Y3RzID0gYXdhaXQgbG9hZFByb2R1Y3RzT2ZmbGluZUF3YXJlKGNhdGVnb3J5SWQsIHNlYXJjaCk7XG4gICAgICBzZXQoeyBwcm9kdWN0cywgbG9hZGluZzogZmFsc2UgfSk7XG4gICAgfSBjYXRjaCAoZTogYW55KSB7IHNldCh7IGxvYWRpbmc6IGZhbHNlLCBlcnJvcjogZS5tZXNzYWdlIH0pOyB9XG4gIH0sXG5cbiAgc2V0U2VsZWN0ZWRDYXRlZ29yeTogKGlkKSA9PiB7XG4gICAgc2V0KHsgc2VsZWN0ZWRDYXRlZ29yeTogaWQgfSk7XG4gICAgZ2V0KCkubG9hZFByb2R1Y3RzKGlkIHx8IHVuZGVmaW5lZCwgZ2V0KCkuc2VhcmNoUXVlcnkgfHwgdW5kZWZpbmVkKTtcbiAgfSxcblxuICBzZXRTZWFyY2hRdWVyeTogKHEpID0+IHtcbiAgICBzZXQoeyBzZWFyY2hRdWVyeTogcSB9KTtcbiAgICBnZXQoKS5sb2FkUHJvZHVjdHMoZ2V0KCkuc2VsZWN0ZWRDYXRlZ29yeSB8fCB1bmRlZmluZWQsIHEgfHwgdW5kZWZpbmVkKTtcbiAgfSxcblxuICAvLyDilIDilIAgT0ZGTElORS1BV0FSRSBPUkRFUiBPUEVSQVRJT05TIOKUgOKUgFxuXG4gIGNyZWF0ZU9yZGVyOiBhc3luYyAodHlwZSA9ICdkaW5lX2luJywgbWV0YWRhdGEpID0+IHtcbiAgICBzZXQoeyBpc0NyZWF0aW5nT3JkZXI6IHRydWUsIGVycm9yOiBudWxsIH0pO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBvcmRlciA9IGF3YWl0IGNyZWF0ZU9yZGVyT2ZmbGluZUF3YXJlKHR5cGUsIG1ldGFkYXRhKTtcbiAgICAgIHNldCh7IGN1cnJlbnRPcmRlcjogb3JkZXIsIGlzQ3JlYXRpbmdPcmRlcjogZmFsc2UgfSk7XG4gICAgfSBjYXRjaCAoZTogYW55KSB7IHNldCh7IGlzQ3JlYXRpbmdPcmRlcjogZmFsc2UsIGVycm9yOiBlLm1lc3NhZ2UgfSk7IH1cbiAgfSxcblxuICBhZGRJdGVtVG9PcmRlcjogYXN5bmMgKHByb2R1Y3RJZCwgcXVhbnRpdHkgPSAxLCBub3RlcykgPT4ge1xuICAgIGNvbnN0IHsgY3VycmVudE9yZGVyIH0gPSBnZXQoKTtcbiAgICBpZiAoIWN1cnJlbnRPcmRlcikgcmV0dXJuO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB1cGRhdGVkID0gYXdhaXQgYWRkSXRlbU9mZmxpbmVBd2FyZShjdXJyZW50T3JkZXIsIHByb2R1Y3RJZCwgcXVhbnRpdHksIG5vdGVzKTtcbiAgICAgIHNldCh7IGN1cnJlbnRPcmRlcjogdXBkYXRlZCB9KTtcbiAgICB9IGNhdGNoIChlOiBhbnkpIHsgc2V0KHsgZXJyb3I6IGUubWVzc2FnZSB9KTsgfVxuICB9LFxuXG4gIHZvaWRJdGVtOiBhc3luYyAoaXRlbUlkLCByZWFzb24pID0+IHtcbiAgICBjb25zdCB7IGN1cnJlbnRPcmRlciB9ID0gZ2V0KCk7XG4gICAgaWYgKCFjdXJyZW50T3JkZXIpIHJldHVybjtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdXBkYXRlZCA9IGF3YWl0IHZvaWRJdGVtT2ZmbGluZUF3YXJlKGN1cnJlbnRPcmRlciwgaXRlbUlkLCByZWFzb24pO1xuICAgICAgc2V0KHsgY3VycmVudE9yZGVyOiB1cGRhdGVkIH0pO1xuICAgIH0gY2F0Y2ggKGU6IGFueSkgeyBzZXQoeyBlcnJvcjogZS5tZXNzYWdlIH0pOyB9XG4gIH0sXG5cbiAgcHJvY2Vzc1BheW1lbnQ6IGFzeW5jIChtZXRob2QsIGFtb3VudCwgY2FzaFJlY2VpdmVkLCByZWZlcmVuY2UpID0+IHtcbiAgICBjb25zdCB7IGN1cnJlbnRPcmRlciB9ID0gZ2V0KCk7XG4gICAgaWYgKCFjdXJyZW50T3JkZXIpIHJldHVybjtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcHJvY2Vzc1BheW1lbnRPZmZsaW5lQXdhcmUoY3VycmVudE9yZGVyLCBtZXRob2QsIGFtb3VudCwgY2FzaFJlY2VpdmVkLCByZWZlcmVuY2UpO1xuICAgICAgaWYgKHJlc3VsdC5vcmRlclN0YXR1cyA9PT0gJ2NvbXBsZXRlZCcpIHtcbiAgICAgICAgc2V0KHMgPT4gKHsgY3VycmVudE9yZGVyOiBudWxsLCBoZWxkT3JkZXJzOiBzLmhlbGRPcmRlcnMuZmlsdGVyKG8gPT4gby5pZCAhPT0gY3VycmVudE9yZGVyLmlkKSB9KSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZXQoeyBjdXJyZW50T3JkZXI6IHJlc3VsdC5vcmRlciB8fCBjdXJyZW50T3JkZXIgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0gY2F0Y2ggKGU6IGFueSkgeyBzZXQoeyBlcnJvcjogZS5tZXNzYWdlIH0pOyB9XG4gIH0sXG5cbiAgY2FuY2VsT3JkZXI6IGFzeW5jICgpID0+IHtcbiAgICBjb25zdCB7IGN1cnJlbnRPcmRlciB9ID0gZ2V0KCk7XG4gICAgaWYgKCFjdXJyZW50T3JkZXIpIHJldHVybjtcbiAgICB0cnkge1xuICAgICAgaWYgKGN1cnJlbnRPcmRlci5fb2ZmbGluZSkge1xuICAgICAgICAvLyBPZmZsaW5lIG9yZGVyIOKAlCBqdXN0IHJlbW92ZSBmcm9tIEluZGV4ZWREQlxuICAgICAgICBjb25zdCB7IGRlbGV0ZU9mZmxpbmVPcmRlciB9ID0gYXdhaXQgaW1wb3J0KCdAL2xpYi9vZmZsaW5lLWRiJyk7XG4gICAgICAgIGF3YWl0IGRlbGV0ZU9mZmxpbmVPcmRlcihjdXJyZW50T3JkZXIuaWQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXdhaXQgYXBpLmNhbmNlbE9yZGVyKGN1cnJlbnRPcmRlci5pZCk7XG4gICAgICB9XG4gICAgICBzZXQocyA9PiAoeyBjdXJyZW50T3JkZXI6IG51bGwsIGhlbGRPcmRlcnM6IHMuaGVsZE9yZGVycy5maWx0ZXIobyA9PiBvLmlkICE9PSBjdXJyZW50T3JkZXIuaWQpIH0pKTtcbiAgICB9IGNhdGNoIChlOiBhbnkpIHsgc2V0KHsgZXJyb3I6IGUubWVzc2FnZSB9KTsgfVxuICB9LFxuXG4gIGxvYWRPcmRlcjogYXN5bmMgKGlkKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChpZC5zdGFydHNXaXRoKCdvZmZsaW5lLScpKSB7XG4gICAgICAgIGNvbnN0IHsgZ2V0T2ZmbGluZU9yZGVycyB9ID0gYXdhaXQgaW1wb3J0KCdAL2xpYi9vZmZsaW5lLWRiJyk7XG4gICAgICAgIGNvbnN0IG9yZGVycyA9IGF3YWl0IGdldE9mZmxpbmVPcmRlcnMoKTtcbiAgICAgICAgY29uc3Qgb3JkZXIgPSBvcmRlcnMuZmluZChvID0+IG8uaWQgPT09IGlkKTtcbiAgICAgICAgaWYgKG9yZGVyKSBzZXQoeyBjdXJyZW50T3JkZXI6IG9yZGVyIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3Qgb3JkZXIgPSBhd2FpdCBhcGkuZ2V0T3JkZXIoaWQpO1xuICAgICAgICBzZXQoeyBjdXJyZW50T3JkZXI6IG9yZGVyIH0pO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGU6IGFueSkgeyBzZXQoeyBlcnJvcjogZS5tZXNzYWdlIH0pOyB9XG4gIH0sXG5cbiAgcmVmcmVzaE9yZGVyOiBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgeyBjdXJyZW50T3JkZXIgfSA9IGdldCgpO1xuICAgIGlmICghY3VycmVudE9yZGVyKSByZXR1cm47XG4gICAgaWYgKGN1cnJlbnRPcmRlci5fb2ZmbGluZSkgcmV0dXJuOyAvLyBPZmZsaW5lIG9yZGVycyBkb24ndCByZWZyZXNoIGZyb20gc2VydmVyXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IG9yZGVyID0gYXdhaXQgYXBpLmdldE9yZGVyKGN1cnJlbnRPcmRlci5pZCk7XG4gICAgICBzZXQoeyBjdXJyZW50T3JkZXI6IG9yZGVyIH0pO1xuICAgIH0gY2F0Y2ggKGU6IGFueSkgeyBzZXQoeyBlcnJvcjogZS5tZXNzYWdlIH0pOyB9XG4gIH0sXG5cbiAgLy8g4pSA4pSAIEhvbGQgLyBQYXJrIOKUgOKUgFxuICBob2xkQ3VycmVudE9yZGVyOiAoKSA9PiB7XG4gICAgY29uc3QgeyBjdXJyZW50T3JkZXIsIGhlbGRPcmRlcnMgfSA9IGdldCgpO1xuICAgIGlmICghY3VycmVudE9yZGVyKSByZXR1cm47XG4gICAgY29uc3QgYWxyZWFkeUhlbGQgPSBoZWxkT3JkZXJzLnNvbWUobyA9PiBvLmlkID09PSBjdXJyZW50T3JkZXIuaWQpO1xuICAgIHNldCh7IGhlbGRPcmRlcnM6IGFscmVhZHlIZWxkID8gaGVsZE9yZGVycyA6IFsuLi5oZWxkT3JkZXJzLCBjdXJyZW50T3JkZXJdLCBjdXJyZW50T3JkZXI6IG51bGwgfSk7XG4gIH0sXG5cbiAgcmVzdW1lT3JkZXI6IChvcmRlcikgPT4ge1xuICAgIGNvbnN0IHsgY3VycmVudE9yZGVyLCBoZWxkT3JkZXJzIH0gPSBnZXQoKTtcbiAgICBsZXQgdXBkYXRlZEhlbGQgPSBbLi4uaGVsZE9yZGVyc107XG4gICAgaWYgKGN1cnJlbnRPcmRlcikge1xuICAgICAgaWYgKCF1cGRhdGVkSGVsZC5zb21lKG8gPT4gby5pZCA9PT0gY3VycmVudE9yZGVyLmlkKSkge1xuICAgICAgICB1cGRhdGVkSGVsZC5wdXNoKGN1cnJlbnRPcmRlcik7XG4gICAgICB9XG4gICAgfVxuICAgIHVwZGF0ZWRIZWxkID0gdXBkYXRlZEhlbGQuZmlsdGVyKG8gPT4gby5pZCAhPT0gb3JkZXIuaWQpO1xuICAgIHNldCh7IGN1cnJlbnRPcmRlcjogb3JkZXIsIGhlbGRPcmRlcnM6IHVwZGF0ZWRIZWxkIH0pO1xuICB9LFxuXG4gIGxvYWRIZWxkT3JkZXJzOiBhc3luYyAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIExvYWQgb25saW5lIG9wZW4gb3JkZXJzXG4gICAgICBsZXQgb25saW5lT3JkZXJzOiBhbnlbXSA9IFtdO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgb3Blbk9yZGVyczogYW55ID0gYXdhaXQgYXBpLmdldCgnL29yZGVycy9vcGVuJyk7XG4gICAgICAgIG9ubGluZU9yZGVycyA9IEFycmF5LmlzQXJyYXkob3Blbk9yZGVycylcbiAgICAgICAgICA/IG9wZW5PcmRlcnMuZmlsdGVyKChvOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgaXRlbXMgPSBBcnJheS5pc0FycmF5KG8uaXRlbXMpID8gby5pdGVtcyA6IFtdO1xuICAgICAgICAgICAgICByZXR1cm4gaXRlbXMuZmlsdGVyKChpOiBhbnkpID0+IGkuc3RhdHVzICE9PSAndm9pZGVkJykubGVuZ3RoID4gMDtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgOiBbXTtcbiAgICAgIH0gY2F0Y2gge31cblxuICAgICAgLy8gQWxzbyBsb2FkIG9mZmxpbmUgb3BlbiBvcmRlcnNcbiAgICAgIGxldCBvZmZsaW5lT3JkZXJzOiBhbnlbXSA9IFtdO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgeyBnZXRPZmZsaW5lT3JkZXJzIH0gPSBhd2FpdCBpbXBvcnQoJ0AvbGliL29mZmxpbmUtZGInKTtcbiAgICAgICAgY29uc3QgYWxsID0gYXdhaXQgZ2V0T2ZmbGluZU9yZGVycygpO1xuICAgICAgICBvZmZsaW5lT3JkZXJzID0gYWxsLmZpbHRlcihvID0+IG8uc3RhdHVzID09PSAnb3BlbicgJiYgby5pdGVtcy5zb21lKGkgPT4gaS5zdGF0dXMgPT09ICdhY3RpdmUnKSk7XG4gICAgICB9IGNhdGNoIHt9XG5cbiAgICAgIGNvbnN0IGFsbE9yZGVycyA9IFsuLi5vbmxpbmVPcmRlcnMsIC4uLm9mZmxpbmVPcmRlcnNdO1xuICAgICAgc2V0KHMgPT4gKHtcbiAgICAgICAgaGVsZE9yZGVyczogYWxsT3JkZXJzLmZpbHRlcigobzogYW55KSA9PiBvLmlkICE9PSBzLmN1cnJlbnRPcmRlcj8uaWQpLFxuICAgICAgfSkpO1xuICAgIH0gY2F0Y2gge31cbiAgfSxcblxuICBjbGVhck9yZGVyOiAoKSA9PiBzZXQoeyBjdXJyZW50T3JkZXI6IG51bGwgfSksXG4gIGNsZWFyRXJyb3I6ICgpID0+IHNldCh7IGVycm9yOiBudWxsIH0pLFxuXG4gIC8vIOKUgOKUgCBPRkZMSU5FIE1BTkFHRU1FTlQg4pSA4pSAXG5cbiAgaW5pdE9mZmxpbmVDYWNoZTogYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZWZyZXNoT2ZmbGluZUNhY2hlKCk7XG4gICAgICBzZXQoeyBvZmZsaW5lUmVhZHk6IHJlc3VsdC5wcm9kdWN0cyA+IDAgfSk7XG4gICAgfSBjYXRjaCB7IHNldCh7IG9mZmxpbmVSZWFkeTogZmFsc2UgfSk7IH1cbiAgfSxcblxuICBzeW5jT2ZmbGluZTogYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzeW5jT2ZmbGluZU9yZGVycygpO1xuICAgICAgaWYgKHJlc3VsdC5zeW5jZWQgPiAwKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGBbUE9TXSBTeW5jZWQgJHtyZXN1bHQuc3luY2VkfSBvZmZsaW5lIG9yZGVyc2ApO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHsgY29uc29sZS53YXJuKCdbUE9TXSBTeW5jIGZhaWxlZDonLCBlKTsgfVxuICB9LFxufSkpO1xuIl0sIm5hbWVzIjpbImNyZWF0ZSIsImFwaSIsImxvYWRQcm9kdWN0c09mZmxpbmVBd2FyZSIsImxvYWRDYXRlZ29yaWVzT2ZmbGluZUF3YXJlIiwiY3JlYXRlT3JkZXJPZmZsaW5lQXdhcmUiLCJhZGRJdGVtT2ZmbGluZUF3YXJlIiwidm9pZEl0ZW1PZmZsaW5lQXdhcmUiLCJwcm9jZXNzUGF5bWVudE9mZmxpbmVBd2FyZSIsInJlZnJlc2hPZmZsaW5lQ2FjaGUiLCJzeW5jT2ZmbGluZU9yZGVycyIsInVzZVBvc1N0b3JlIiwic2V0IiwiZ2V0IiwidXNlciIsInRlbmFudCIsImlzQXV0aGVudGljYXRlZCIsImNhdGVnb3JpZXMiLCJwcm9kdWN0cyIsInNlbGVjdGVkQ2F0ZWdvcnkiLCJzZWFyY2hRdWVyeSIsImN1cnJlbnRPcmRlciIsImlzQ3JlYXRpbmdPcmRlciIsImhlbGRPcmRlcnMiLCJsb2FkaW5nIiwiZXJyb3IiLCJvZmZsaW5lUmVhZHkiLCJsb2dpbiIsImVtYWlsIiwicGFzc3dvcmQiLCJkYXRhIiwic2V0VG9rZW4iLCJhY2Nlc3NUb2tlbiIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJKU09OIiwic3RyaW5naWZ5IiwidGhlbiIsImNhdGNoIiwiZSIsIm1lc3NhZ2UiLCJsb2dvdXQiLCJjbGVhclRva2VuIiwicmVtb3ZlSXRlbSIsInJlc3RvcmVTZXNzaW9uIiwidG9rZW4iLCJnZXRJdGVtIiwicGFyc2UiLCJsb2FkQ2F0ZWdvcmllcyIsImxvYWRQcm9kdWN0cyIsImNhdGVnb3J5SWQiLCJzZWFyY2giLCJzZXRTZWxlY3RlZENhdGVnb3J5IiwiaWQiLCJ1bmRlZmluZWQiLCJzZXRTZWFyY2hRdWVyeSIsInEiLCJjcmVhdGVPcmRlciIsInR5cGUiLCJtZXRhZGF0YSIsIm9yZGVyIiwiYWRkSXRlbVRvT3JkZXIiLCJwcm9kdWN0SWQiLCJxdWFudGl0eSIsIm5vdGVzIiwidXBkYXRlZCIsInZvaWRJdGVtIiwiaXRlbUlkIiwicmVhc29uIiwicHJvY2Vzc1BheW1lbnQiLCJtZXRob2QiLCJhbW91bnQiLCJjYXNoUmVjZWl2ZWQiLCJyZWZlcmVuY2UiLCJyZXN1bHQiLCJvcmRlclN0YXR1cyIsInMiLCJmaWx0ZXIiLCJvIiwiY2FuY2VsT3JkZXIiLCJfb2ZmbGluZSIsImRlbGV0ZU9mZmxpbmVPcmRlciIsImxvYWRPcmRlciIsInN0YXJ0c1dpdGgiLCJnZXRPZmZsaW5lT3JkZXJzIiwib3JkZXJzIiwiZmluZCIsImdldE9yZGVyIiwicmVmcmVzaE9yZGVyIiwiaG9sZEN1cnJlbnRPcmRlciIsImFscmVhZHlIZWxkIiwic29tZSIsInJlc3VtZU9yZGVyIiwidXBkYXRlZEhlbGQiLCJwdXNoIiwibG9hZEhlbGRPcmRlcnMiLCJvbmxpbmVPcmRlcnMiLCJvcGVuT3JkZXJzIiwiQXJyYXkiLCJpc0FycmF5IiwiaXRlbXMiLCJpIiwic3RhdHVzIiwibGVuZ3RoIiwib2ZmbGluZU9yZGVycyIsImFsbCIsImFsbE9yZGVycyIsImNsZWFyT3JkZXIiLCJjbGVhckVycm9yIiwiaW5pdE9mZmxpbmVDYWNoZSIsInN5bmNPZmZsaW5lIiwic3luY2VkIiwiY29uc29sZSIsImxvZyIsIndhcm4iXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/store/pos-store.ts\n"));

/***/ })

});